<!DOCTYPE html>
<html lang="en">
<head>
  <title>Unity Ads WebView</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />

  <!--
    /**
     * EventTarget implementation taken from MDN https://developer.mozilla.org/en-US/docs/Web/API/EventTarget
     * Licensed under the CC-By-SA license. (c) Mozilla Contributers. All Rights Reserved.
     * https://developer.mozilla.org/en-US/docs/MDN/About#Using_MDN_Web_Docs_content
    */
    /*
     * A TypeScript implementation of the Secure Hash Algorithm, SHA-1, as defined
     * in FIPS PUB 180-1
     *
     * This file is derived from JavaScript MD5 project ( http://pajhome.org.uk/crypt/md5/ )
     * and is modified for oauth-typescript project.
     *
     * Copyright 2000-2002 Paul Johnston.
     * (Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet)
     * Copyright 2015 NOBUOKA Yu.
     *
     * Licensed under the BSD License.
     *
     *   1. Redistributions of source code must retain the above copyright notice,
     *     this list of conditions and the following disclaimer.
     *   2. Redistributions in binary form must reproduce the above copyright notice,
     *     this list of conditions and the following disclaimer in the documentation
     *     and/or other materials provided with the distribution.
     *   3. Neither the name of the copyright holder nor the names of its contributors
     *     may be used to endorse or promote products derived from this software
     *     without specific prior written permission.
     *
     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
     * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
     * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
     * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
     * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
     * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
     * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
     * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
     * POSSIBILITY OF SUCH DAMAGE.
     */
  -->
  <style>html{width:100%;height:100%;background-color:transparent;font-size:16px}body.iphone,body.ipad,body.android{margin:0;padding:0;width:100%;height:100%;background-color:transparent;color:#000;font-family:Helvetica,sans-serif;-webkit-text-size-adjust:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-user-drag:none}@font-face{font-family:"unityicons";src:url("data:application/x-font-ttf;base64,AAEAAAANAIAAAwBQRkZUTXwvKbAAAA7MAAAAHEdERUYAPAAGAAAOrAAAACBPUy8yL5pMbQAAAVgAAABWY21hcOAn4+QAAAHYAAABUmdhc3D//wADAAAOpAAAAAhnbHlmHRlyIwAAA0wAAAkQaGVhZBELx/QAAADcAAAANmhoZWEEQQIFAAABFAAAACRobXR4Bu8BYAAAAbAAAAAmbG9jYQyUDqwAAAMsAAAAIG1heHAAWQCeAAABOAAAACBuYW1lYcLKkQAADFwAAAGtcG9zdDwkND0AAA4MAAAAlwABAAAAAQAAz/3xuF8PPPUACwIAAAAAANf4w3AAAAAA1/jDcAABAAAB+wIXAAAACAACAAAAAAAAAAEAAAIXAAAALgIAAAAAAAH7AAEAAAAAAAAAAAAAAAAAAAAEAAEAAAAPAJsACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAQIAAZAABQAIAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAIABQkAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUGZFZABA4ADgEQHg/+AALgIXAAAAAAABAAAAAAAAAgAAAAAAAAACAAAAAgAANwASACAAJgAmAE8AWgBGAIgAIAABAAIAAAAAAAMAAAADAAAAHAABAAAAAABMAAMAAQAAABwABAAwAAAACAAIAAIAAAAA4AngEf//AAAAAOAA4BD//wAAIAMf/QABAAAAAAAAAAAAAAEGAAABAAAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcANQBHgGGAfQCNgJsApYCzAL+A64EiAAGADcAIAHJAfsACwAXACYARgBeAG0AABMyNzY0JyYjIgYUFjMyNjQmIyIHBhQXFgYyFh0BFAcGIicmPQE0NyUVFAcGKwEVFAcGIicmPQEjFRQHBiInJjUnIyInJj0BNxYXFhUhNDc2NycmNzYfATYyFzc2FxYHFxUUBwYiJyY9ATQ2MhcWxAQEAwMEBAUGBn0FBgYFBAQDAwXyGhAICRgJCAgBRAkJDRUJCRgJCCgICRgJCAEVDQkJxCEQEv74EhEgFAIDBAIVGzwbFQIEAwJ0CAkYCQgQGggIAZYDAwoDAwYKBgYKBgMDCgMDNRANew0HCQkIDHsLCgO+DAsJQQ0HCQkIDEFBDAgJCQgMQQkLDL50EhocIiIcGhIlBQEBAyYMDCYDAQEFsXsMCAkJBw17DRAICgAAAAABABIAUQHuAhcAIwAAARQPARcVFAcGIyIvAQcGIyInJjU0PwEnJjU0PwI2Mh8CFgHuCGcYAwMFBAiAgAgEBgMDARhoBxCQQAYQBkCQEAFnBghljwUHAwUEQ0MEBQMHAwKPZQsDCwIVggwMghUCAAAABAAgAEAB4AIAAAkAFQAhADMAAAEyNjU0JiIGFBY3IgYVFBYzMjY1NCYDIiY1NDYzMhYVFAYnNCYrASIGFTMVFBY7ATI2NSMBAA4SExoTEw1chIRcXYODXUJeXkJDXV0jFAwgDBQgFAwgDBQgAWASDg0TExoToIRcXYODXVyE/oBdQ0JeXkJDXaAMFBQMYAwUFAwAAAMAJgBtAdoB0wAZADEARgAAASMnIyYPAQYfATUVHgEHNQcGHwEWPwEjNjQnNScmByMVBwYfATMWFA8BBh8BFj8BNjQnIg8CIyIdARQ7AR8BFjMyPQERJgGUAQkBCQkRBwcKNwE3CgcIEQkJCgFGdwoKCAERBwcKARsbCggJEgkICil/BAFpKEoICEo7VQQCCwIByQoICREJCQoBATedNwEKCwgRBwcKRsYCAQoHCAERCQgKHEwcCgkJEgcHCit2SwE9FwhpCCIxAgoCAQ4JAAAFACYAaAHYAdgADwAfACYANwBFAAABFR8BFgcXNiYvASYHIwcGNyMnIyYPAQYfAR4BBxc2JicmIyIPARcnIyIdARQ7AR8BFjMyPQInBQEmBxUHBhcBFj8BNTYBNQoBIwopERAgCgoIAREHZgEJAQkJEQcHCioVGCUmFbQCCQMCLDyhSggISjtVAgQLmAE2/rUJCRIJCQFLCQkSCQFsAQkBIy8pJ1ggCgcIEQlVCggJEggJCip2NCVEoAwKAhk8AghqCCIxAQoBMZfJAUsJCQESCQn+tQkJEgEJAAAAAQBPAGsBsQHVACoAAAE0JyYPAiYiBhQWMzI2NzY1Ji8BJgcGIyImNDYzMhcPAQYXFB8BFjc2NQGxBAMFHwI1lmpqSy1QGQICAi0IBh86LD8/LCYcBR4FAgWCBAMDAbEFAgICFgI1apZqKiYCBAUBIAUILz9YPxcDFgMFBAIsAgMCBAAAAQBaAGUBpgHbACIAACUvATY3NjU0Jy4BIyIGBwYVFBcWFw8BBh0BFBYzITI2PQE0AZpQIhYNCgQILB0cLQgECw0WIFMMCwgBJggL6yYQDRwXFw8MHyknHxILGRgaDQ8mBw5bCQ0NCVsPAAAAAQBGAKcBugGZABsAAAE0LwEmIyIdAScmIyIdARQzMj8BFRQzMj8BNTYBugXAAgQIkgQCCQkCBJIIAwTABAEgBgJvAghOVAII4ggCVE4IAm8BAgAAAQCIAJwBeAGlACAAACUWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwFvCQkKGApEQwoYCggIR0cICAoYCkNEChgKCQlHR9AJGgkICE5OCAgIHAhQUQgcCAgITk4ICAkaCVFQAAAABgAgAGAB4AHgAAMABwANABMAGQAfAAA3IREhFzMVIyczNSMVMxUjFTM1IwEVMxUzNQMjFTM1I2ABQP7AQMDAYGCAICCAYAEgYCAgYIAgoAEAQIDgIICAgCABYCBggP6gIIAAAAQAAQAAAfsCAAAqAE8AaQCAAAAlMhYVFAcGDwEGFRQfARY7ATc2PwE2OwExMhYVFA8BBisBIg8BJzc2PwEzNSMHBg8BBhUUHwEWMzI/ATMyPwE2NTQmIyIPAic3PgE1NCYjNyciJiMxIiMPAQYdARQXFhc7ATY3NjUxNTQPAQYiLwEmND8BNjIfATc2MzEyHwEWFAEqCg4DBQo3EQQGBwwDUQcGWQcJAQoOB3QHD7cJBx1ZcgcLiAMGiBENdgYEYQYHCQQgtxYQdAocFBAMWVEGNw8TGxO0YAEDAQECAl8HHxwsAQcrHh81QAEGAR4BAQgCBAISNQEDAwEHAu0OCgcFCQIPBREGCAgKCQEFVAcOCgsHcQkHH1liBQISFxICC2UECgUGYQYGIhBxDRAUHAlUCQgQBBkQFBvcHwEBHwQHQDIpJQ4MJykyQAc5QAEBHQEGAQgCAhI1AQEIAgQAAAAIAAIAnwH3AWgAHgApAEkAawB+AIIAjwCaAAABNiYnJiMhIyImIyIHIgcGBwYHBhceATMhMjc2NzY1BSImNT4BMzIWFAY3MhcWFxYGKwEiJicmJyIrASYHFQ4BIyI3Njc+ATc2MxciJicmJy4BBwYdARQjBiY9AjQ7ATIXFhcWBwYXFhcWBiQiPQEmJyMGBwYzFh0BFBYzMjcmMjQiBSYHMB0BFDMyNzY3NgcjBgcGFzAzMicmAfcBIxMHDf7GCAIJAgMCEgkgEwgCAgUIMx0BRREJIxUB/nEdKgEpHR4pKYwJAwghAwIJAwoFAwQDAgoYCAMECQ8HAwEEBhkGAgyjDwcHCAUCEAMCCA4FCSoHChgDBRQHBA4GAwL+0hACDBAHAwYJCAkODQQoHBwBKhUBCBADDQICiwICBQUDFAYCBgErEicCAQEBAw0hDBsdExslAQQnAgMTKh0dKSo6KYcIF1cIAwMKDAEBCAINBAUHCRFAEQqBBQ0QCAQDAwIFHwgBBQ4vNwkCCBUaDgUIGAwGAxYLHg4CAgQIAQgbDQgHThwOAQQPDAgBAw4UDwURFAEFFQAAAAAMAJYAAQAAAAAAAQAKABYAAQAAAAAAAgAHADEAAQAAAAAAAwAnAIkAAQAAAAAABAAKAMcAAQAAAAAABQALAOoAAQAAAAAABgAKAQwAAwABBAkAAQAUAAAAAwABBAkAAgAOACEAAwABBAkAAwBOADkAAwABBAkABAAUALEAAwABBAkABQAWANIAAwABBAkABgAUAPYAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIAB1AG4AaQB0AHkAaQBjAG8AbgBzACAAOgAgADIANgAtADEAMAAtADIAMAAxADgAAEZvbnRGb3JnZSAyLjAgOiB1bml0eWljb25zIDogMjYtMTAtMjAxOAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAVgBlAHIAcwBpAG8AbgAgADEALgAwAABWZXJzaW9uIDEuMAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAAAAAAgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAPAAAAAQACAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENB2FuZHJvaWQEc3RhcgRpbmZvBnZvbHVtZQt2b2x1bWUtbXV0ZQZyZWxvYWQGcGVyc29uBHNraXAFY2xvc2ULc2NyZWVuLWZ1bGwEZ2RwcgdpbmZvLWFyAAAAAAH//wACAAEAAAAOAAAAGAAAAAAAAgABAAMADgABAAQAAAACAAAAAAABAAAAAMw9os8AAAAA1/jDcAAAAADX+MNw") format("truetype")}[data-icon]:before{content:attr(data-icon);font-family:"unityicons" !important}[class^="icon-"]:before,[class*=" icon-"]:before{font-family:"unityicons" !important}.icon-android:before{content:"\e000"}.icon-star:before{display:inline-block;width:1em;content:"\e001"}.icon-info:before{content:"\e002"}.icon-volume:before{content:"\e003"}.icon-volume-mute:before{content:"\e004"}.icon-reload:before{content:"\e005"}.icon-person:before{content:"\e006"}.icon-skip:before{content:"\e007"}.icon-close:before{content:"\e008"}.icon-screen-full:before{content:"\e009"}.icon-gdpr:before{content:"\e010"}.icon-info-ar:before{content:"\e011"}#overlay{position:fixed;width:100%;height:100%;background-color:transparent;color:#fff;pointer-events:none;}#overlay .skip-hit-area{position:fixed;top:0;left:0;width:70px;height:55px;pointer-events:auto}#overlay .skip{position:absolute;top:10px;left:10px;width:36px;height:36px}#overlay .close-icon,#overlay .skip-icon{position:absolute;top:50%;left:15%;width:27px;height:29px;font-size:27px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#overlay .skip .circle-left,#overlay .skip .circle-right{border:4px solid #777}#overlay .skip .close-icon,#overlay .skip .skip-icon{color:#777}#overlay .skip.enabled .circle-left,#overlay .skip.enabled .circle-right{border:4px solid #fff}#overlay .skip.enabled .close-icon,#overlay .skip.enabled .skip-icon{color:#fff}#overlay .skip:not(.close-icon-skip) .skip-icon{display:block}#overlay .skip:not(.close-icon-skip) .close-icon{display:none}#overlay .skip.close-icon-skip .skip-icon{display:none}#overlay .skip.close-icon-skip .close-icon{display:block}#overlay .mute-button{position:fixed;bottom:0;left:0;width:70px;height:55px;pointer-events:auto;}#overlay .mute-button .mute-icon,#overlay .mute-button .unmute-icon{position:absolute;bottom:10px;left:10px;height:27px;font-size:27px}#overlay .mute-button .unmute-icon{display:none}#overlay .mute-button.muted .mute-icon{display:none}#overlay .mute-button.muted .unmute-icon{display:block}#overlay .call-button{position:fixed;right:10px;bottom:0;display:none;font-weight:bold;-webkit-transform:translate(0,-50%);transform:translate(0,-50%);pointer-events:auto}#overlay .buffering-spinner{position:absolute;top:0;right:0;bottom:0;left:0;display:none;margin:auto;width:100px;height:65px}#overlay .spinner-animation{margin:0 auto;width:24px;height:24px;border:4px solid #fff;border-right-color:transparent;border-left-color:transparent;border-radius:200px;-webkit-animation:spinner 1s linear infinite;animation:spinner 1s linear infinite}#overlay .debug-message-text{position:absolute;top:50%;right:10px;display:none;pointer-events:auto}#overlay .spinner-text{margin-top:10px;color:#fff;text-align:center;text-shadow:1px 1px #000;font-weight:bold}#overlay .progress{position:fixed;top:0;right:0;display:none;padding:10px;width:36px;height:36px}#overlay .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#overlay .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;content:attr(data-seconds);font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#overlay .circle-base,#overlay .circle-left,#overlay .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#overlay .circle-base{border:4px solid rgba(105,105,105,0.4)}#overlay .circle-left,#overlay .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#overlay .progress-wrapper,#overlay .circle-left,#overlay .circle-right{-webkit-animation-duration:.01s;animation-duration:.01s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-timing-function:linear;animation-timing-function:linear}#overlay .gdpr-pop-up{position:fixed;bottom:0;width:100%;background-color:#161616;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);pointer-events:auto;}#overlay .gdpr-pop-up .gdpr-text{z-index:110;padding:.5rem;color:#fff;text-align:center;font-size:.5rem;}#overlay .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#overlay .privacy-button{position:fixed;bottom:4px;left:50%;margin:0 0 0 -13px;pointer-events:auto;}#overlay .privacy-button .icon-gdpr{color:#fff}#overlay .tencent-advertisement{position:fixed;padding:.7rem;color:#fff;font-size:.75rem}@-webkit-keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fade{opacity:0;-webkit-transition:opacity .45s ease-in-out;transition:opacity .45s ease-in-out}.slide-up{-webkit-transform:translateY(-150%);transform:translateY(-150%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-down{-webkit-transform:translateY(150%);transform:translateY(150%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-back-in-place{-webkit-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform .2s ease-in-out;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out, -webkit-transform .2s ease-in-out}@-webkit-keyframes right-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes right-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@-webkit-keyframes left-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes left-spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes close-progress-wrapper{to{clip:rect(auto,auto,auto,auto)}}@keyframes close-progress-wrapper{to{clip:rect(auto,auto,auto,auto)}}#closable-video-overlay{width:100%;height:100%;background-color:transparent;color:#fff;pointer-events:none;}#closable-video-overlay .mute-button{position:fixed;bottom:0;left:0;display:none;width:70px;height:55px;pointer-events:auto;}#closable-video-overlay .mute-button .mute-icon,#closable-video-overlay .mute-button .unmute-icon{position:absolute;bottom:10px;left:10px;height:27px;font-size:27px}#closable-video-overlay .mute-button .unmute-icon{display:none}#closable-video-overlay .mute-button.muted .mute-icon{display:none}#closable-video-overlay .mute-button.muted .unmute-icon{display:block}#closable-video-overlay .call-button{position:fixed;right:10px;bottom:10px;display:none;font-weight:bold;-webkit-transform:translate(0,-50%);transform:translate(0,-50%);pointer-events:auto}#closable-video-overlay .buffering-spinner{position:absolute;top:0;right:0;bottom:0;left:0;display:none;margin:auto;width:100px;height:65px}#closable-video-overlay .spinner-animation{margin:0 auto;width:24px;height:24px;border:4px solid #fff;border-right-color:transparent;border-left-color:transparent;border-radius:200px;-webkit-animation:spinner 1s linear infinite;animation:spinner 1s linear infinite}#closable-video-overlay .debug-message-text{position:absolute;top:50%;right:10px;display:none;pointer-events:auto}#closable-video-overlay .spinner-text{margin-top:10px;color:#fff;text-align:center;text-shadow:1px 1px #000;font-weight:bold}#closable-video-overlay .close-region{position:fixed;top:2px;right:2px;width:50px;height:50px;opacity:.4;pointer-events:auto}#closable-video-overlay .icon-close{position:absolute;top:6px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#closable-video-overlay .close{position:absolute;top:50%;left:8px;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#closable-video-overlay .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#closable-video-overlay .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#closable-video-overlay .circle-base,#closable-video-overlay .circle-left,#closable-video-overlay .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#closable-video-overlay .circle-base{border:4px solid #696969}#closable-video-overlay .circle-left,#closable-video-overlay .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#closable-video-overlay .progress-wrapper,#closable-video-overlay .circle-left,#closable-video-overlay .circle-right{-webkit-animation-iteration-count:1;-webkit-animation-fill-mode:forwards;-webkit-animation-timing-function:linear;-webkit-animation-duration:.01s}@-webkit-keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.slide-up{-webkit-transform:translateY(-150%);transform:translateY(-150%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-down{-webkit-transform:translateY(150%);transform:translateY(150%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}.slide-back-in-place{-webkit-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform .2s ease-in-out;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out, -webkit-transform .2s ease-in-out}#new-video-overlay{position:fixed;width:100%;height:100%;background-color:transparent;color:#fff;font-size:16px;-webkit-transition:opacity .45s ease-in;transition:opacity .45s ease-in;}#new-video-overlay .slide-in-from-left{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}#new-video-overlay .top-container,#new-video-overlay .show-skip-button{display:none}#new-video-overlay .bottom-container{display:block;height:.3em;}#new-video-overlay .bottom-container .left-corner,#new-video-overlay .bottom-container .center{display:none}#new-video-overlay .bottom-container .left-corner,#new-video-overlay .bottom-container .right-corner{top:auto;bottom:.3em}#new-video-overlay.fade-in .skip-button,#new-video-overlay .skip-button{display:none}#new-video-overlay.fade-in .top-container,#new-video-overlay.fade-in .show-skip-button{display:block}#new-video-overlay.fade-in .bottom-container .left-corner,#new-video-overlay.fade-in .bottom-container .center{display:block}#new-video-overlay .skip-button:not(.close-icon-skip):not(.next-icon-skip) .icon-skip{display:block}#new-video-overlay .skip-button:not(.close-icon-skip):not(.next-icon-skip) .icon-close{display:none}#new-video-overlay .skip-button:not(.close-icon-skip):not(.next-icon-skip) .test-icon-next{display:none}#new-video-overlay .skip-button.next-icon-skip .icon-skip{display:none}#new-video-overlay .skip-button.next-icon-skip .icon-close{display:none}#new-video-overlay .skip-button.next-icon-skip .test-icon-next{display:block}#new-video-overlay .skip-button.close-icon-skip .icon-skip{display:none}#new-video-overlay .skip-button.close-icon-skip .icon-close{display:block}#new-video-overlay .skip-button.close-icon-skip .test-icon-next{display:none}#new-video-overlay .button{width:2.2em;height:2em}#new-video-overlay .margin-fixer{position:relative}#new-video-overlay .right-corner,#new-video-overlay .left-corner{z-index:10}#new-video-overlay .right-corner{position:absolute;top:0;right:0}#new-video-overlay .left-corner{position:absolute;top:0;left:0}#new-video-overlay .top-container{position:absolute;top:0;left:0;width:100%;height:2em;}#new-video-overlay .top-container .left-corner,#new-video-overlay .top-container .right-corner{top:.3em}#new-video-overlay .bottom-container{position:absolute;top:auto;bottom:0;left:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:2em;}#new-video-overlay .bottom-container .center,#new-video-overlay .bottom-container .tab{top:auto;bottom:.3em}#new-video-overlay .bottom-container .center{position:absolute;z-index:1;margin:auto;width:100%}#new-video-overlay .button-right{right:0;left:auto;}#new-video-overlay .button-right .tab{right:0;left:auto;border-radius:.2em 0 0 .2em}#new-video-overlay .tab{position:absolute;top:.3em;left:0;width:2em;height:1.5em;border-radius:0 .2em .2em 0;background-color:rgba(0,0,0,0.54);color:"#f1f1f1";text-align:center;text-shadow:.01em .01em .025em rgba(0,0,0,0.8),0 0 .1em #000;font-weight:300}#new-video-overlay .icon,#new-video-overlay .text{font-size:.65em}#new-video-overlay .gdpr-button{position:absolute;top:0;left:2.2em;}#new-video-overlay .gdpr-button .tab{bottom:.54em;width:1em;height:1em;border-radius:.2em}#new-video-overlay .gdpr-button .icon-container{line-height:.8em}#new-video-overlay .gdpr-button .icon{font-size:.5em}#new-video-overlay .call-button .tab{line-height:1.31em}#new-video-overlay .call-button{-webkit-transform:translateX(100%);transform:translateX(100%);-webkit-transition:-webkit-transform .3s ease-in;transition:-webkit-transform .3s ease-in;transition:transform .3s ease-in;transition:transform .3s ease-in, -webkit-transform .3s ease-in}#new-video-overlay .show-call-button{-webkit-transform:translateX(0%);transform:translateX(0%)}#new-video-overlay .vast-button{display:none;width:6em;}#new-video-overlay .vast-button .tab{width:6em;text-align:left}#new-video-overlay .vast-button .text{margin-left:.8em;text-align:center}#new-video-overlay .vast-button .go-text{position:absolute;margin-top:.55em;margin-left:.55em;width:2.4em;height:1.7em;border:1px solid;border-radius:.25em;font-size:.8em;line-height:1.85em;-webkit-transform:translateX(200%);transform:translateX(200%);-webkit-transition:-webkit-transform .6s ease-in;transition:-webkit-transform .6s ease-in;transition:transform .6s ease-in;transition:transform .6s ease-in, -webkit-transform .6s ease-in}#new-video-overlay .show-go-text .go-text{-webkit-transform:translateX(0%);transform:translateX(0%)}#new-video-overlay .install-button{display:none;width:7.5em;height:3em;}#new-video-overlay .install-button .tab{width:7.5em;height:2.3em;text-align:left}#new-video-overlay .install-button .download-wrapper{position:relative;}#new-video-overlay .install-button .download-wrapper .game-icon{width:1.7em;height:1.7em;border-radius:.25em;background-position:center;background-size:cover;background-repeat:no-repeat;margin:.3em}#new-video-overlay .install-button .download-wrapper .download-container{position:absolute;top:0;left:2.3em;width:4.5em;height:1.7em;border-radius:.25em;background:#167dfb;color:#fff;text-align:center;line-height:1.5em}#new-video-overlay .install-button .download-wrapper .download-text{text-shadow:none;font-size:.65em}#new-video-overlay .timer-container,#new-video-overlay .icon-container{line-height:1.55em}#new-video-overlay .icon-volume-mute{display:none}#new-video-overlay .icon-volume{display:block}#new-video-overlay .muted .icon-volume-mute{display:block}#new-video-overlay .muted .icon-volume{display:none}#new-video-overlay .timer{font-size:.6em}#new-video-overlay .buffering-spinner{position:absolute;top:0;right:0;bottom:0;left:0;display:none;margin:auto;width:100px;height:65px}#new-video-overlay .spinner-animation{margin:0 auto;width:24px;height:24px;border:4px solid #fff;border-right-color:transparent;border-left-color:transparent;border-radius:200px;-webkit-animation:spinner 1s linear infinite;animation:spinner 1s linear infinite}#new-video-overlay .debug-message-text{position:absolute;top:50%;right:10px;display:none}#new-video-overlay .spinner-text{margin-top:10px;color:#fff;text-align:center;text-shadow:1px 1px #000;font-weight:bold}#new-video-overlay .tencent-advertisement{position:fixed;padding:.7rem;color:#fff;font-size:.75rem}#new-video-overlay:not(.show-gdpr-banner) .gdpr-pop-up{display:none}#new-video-overlay.show-gdpr-banner .gdpr-pop-up{position:absolute;bottom:0;z-index:100;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;background-color:#fafafa;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);opacity:1;position:static;margin:auto;width:50%;height:1.5em;border-radius:.2em;pointer-events:1;}#new-video-overlay.show-gdpr-banner .gdpr-pop-up .gdpr-text{padding:.5em;font-size:.5em}#new-video-overlay.show-gdpr-banner .gdpr-pop-up .icon-gdpr{margin:0 .5rem;color:#000;opacity:.25}#new-video-overlay.show-gdpr-banner .gdpr-pop-up .gdpr-text{z-index:110;padding:.5rem .5rem .5rem 0;width:80%;text-align:center;}#new-video-overlay.show-gdpr-banner .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#new-video-overlay.show-gdpr-banner .gdpr-pop-up .icon-gdpr{font-size:.5em}#new-video-overlay.show-gdpr-banner .gdpr-pop-up .gdpr-text{color:#000;font-size:.35em}#new-video-overlay:not(.show-gdpr-button) .gdpr-button{display:none}#new-video-overlay.show-gdpr-button .gdpr-button{display:block;pointer-events:1}@media (orientation:portrait){#new-video-overlay.show-gdpr-banner .bottom-container{height:4em;}#new-video-overlay.show-gdpr-banner .bottom-container .left-corner,#new-video-overlay.show-gdpr-banner .bottom-container .right-corner{bottom:auto}#new-video-overlay.show-gdpr-banner .bottom-container .center{bottom:0;}#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up{width:90%;border-radius:.2em .2em 0 0}}@media only screen and (orientation:landscape){#new-video-overlay #new-video-overlay .install-button{-webkit-transform:translateX(120%);transform:translateX(120%);-webkit-transition:-webkit-transform .3s ease-in;transition:-webkit-transform .3s ease-in;transition:transform .3s ease-in;transition:transform .3s ease-in, -webkit-transform .3s ease-in}#new-video-overlay #new-video-overlay .show-call-button{-webkit-transform:translateX(0%);transform:translateX(0%)}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){#new-video-overlay .bottom-container{margin-bottom:constant(safe-area-inset-bottom);margin-bottom:env(safe-area-inset-bottom)}#new-video-overlay .top-container{margin-top:calc(constant(safe-area-inset-top));margin-top:calc(env(safe-area-inset-top))}#new-video-overlay .button-left .tab{padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left)}#new-video-overlay .button-left{width:calc(constant(safe-area-inset-left) + 2.2em);width:calc(env(safe-area-inset-left) + 2.2em)}#new-video-overlay .button-right .tab{padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}#new-video-overlay .button-right{width:calc(constant(safe-area-inset-right) + 2.2em);width:calc(env(safe-area-inset-right) + 2.2em)}#new-video-overlay .call-button{width:calc(constant(safe-area-inset-right) + 6em);width:calc(env(safe-area-inset-right) + 6em)}#new-video-overlay .gdpr-button{left:calc(2.2em + constant(safe-area-inset-left));left:calc(2.2em + env(safe-area-inset-left))}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3){#new-video-overlay .bottom-container{margin-bottom:constant(safe-area-inset-bottom);margin-bottom:env(safe-area-inset-bottom)}#new-video-overlay .top-container{margin-top:calc(constant(safe-area-inset-top));margin-top:calc(env(safe-area-inset-top))}#new-video-overlay .button-left .tab{padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left)}#new-video-overlay .button-left{width:calc(constant(safe-area-inset-left) + 2.2em);width:calc(env(safe-area-inset-left) + 2.2em)}#new-video-overlay .button-right .tab{padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}#new-video-overlay .button-right{width:calc(constant(safe-area-inset-right) + 2.2em);width:calc(env(safe-area-inset-right) + 2.2em)}#new-video-overlay .call-button{width:calc(constant(safe-area-inset-right) + 6em);width:calc(env(safe-area-inset-right) + 6em)}#new-video-overlay .gdpr-button{left:calc(2.2em + constant(safe-area-inset-left));left:calc(2.2em + env(safe-area-inset-left))}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2){#new-video-overlay .bottom-container{margin-bottom:constant(safe-area-inset-bottom);margin-bottom:env(safe-area-inset-bottom)}#new-video-overlay .top-container{margin-top:calc(constant(safe-area-inset-top));margin-top:calc(env(safe-area-inset-top))}#new-video-overlay .button-left .tab{padding-left:constant(safe-area-inset-left);padding-left:env(safe-area-inset-left)}#new-video-overlay .button-left{width:calc(constant(safe-area-inset-left) + 2.2em);width:calc(env(safe-area-inset-left) + 2.2em)}#new-video-overlay .button-right .tab{padding-right:constant(safe-area-inset-right);padding-right:env(safe-area-inset-right)}#new-video-overlay .button-right{width:calc(constant(safe-area-inset-right) + 2.2em);width:calc(env(safe-area-inset-right) + 2.2em)}#new-video-overlay .call-button{width:calc(constant(safe-area-inset-right) + 6em);width:calc(env(safe-area-inset-right) + 6em)}#new-video-overlay .gdpr-button{left:calc(2.2em + constant(safe-area-inset-left));left:calc(2.2em + env(safe-area-inset-left))}}@-webkit-keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@media (orientation:landscape) and (max-width:392px){#new-video-overlay .content{font-size:.6em}}@media (orientation:landscape) and (min-width:472px) and (max-width:593px){#new-video-overlay .content{font-size:1.2em}}@media (orientation:landscape) and (min-width:594px) and (max-width:792px){#new-video-overlay .content{font-size:1.5em}}@media (orientation:landscape) and (min-width:792px) and (max-width:840px){#new-video-overlay .content{font-size:2em}}@media (orientation:landscape) and (min-width:840px) and (max-width:959px){#new-video-overlay .content{font-size:2.1em}}@media (orientation:landscape) and (min-width:960px){#new-video-overlay .content{font-size:2.2em}}@media (orientation:portrait) and (max-width:320px){#new-video-overlay .content{font-size:1.2em}}@media (orientation:portrait) and (min-width:321px) and (max-width:359px){#new-video-overlay .content{font-size:1.5em}}@media (orientation:portrait) and (min-width:360px) and (max-width:413px){#new-video-overlay .content{font-size:1.7em}}@media (orientation:portrait) and (min-width:414px) and (max-width:480px){#new-video-overlay .content{font-size:1.9em}}@media (orientation:portrait) and (min-width:481px) and (max-width:568px){#new-video-overlay .content{font-size:2em}}@media (orientation:portrait) and (min-width:569px){#new-video-overlay .content{font-size:2.4em}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait){#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up{border-radius:.2em}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape){#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up{width:40%;}#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up .gdpr-text{font-size:.29em}#new-video-overlay .bottom-container .center,#new-video-overlay .bottom-container .tab{bottom:0}#new-video-overlay .bottom-container .gdpr-button .tab{bottom:.28em}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait){#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up{border-radius:.2em}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape){#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up{width:40%;}#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up .gdpr-text{font-size:.29em}#new-video-overlay .bottom-container .center,#new-video-overlay .bottom-container .tab{bottom:0}#new-video-overlay .bottom-container .gdpr-button .tab{bottom:.28em}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait){#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up{border-radius:.2em}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape){#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up{width:40%;}#new-video-overlay.show-gdpr-banner .bottom-container .center .gdpr-pop-up .gdpr-text{font-size:.29em}#new-video-overlay .bottom-container .center,#new-video-overlay .bottom-container .tab{bottom:0}#new-video-overlay .bottom-container .gdpr-button .tab{bottom:.28em}}@media (max-width:1700px) and (min-width:1025px){html.square-end-screen{font-size:30.4px}}#end-screen.square-end-screen .campaign-container{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden}#end-screen.square-end-screen .privacy-button{bottom:0;left:0}#end-screen.square-end-screen .unityads-logo{bottom:0}#end-screen.square-end-screen .game-image{width:100%;height:100%;background-color:transparent;background-position:center;background-size:contain;background-repeat:no-repeat}#end-screen.square-end-screen .game-background-blurred{position:absolute;display:block;margin:0;width:100%;height:100%;-webkit-filter:blur(10px) brightness(.8) opacity(.28) grayscale(1);filter:blur(10px) brightness(.8) opacity(.28) grayscale(1);-webkit-transform:scale(1.4);transform:scale(1.4);background-color:transparent;background-size:cover}#end-screen.square-end-screen.old-androids .game-background-blurred{display:none}#end-screen.square-end-screen.old-androids .game-image{background-color:#e2e2e2}#end-screen.square-end-screen .end-screen-info-background{position:relative;z-index:6;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:auto;background-color:#fff}.landscape #end-screen.square-end-screen .campaign-container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.landscape #end-screen.square-end-screen .privacy-button{left:0}@media (max-aspect-ratio:290/460) and (orientation:portrait),(min-aspect-ratio:470/290) and (orientation:landscape){#end-screen.square-end-screen .game-background-blurred{display:none}#end-screen.square-end-screen .game-image{position:absolute}}@media (max-aspect-ratio:290/460) and (orientation:portrait){body.portrait #end-screen.square-end-screen .end-screen-info-background{height:auto}body.portrait #end-screen.square-end-screen .download-container{margin:.55rem auto}#end-screen.square-end-screen .game-background-container{position:relative;z-index:5;width:100%;height:100vw}#end-screen.square-end-screen .end-screen-info-background{height:auto}}@media (min-aspect-ratio:470/290) and (orientation:landscape){.landscape #end-screen.square-end-screen .game-background-container{width:100vh;height:100%}.landscape #end-screen.square-end-screen .end-screen-info-background{width:auto}.landscape #end-screen.square-end-screen .unityads-logo{width:100%}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){.landscape #end-screen.square-end-screen .game-image{background-position:left}.landscape #end-screen.square-end-screen .privacy-button{left:-14px}.landscape #end-screen.square-end-screen .download-container{font-size:1.05rem}.landscape #end-screen.square-end-screen .game-rating,.landscape #end-screen.square-end-screen .name-container{font-size:1.2rem}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3){.landscape #end-screen.square-end-screen .game-image{background-position:left}.landscape #end-screen.square-end-screen .privacy-button{left:-14px}.landscape #end-screen.square-end-screen .download-container{font-size:1.05rem}.landscape #end-screen.square-end-screen .game-rating,.landscape #end-screen.square-end-screen .name-container{font-size:1.2rem}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2){.landscape #end-screen.square-end-screen .game-image{background-position:left}.landscape #end-screen.square-end-screen .privacy-button{left:-14px}.landscape #end-screen.square-end-screen .download-container{font-size:1.05rem}.landscape #end-screen.square-end-screen .game-rating,.landscape #end-screen.square-end-screen .name-container{font-size:1.2rem}}body.portrait #end-screen .game-background-portrait{display:block}body.portrait #end-screen .game-background-landscape{display:none}body.portrait #end-screen .row-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}body.portrait #end-screen .column-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}body.portrait #end-screen .end-screen-info-background{width:100%;height:50%}body.portrait #end-screen .privacy-button{left:0}body.portrait #end-screen .game-icon{-ms-flex-item-align:center;align-self:center}body.landscape #end-screen .game-background-container{width:50%;height:100%}body.landscape #end-screen .game-background-portrait{display:none}body.landscape #end-screen .game-background-landscape{display:block}body.landscape #end-screen .end-screen-info{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}body.landscape #end-screen .end-screen-info .game-icon{margin:0 auto}body.landscape #end-screen .campaign-container{display:-webkit-box;display:-ms-flexbox;display:flex}body.landscape #end-screen .end-screen-info-background{width:50%;height:100%;text-align:center}body.landscape #end-screen .privacy-button{left:50%}body.landscape #end-screen .unityads-logo{width:50%}body.landscape #end-screen .gdpr-pop-up{left:0}body .row-container{position:relative}#end-screen{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background-color:transparent;}#end-screen .campaign-container{width:100%;height:100%;background:#fff}#end-screen .game-background{background-color:#000;background-position:center;background-size:cover;background-repeat:no-repeat}#end-screen .end-screen-info-background{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:center;align-content:center;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#fafafa}#end-screen.show-gdpr-banner .privacy-button{display:none}#end-screen .btn-close-region{z-index:100;width:2.1875rem;font-size:1.25rem;line-height:2.1875rem;position:absolute;right:0;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;padding:.25rem}#end-screen .download-container{padding:.75rem 0;width:14rem;border-radius:.75rem;font-size:1.25rem;background:#167dfb;color:#fff;text-align:center}#end-screen .game-rating{font-size:1.5rem;position:relative;display:inline-block;color:#e6e6e6;vertical-align:middle;letter-spacing:5px;text-align:center}#end-screen .game-rating-mask{position:absolute;left:0;overflow:hidden;width:0;height:100%;color:#ff8e00;text-align:center;white-space:nowrap}#end-screen .game-rating-count{color:#7c7c7c;font-size:1rem}#end-screen .game-icon{width:4.5rem;height:4.5rem;border-radius:.75rem;background-position:center;background-size:cover;background-repeat:no-repeat}#end-screen .unityads-logo{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAAAgCAMAAAD+K8DjAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURQAAAHd+hXd+hXd+hXd+hXd+hXd+hXd+hXd+hXd+hXd+hXd+hRvg3+0AAAAMdFJOUwDrdiFWuJk7CNEU/sRHFUYAAAJ9SURBVFjD7ZeLcuMwCEUNQiCk///fvQjbTTbZVGk7k+xMmfFLzyNAIG/br/zH0owrvwMEjTHqSym6qI8U6q8EqTtE3ORrQxSxq2+T9vwggvld2aZW9PFsDVPY3bVc67KO8hyEMXOtbBiF4SE0/EFjHRi+3mtSoE65bvociMEcnl0KDSo+Hg3AXjtA7jg0D6H6DZDgqP1cLudt+m/px6OXwx69lNahEdyzuqFgPp3aYYwmzJYgxspLPHLBYVBNC3fJhSk5KooTFyLRMRsyeXQZKKCpx2wVnRVd5xIKvIWGAqTpID8W9qmT1t25G7pg0Z12p9P5hLm47NsJc6FQHC1cbE6A6h0bfTthIRsUw71LDAOy3sBlKxz6YeR8x3rKDQhuc2iOyukj4E79TQ9NhqBBkaaKonWMZM4rm9Z2iXlKAvF2A6JJWj5A4tPOPZtWCfskzVwQNFJtwUN4/CUJYN5uQfgWJGzTaNcoilR1YgHg3DU645M9CyJPgUQ4OSwDd3aKC5+XIFvhSB2yQAKvk5BpmgstL4DIoMMyMGcLgS3O+IHNXMrczOQrxnngrLESHvdAPB307O5HBKFwDM5aBMckqLS0ffUf23dubR93QUaVRE3HtDPUKlTjURjBpMdXxEzfniLJUGZHQGszI9dr08xcE9FYs0P6k55eYChBtTs5tIQYHE+y7bmQVsMYZ4iHcVWliZS4ZuaVBodq8TbjthyWETnybovXHkm0xzEAQ+B1LedcBPlIet3HsLWOvNx0Me1FAFCJ3LUfA9YONP7J0eVLMjeyyucHo8s0D6W3nwbZj4r0naPiz0jJE/ykKdtrpb/F78T5V/EGP1i/8jL5A9oqHSWefc3yAAAAAElFTkSuQmCC");width:100%;height:1rem;border-radius:0;background-position:center;background-size:contain;background-repeat:no-repeat;bottom:.25rem;position:absolute;z-index:5}#end-screen .name-container{max-width:12.5rem;font-size:1.5rem;display:-webkit-box;overflow:hidden;color:#000;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}#end-screen .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;margin:0 0 0 .25rem}#end-screen .icon-gdpr{color:#000;opacity:.25}#end-screen.show-gdpr-banner .gdpr-pop-up{position:absolute;bottom:0;z-index:100;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;background-color:#fafafa;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);opacity:1;}#end-screen.show-gdpr-banner .gdpr-pop-up .gdpr-text{padding:.5rem;font-size:.5rem}#end-screen.show-gdpr-banner .gdpr-pop-up .icon-gdpr{margin:0 .5rem;color:#000;opacity:.25}#end-screen.show-gdpr-banner .gdpr-pop-up .gdpr-text{z-index:110;padding:.5rem .5rem .5rem 0;width:80%;text-align:center;}#end-screen.show-gdpr-banner .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#end-screen:not(.show-gdpr-banner) .gdpr-pop-up{display:none}#end-screen .game-background-container{position:relative;width:100%;height:50%}#end-screen .game-background{width:100%;height:100%}body.portrait #end-screen .column-container{margin-left:.5rem}body.portrait #end-screen .download-container{margin:.75rem auto}body.landscape #end-screen .column-container{margin:.5rem 0}body.landscape #end-screen .btn-close-region{color:#7c7c7c}body #end-screen .store-container{margin-top:.4rem}body #end-screen .row-container{bottom:1rem}@media (max-aspect-ratio:290/460) and (orientation:portrait) and (min-width:360px) and (max-width:413px){html.square-end-screen{font-size:16px}}@media (min-aspect-ratio:470/290) and (orientation:landscape) and (min-width:960px) and (max-width:1024px){html.square-end-screen{font-size:24px}}@media (min-aspect-ratio:470/290) and (orientation:landscape) and (min-width:569px) and (max-width:768px){html.square-end-screen{font-size:16px}}@font-face{font-family:"unityicons";src:url("data:application/x-font-ttf;base64,AAEAAAANAIAAAwBQRkZUTXwvKbAAAA7MAAAAHEdERUYAPAAGAAAOrAAAACBPUy8yL5pMbQAAAVgAAABWY21hcOAn4+QAAAHYAAABUmdhc3D//wADAAAOpAAAAAhnbHlmHRlyIwAAA0wAAAkQaGVhZBELx/QAAADcAAAANmhoZWEEQQIFAAABFAAAACRobXR4Bu8BYAAAAbAAAAAmbG9jYQyUDqwAAAMsAAAAIG1heHAAWQCeAAABOAAAACBuYW1lYcLKkQAADFwAAAGtcG9zdDwkND0AAA4MAAAAlwABAAAAAQAAz/3xuF8PPPUACwIAAAAAANf4w3AAAAAA1/jDcAABAAAB+wIXAAAACAACAAAAAAAAAAEAAAIXAAAALgIAAAAAAAH7AAEAAAAAAAAAAAAAAAAAAAAEAAEAAAAPAJsACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAQIAAZAABQAIAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAIABQkAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUGZFZABA4ADgEQHg/+AALgIXAAAAAAABAAAAAAAAAgAAAAAAAAACAAAAAgAANwASACAAJgAmAE8AWgBGAIgAIAABAAIAAAAAAAMAAAADAAAAHAABAAAAAABMAAMAAQAAABwABAAwAAAACAAIAAIAAAAA4AngEf//AAAAAOAA4BD//wAAIAMf/QABAAAAAAAAAAAAAAEGAAABAAAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcANQBHgGGAfQCNgJsApYCzAL+A64EiAAGADcAIAHJAfsACwAXACYARgBeAG0AABMyNzY0JyYjIgYUFjMyNjQmIyIHBhQXFgYyFh0BFAcGIicmPQE0NyUVFAcGKwEVFAcGIicmPQEjFRQHBiInJjUnIyInJj0BNxYXFhUhNDc2NycmNzYfATYyFzc2FxYHFxUUBwYiJyY9ATQ2MhcWxAQEAwMEBAUGBn0FBgYFBAQDAwXyGhAICRgJCAgBRAkJDRUJCRgJCCgICRgJCAEVDQkJxCEQEv74EhEgFAIDBAIVGzwbFQIEAwJ0CAkYCQgQGggIAZYDAwoDAwYKBgYKBgMDCgMDNRANew0HCQkIDHsLCgO+DAsJQQ0HCQkIDEFBDAgJCQgMQQkLDL50EhocIiIcGhIlBQEBAyYMDCYDAQEFsXsMCAkJBw17DRAICgAAAAABABIAUQHuAhcAIwAAARQPARcVFAcGIyIvAQcGIyInJjU0PwEnJjU0PwI2Mh8CFgHuCGcYAwMFBAiAgAgEBgMDARhoBxCQQAYQBkCQEAFnBghljwUHAwUEQ0MEBQMHAwKPZQsDCwIVggwMghUCAAAABAAgAEAB4AIAAAkAFQAhADMAAAEyNjU0JiIGFBY3IgYVFBYzMjY1NCYDIiY1NDYzMhYVFAYnNCYrASIGFTMVFBY7ATI2NSMBAA4SExoTEw1chIRcXYODXUJeXkJDXV0jFAwgDBQgFAwgDBQgAWASDg0TExoToIRcXYODXVyE/oBdQ0JeXkJDXaAMFBQMYAwUFAwAAAMAJgBtAdoB0wAZADEARgAAASMnIyYPAQYfATUVHgEHNQcGHwEWPwEjNjQnNScmByMVBwYfATMWFA8BBh8BFj8BNjQnIg8CIyIdARQ7AR8BFjMyPQERJgGUAQkBCQkRBwcKNwE3CgcIEQkJCgFGdwoKCAERBwcKARsbCggJEgkICil/BAFpKEoICEo7VQQCCwIByQoICREJCQoBATedNwEKCwgRBwcKRsYCAQoHCAERCQgKHEwcCgkJEgcHCit2SwE9FwhpCCIxAgoCAQ4JAAAFACYAaAHYAdgADwAfACYANwBFAAABFR8BFgcXNiYvASYHIwcGNyMnIyYPAQYfAR4BBxc2JicmIyIPARcnIyIdARQ7AR8BFjMyPQInBQEmBxUHBhcBFj8BNTYBNQoBIwopERAgCgoIAREHZgEJAQkJEQcHCioVGCUmFbQCCQMCLDyhSggISjtVAgQLmAE2/rUJCRIJCQFLCQkSCQFsAQkBIy8pJ1ggCgcIEQlVCggJEggJCip2NCVEoAwKAhk8AghqCCIxAQoBMZfJAUsJCQESCQn+tQkJEgEJAAAAAQBPAGsBsQHVACoAAAE0JyYPAiYiBhQWMzI2NzY1Ji8BJgcGIyImNDYzMhcPAQYXFB8BFjc2NQGxBAMFHwI1lmpqSy1QGQICAi0IBh86LD8/LCYcBR4FAgWCBAMDAbEFAgICFgI1apZqKiYCBAUBIAUILz9YPxcDFgMFBAIsAgMCBAAAAQBaAGUBpgHbACIAACUvATY3NjU0Jy4BIyIGBwYVFBcWFw8BBh0BFBYzITI2PQE0AZpQIhYNCgQILB0cLQgECw0WIFMMCwgBJggL6yYQDRwXFw8MHyknHxILGRgaDQ8mBw5bCQ0NCVsPAAAAAQBGAKcBugGZABsAAAE0LwEmIyIdAScmIyIdARQzMj8BFRQzMj8BNTYBugXAAgQIkgQCCQkCBJIIAwTABAEgBgJvAghOVAII4ggCVE4IAm8BAgAAAQCIAJwBeAGlACAAACUWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwFvCQkKGApEQwoYCggIR0cICAoYCkNEChgKCQlHR9AJGgkICE5OCAgIHAhQUQgcCAgITk4ICAkaCVFQAAAABgAgAGAB4AHgAAMABwANABMAGQAfAAA3IREhFzMVIyczNSMVMxUjFTM1IwEVMxUzNQMjFTM1I2ABQP7AQMDAYGCAICCAYAEgYCAgYIAgoAEAQIDgIICAgCABYCBggP6gIIAAAAQAAQAAAfsCAAAqAE8AaQCAAAAlMhYVFAcGDwEGFRQfARY7ATc2PwE2OwExMhYVFA8BBisBIg8BJzc2PwEzNSMHBg8BBhUUHwEWMzI/ATMyPwE2NTQmIyIPAic3PgE1NCYjNyciJiMxIiMPAQYdARQXFhc7ATY3NjUxNTQPAQYiLwEmND8BNjIfATc2MzEyHwEWFAEqCg4DBQo3EQQGBwwDUQcGWQcJAQoOB3QHD7cJBx1ZcgcLiAMGiBENdgYEYQYHCQQgtxYQdAocFBAMWVEGNw8TGxO0YAEDAQECAl8HHxwsAQcrHh81QAEGAR4BAQgCBAISNQEDAwEHAu0OCgcFCQIPBREGCAgKCQEFVAcOCgsHcQkHH1liBQISFxICC2UECgUGYQYGIhBxDRAUHAlUCQgQBBkQFBvcHwEBHwQHQDIpJQ4MJykyQAc5QAEBHQEGAQgCAhI1AQEIAgQAAAAIAAIAnwH3AWgAHgApAEkAawB+AIIAjwCaAAABNiYnJiMhIyImIyIHIgcGBwYHBhceATMhMjc2NzY1BSImNT4BMzIWFAY3MhcWFxYGKwEiJicmJyIrASYHFQ4BIyI3Njc+ATc2MxciJicmJy4BBwYdARQjBiY9AjQ7ATIXFhcWBwYXFhcWBiQiPQEmJyMGBwYzFh0BFBYzMjcmMjQiBSYHMB0BFDMyNzY3NgcjBgcGFzAzMicmAfcBIxMHDf7GCAIJAgMCEgkgEwgCAgUIMx0BRREJIxUB/nEdKgEpHR4pKYwJAwghAwIJAwoFAwQDAgoYCAMECQ8HAwEEBhkGAgyjDwcHCAUCEAMCCA4FCSoHChgDBRQHBA4GAwL+0hACDBAHAwYJCAkODQQoHBwBKhUBCBADDQICiwICBQUDFAYCBgErEicCAQEBAw0hDBsdExslAQQnAgMTKh0dKSo6KYcIF1cIAwMKDAEBCAINBAUHCRFAEQqBBQ0QCAQDAwIFHwgBBQ4vNwkCCBUaDgUIGAwGAxYLHg4CAgQIAQgbDQgHThwOAQQPDAgBAw4UDwURFAEFFQAAAAAMAJYAAQAAAAAAAQAKABYAAQAAAAAAAgAHADEAAQAAAAAAAwAnAIkAAQAAAAAABAAKAMcAAQAAAAAABQALAOoAAQAAAAAABgAKAQwAAwABBAkAAQAUAAAAAwABBAkAAgAOACEAAwABBAkAAwBOADkAAwABBAkABAAUALEAAwABBAkABQAWANIAAwABBAkABgAUAPYAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIAB1AG4AaQB0AHkAaQBjAG8AbgBzACAAOgAgADIANgAtADEAMAAtADIAMAAxADgAAEZvbnRGb3JnZSAyLjAgOiB1bml0eWljb25zIDogMjYtMTAtMjAxOAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAVgBlAHIAcwBpAG8AbgAgADEALgAwAABWZXJzaW9uIDEuMAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAAAAAAgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAPAAAAAQACAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENB2FuZHJvaWQEc3RhcgRpbmZvBnZvbHVtZQt2b2x1bWUtbXV0ZQZyZWxvYWQGcGVyc29uBHNraXAFY2xvc2ULc2NyZWVuLWZ1bGwEZ2RwcgdpbmZvLWFyAAAAAAH//wACAAEAAAAOAAAAGAAAAAAAAgABAAMADgABAAQAAAACAAAAAAABAAAAAMw9os8AAAAA1/jDcAAAAADX+MNw") format("truetype")}[data-icon]:before{content:attr(data-icon);font-family:"unityicons" !important}[class^="icon-"]:before,[class*=" icon-"]:before{font-family:"unityicons" !important}.icon-android:before{content:"\e000"}.icon-star:before{display:inline-block;width:1em;content:"\e001"}.icon-info:before{content:"\e002"}.icon-volume:before{content:"\e003"}.icon-volume-mute:before{content:"\e004"}.icon-reload:before{content:"\e005"}.icon-person:before{content:"\e006"}.icon-skip:before{content:"\e007"}.icon-close:before{content:"\e008"}.icon-screen-full:before{content:"\e009"}.icon-gdpr:before{content:"\e010"}.icon-info-ar:before{content:"\e011"}@font-face{font-family:"skip-icon-test-icons";src:url("data:application/x-font-ttf;base64,AAEAAAANAIAAAwBQRkZUTXwZ3bgAAAd8AAAAHEdERUYAMwAGAAAHXAAAACBPUy8yT+ZckwAAAVgAAABWY21hcATbA2AAAAHEAAABSmdhc3D//wADAAAHVAAAAAhnbHlmXUlFCwAAAyAAAAG0aGVhZBDke+UAAADcAAAANmhoZWED7wIFAAABFAAAACRobXR4BhUAkAAAAbAAAAAUbG9jYQFYAKIAAAMQAAAADm1heHAATgBfAAABOAAAACBuYW1lIc9d4gAABNQAAAI9cG9zdMCma7MAAAcUAAAAQAABAAAAAQAAVfPRcV8PPPUACwIAAAAAANfuHXQAAAAA1+4ddAAVABUB1QHrAAAACAACAAAAAAAAAAEAAAHrAAAALgIAAAAAAAHVAAEAAAAAAAAAAAAAAAAAAAAEAAEAAAAGAFwABgAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAQIAAZAABQAIAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAIABQkAAAAAAAAAAAABAAAAAAAAAAAAAAAAUGZFZABAAGEAYwHg/+AALgHr/+sAAAABAAAAAAAAAgAAAAAAAAACAAAAAgAAVwAVADkAAAADAAAAAwAAABwAAQAAAAAARAADAAEAAAAcAAQAKAAAAAYABAABAAIAAABj//8AAAAAAGH//wAA/6IAAQAAAAAAAAAAAQYAAAEAAAAAAAAAAQIAAAACAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH4AogDaAAAABgBXADgBqQHHABMAGQAfACsATQBbAAABNzYnJg8BJiIHJyYHBh8BBhUzNAciNDMyFDMiNDMyFBc0JiIGHQEUFjI2NScjFRQXFjsBFRQXFjMyNzY9ATMVFBcyFzMyNj0BMzI3NjUmIgYdARQXFjMyNz0BNAE2EgIEAgISFDgUEgICBAISOd6iCQkKXAoKCW0PFA4OFA873AMHEBIBBBQDAhMiEwECAgsOEgcGDfQUDwsFCRUDAaMgAgIBAiAKCiADAgICIB08PBMSEhISRQoPDwpnCg8OC3ugBgYONwMCFAEDFTc3FQMBDgs3AwgPpQ8KZw8GBBQFZwoAAAAAAgAVABUB1QHrAAYAFQAAAScVIxUzFRMVFzUzBxEjNQcVMxU3EQEEWZaWFSusgiorVcABCVo4QDsBO0grSCv/AAUqBVZAAZYAAQA5AGYBxwGaACoAACURMTU0KwEnIh0CJyYjIh0BJyYjIgcVFDMyPwEVFDMyPwEdARQ7ATUyNQHGDRcBDasEAgmSAgQHAgkDBJEJBAKrDRkNdAEYAgsBDQJ3YwIITlQCCOIIAlROCAJjeAENAQ0AAAAADACWAAEAAAAAAAEAFAAqAAEAAAAAAAIADwBfAAEAAAAAAAMAMQDTAAEAAAAAAAQAFAEvAAEAAAAAAAUACwFcAAEAAAAAAAYAFAGSAAMAAQQJAAEAKAAAAAMAAQQJAAIAHgA/AAMAAQQJAAMAYgBvAAMAAQQJAAQAKAEFAAMAAQQJAAUAFgFEAAMAAQQJAAYAKAFoAHMAawBpAHAALQBpAGMAbwBuAC0AdABlAHMAdAAtAGkAYwBvAG4AcwAAc2tpcC1pY29uLXRlc3QtaWNvbnMAAGkAYwBvAG4ALQB0AGUAcwB0AC0AaQBjAG8AbgBzAABpY29uLXRlc3QtaWNvbnMAAEYAbwBuAHQARgBvAHIAZwBlACAAMgAuADAAIAA6ACAAcwBrAGkAcAAtAGkAYwBvAG4ALQB0AGUAcwB0AC0AaQBjAG8AbgBzACAAOgAgADEAOAAtADEAMAAtADIAMAAxADgAAEZvbnRGb3JnZSAyLjAgOiBza2lwLWljb24tdGVzdC1pY29ucyA6IDE4LTEwLTIwMTgAAHMAawBpAHAALQBpAGMAbwBuAC0AdABlAHMAdAAtAGkAYwBvAG4AcwAAc2tpcC1pY29uLXRlc3QtaWNvbnMAAFYAZQByAHMAaQBvAG4AIAAxAC4AMAAAVmVyc2lvbiAxLjAAAHMAawBpAHAALQBpAGMAbwBuAC0AdABlAHMAdAAtAGkAYwBvAG4AcwAAc2tpcC1pY29uLXRlc3QtaWNvbnMAAAAAAAIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAABgAAAAEAAgECAQMBBAdhbmRyb2lkBGV4aXQEbmV4dAAAAAH//wACAAEAAAAOAAAAGAAAAAAAAgABAAMABQABAAQAAAACAAAAAAABAAAAAMw9os8AAAAA1+4ddAAAAADX7h10") format("truetype")}[data-icon]:before{content:attr(data-icon);font-family:"skip-icon-test-icons" !important}[class^="test-icon-"]:before,[class*=" test-icon-"]:before{font-family:"skip-icon-test-icons" !important}.test-icon-android:before{content:"\61"}.test-icon-exit:before{content:"\62"}.test-icon-next:before{content:"\63"}#mraid #mraid-iframe{position:absolute;top:0;left:0;width:100vw;height:100vh;border:none}#mraid .close-region{position:absolute;top:0;right:0;z-index:9998;width:50px;height:50px;opacity:.4}#mraid .icon-close{position:absolute;top:5px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#mraid .close{position:absolute;top:50%;left:8px;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#mraid .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#mraid .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#mraid .circle-base,#mraid .circle-left,#mraid .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#mraid .circle-base{border:4px solid #696969}#mraid .circle-left,#mraid .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#mraid .progress-wrapper,#mraid .circle-left,#mraid .circle-right{-webkit-animation-iteration-count:1;-webkit-animation-fill-mode:forwards;-webkit-animation-timing-function:linear;-webkit-animation-duration:.01s}#mraid .gdpr-pop-up{position:absolute;bottom:0;z-index:100;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;background-color:#fafafa;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);opacity:1;}#mraid .gdpr-pop-up .gdpr-text{padding:.5rem;font-size:.5rem}#mraid .gdpr-pop-up .icon-gdpr{margin:0 .5rem;color:#000;opacity:.25}#mraid .gdpr-pop-up .gdpr-text{z-index:110;padding:.5rem .5rem .5rem 0;width:80%;text-align:center;}#mraid .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#mraid .privacy-button{position:absolute;position:absolute;bottom:0;z-index:10;color:#e6e6e6;left:0;z-index:1;padding:7px 7px 0 5px}#moat{position:absolute;width:100vw;height:100vh;}#moat #moat-iframe{position:absolute;top:0;left:0;display:none;width:100vw;height:100vh;border:none}@font-face{font-family:"unityicons";src:url("data:application/x-font-ttf;base64,AAEAAAANAIAAAwBQRkZUTXwvKbAAAA7MAAAAHEdERUYAPAAGAAAOrAAAACBPUy8yL5pMbQAAAVgAAABWY21hcOAn4+QAAAHYAAABUmdhc3D//wADAAAOpAAAAAhnbHlmHRlyIwAAA0wAAAkQaGVhZBELx/QAAADcAAAANmhoZWEEQQIFAAABFAAAACRobXR4Bu8BYAAAAbAAAAAmbG9jYQyUDqwAAAMsAAAAIG1heHAAWQCeAAABOAAAACBuYW1lYcLKkQAADFwAAAGtcG9zdDwkND0AAA4MAAAAlwABAAAAAQAAz/3xuF8PPPUACwIAAAAAANf4w3AAAAAA1/jDcAABAAAB+wIXAAAACAACAAAAAAAAAAEAAAIXAAAALgIAAAAAAAH7AAEAAAAAAAAAAAAAAAAAAAAEAAEAAAAPAJsACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAQIAAZAABQAIAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAIABQkAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUGZFZABA4ADgEQHg/+AALgIXAAAAAAABAAAAAAAAAgAAAAAAAAACAAAAAgAANwASACAAJgAmAE8AWgBGAIgAIAABAAIAAAAAAAMAAAADAAAAHAABAAAAAABMAAMAAQAAABwABAAwAAAACAAIAAIAAAAA4AngEf//AAAAAOAA4BD//wAAIAMf/QABAAAAAAAAAAAAAAEGAAABAAAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcANQBHgGGAfQCNgJsApYCzAL+A64EiAAGADcAIAHJAfsACwAXACYARgBeAG0AABMyNzY0JyYjIgYUFjMyNjQmIyIHBhQXFgYyFh0BFAcGIicmPQE0NyUVFAcGKwEVFAcGIicmPQEjFRQHBiInJjUnIyInJj0BNxYXFhUhNDc2NycmNzYfATYyFzc2FxYHFxUUBwYiJyY9ATQ2MhcWxAQEAwMEBAUGBn0FBgYFBAQDAwXyGhAICRgJCAgBRAkJDRUJCRgJCCgICRgJCAEVDQkJxCEQEv74EhEgFAIDBAIVGzwbFQIEAwJ0CAkYCQgQGggIAZYDAwoDAwYKBgYKBgMDCgMDNRANew0HCQkIDHsLCgO+DAsJQQ0HCQkIDEFBDAgJCQgMQQkLDL50EhocIiIcGhIlBQEBAyYMDCYDAQEFsXsMCAkJBw17DRAICgAAAAABABIAUQHuAhcAIwAAARQPARcVFAcGIyIvAQcGIyInJjU0PwEnJjU0PwI2Mh8CFgHuCGcYAwMFBAiAgAgEBgMDARhoBxCQQAYQBkCQEAFnBghljwUHAwUEQ0MEBQMHAwKPZQsDCwIVggwMghUCAAAABAAgAEAB4AIAAAkAFQAhADMAAAEyNjU0JiIGFBY3IgYVFBYzMjY1NCYDIiY1NDYzMhYVFAYnNCYrASIGFTMVFBY7ATI2NSMBAA4SExoTEw1chIRcXYODXUJeXkJDXV0jFAwgDBQgFAwgDBQgAWASDg0TExoToIRcXYODXVyE/oBdQ0JeXkJDXaAMFBQMYAwUFAwAAAMAJgBtAdoB0wAZADEARgAAASMnIyYPAQYfATUVHgEHNQcGHwEWPwEjNjQnNScmByMVBwYfATMWFA8BBh8BFj8BNjQnIg8CIyIdARQ7AR8BFjMyPQERJgGUAQkBCQkRBwcKNwE3CgcIEQkJCgFGdwoKCAERBwcKARsbCggJEgkICil/BAFpKEoICEo7VQQCCwIByQoICREJCQoBATedNwEKCwgRBwcKRsYCAQoHCAERCQgKHEwcCgkJEgcHCit2SwE9FwhpCCIxAgoCAQ4JAAAFACYAaAHYAdgADwAfACYANwBFAAABFR8BFgcXNiYvASYHIwcGNyMnIyYPAQYfAR4BBxc2JicmIyIPARcnIyIdARQ7AR8BFjMyPQInBQEmBxUHBhcBFj8BNTYBNQoBIwopERAgCgoIAREHZgEJAQkJEQcHCioVGCUmFbQCCQMCLDyhSggISjtVAgQLmAE2/rUJCRIJCQFLCQkSCQFsAQkBIy8pJ1ggCgcIEQlVCggJEggJCip2NCVEoAwKAhk8AghqCCIxAQoBMZfJAUsJCQESCQn+tQkJEgEJAAAAAQBPAGsBsQHVACoAAAE0JyYPAiYiBhQWMzI2NzY1Ji8BJgcGIyImNDYzMhcPAQYXFB8BFjc2NQGxBAMFHwI1lmpqSy1QGQICAi0IBh86LD8/LCYcBR4FAgWCBAMDAbEFAgICFgI1apZqKiYCBAUBIAUILz9YPxcDFgMFBAIsAgMCBAAAAQBaAGUBpgHbACIAACUvATY3NjU0Jy4BIyIGBwYVFBcWFw8BBh0BFBYzITI2PQE0AZpQIhYNCgQILB0cLQgECw0WIFMMCwgBJggL6yYQDRwXFw8MHyknHxILGRgaDQ8mBw5bCQ0NCVsPAAAAAQBGAKcBugGZABsAAAE0LwEmIyIdAScmIyIdARQzMj8BFRQzMj8BNTYBugXAAgQIkgQCCQkCBJIIAwTABAEgBgJvAghOVAII4ggCVE4IAm8BAgAAAQCIAJwBeAGlACAAACUWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwFvCQkKGApEQwoYCggIR0cICAoYCkNEChgKCQlHR9AJGgkICE5OCAgIHAhQUQgcCAgITk4ICAkaCVFQAAAABgAgAGAB4AHgAAMABwANABMAGQAfAAA3IREhFzMVIyczNSMVMxUjFTM1IwEVMxUzNQMjFTM1I2ABQP7AQMDAYGCAICCAYAEgYCAgYIAgoAEAQIDgIICAgCABYCBggP6gIIAAAAQAAQAAAfsCAAAqAE8AaQCAAAAlMhYVFAcGDwEGFRQfARY7ATc2PwE2OwExMhYVFA8BBisBIg8BJzc2PwEzNSMHBg8BBhUUHwEWMzI/ATMyPwE2NTQmIyIPAic3PgE1NCYjNyciJiMxIiMPAQYdARQXFhc7ATY3NjUxNTQPAQYiLwEmND8BNjIfATc2MzEyHwEWFAEqCg4DBQo3EQQGBwwDUQcGWQcJAQoOB3QHD7cJBx1ZcgcLiAMGiBENdgYEYQYHCQQgtxYQdAocFBAMWVEGNw8TGxO0YAEDAQECAl8HHxwsAQcrHh81QAEGAR4BAQgCBAISNQEDAwEHAu0OCgcFCQIPBREGCAgKCQEFVAcOCgsHcQkHH1liBQISFxICC2UECgUGYQYGIhBxDRAUHAlUCQgQBBkQFBvcHwEBHwQHQDIpJQ4MJykyQAc5QAEBHQEGAQgCAhI1AQEIAgQAAAAIAAIAnwH3AWgAHgApAEkAawB+AIIAjwCaAAABNiYnJiMhIyImIyIHIgcGBwYHBhceATMhMjc2NzY1BSImNT4BMzIWFAY3MhcWFxYGKwEiJicmJyIrASYHFQ4BIyI3Njc+ATc2MxciJicmJy4BBwYdARQjBiY9AjQ7ATIXFhcWBwYXFhcWBiQiPQEmJyMGBwYzFh0BFBYzMjcmMjQiBSYHMB0BFDMyNzY3NgcjBgcGFzAzMicmAfcBIxMHDf7GCAIJAgMCEgkgEwgCAgUIMx0BRREJIxUB/nEdKgEpHR4pKYwJAwghAwIJAwoFAwQDAgoYCAMECQ8HAwEEBhkGAgyjDwcHCAUCEAMCCA4FCSoHChgDBRQHBA4GAwL+0hACDBAHAwYJCAkODQQoHBwBKhUBCBADDQICiwICBQUDFAYCBgErEicCAQEBAw0hDBsdExslAQQnAgMTKh0dKSo6KYcIF1cIAwMKDAEBCAINBAUHCRFAEQqBBQ0QCAQDAwIFHwgBBQ4vNwkCCBUaDgUIGAwGAxYLHg4CAgQIAQgbDQgHThwOAQQPDAgBAw4UDwURFAEFFQAAAAAMAJYAAQAAAAAAAQAKABYAAQAAAAAAAgAHADEAAQAAAAAAAwAnAIkAAQAAAAAABAAKAMcAAQAAAAAABQALAOoAAQAAAAAABgAKAQwAAwABBAkAAQAUAAAAAwABBAkAAgAOACEAAwABBAkAAwBOADkAAwABBAkABAAUALEAAwABBAkABQAWANIAAwABBAkABgAUAPYAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIAB1AG4AaQB0AHkAaQBjAG8AbgBzACAAOgAgADIANgAtADEAMAAtADIAMAAxADgAAEZvbnRGb3JnZSAyLjAgOiB1bml0eWljb25zIDogMjYtMTAtMjAxOAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAVgBlAHIAcwBpAG8AbgAgADEALgAwAABWZXJzaW9uIDEuMAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAAAAAAgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAPAAAAAQACAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENB2FuZHJvaWQEc3RhcgRpbmZvBnZvbHVtZQt2b2x1bWUtbXV0ZQZyZWxvYWQGcGVyc29uBHNraXAFY2xvc2ULc2NyZWVuLWZ1bGwEZ2RwcgdpbmZvLWFyAAAAAAH//wACAAEAAAAOAAAAGAAAAAAAAgABAAMADgABAAQAAAACAAAAAAABAAAAAMw9os8AAAAA1/jDcAAAAADX+MNw") format("truetype")}[data-icon]:before{content:attr(data-icon);font-family:"unityicons" !important}[class^="icon-"]:before,[class*=" icon-"]:before{font-family:"unityicons" !important}.icon-android:before{content:"\e000"}.icon-star:before{display:inline-block;width:1em;content:"\e001"}.icon-info:before{content:"\e002"}.icon-volume:before{content:"\e003"}.icon-volume-mute:before{content:"\e004"}.icon-reload:before{content:"\e005"}.icon-person:before{content:"\e006"}.icon-skip:before{content:"\e007"}.icon-close:before{content:"\e008"}.icon-screen-full:before{content:"\e009"}.icon-gdpr:before{content:"\e010"}.icon-info-ar:before{content:"\e011"}#display-interstitial{position:absolute;width:100%;height:100%;}#display-interstitial .close-region{position:absolute;top:20px;right:46px}#display-interstitial .icon-close{position:absolute;top:4px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#display-interstitial .close{position:absolute;top:50%;left:8px;z-index:111;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#display-interstitial .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#display-interstitial .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#display-interstitial .circle-base,#display-interstitial .circle-left,#display-interstitial .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#display-interstitial .circle-base{border:4px solid #696969}#display-interstitial .circle-left,#display-interstitial .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#display-interstitial .progress-wrapper,#display-interstitial .circle-left,#display-interstitial .circle-right{-webkit-animation-duration:.01s;animation-duration:.01s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#display-interstitial .gdpr-pop-up{position:absolute;top:0;width:100%;background-color:#161616;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);opacity:1;}#display-interstitial .gdpr-pop-up .gdpr-text{z-index:110;padding:.5rem;width:90%;color:#fff;text-align:center;font-size:.5rem;}#display-interstitial .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#display-interstitial .privacy-button{position:absolute;bottom:0;width:100%;}#display-interstitial .privacy-button .icon-gdpr{color:#fff}#extended-mraid .game-rating{position:relative;display:inline-block;color:#e6e6e6;vertical-align:middle;letter-spacing:5px;font-size:20px}#extended-mraid .game-rating-mask{position:absolute;left:0;overflow:hidden;width:0;height:100%;color:#ff8e00;white-space:nowrap;font-size:inherit}#extended-mraid .game-rating-count{color:#7c7c7c;font-size:17px}#extended-mraid .game-icon{margin-bottom:20px;width:75px;height:75px;border-radius:18pt;background-color:#fff;background-size:cover}#extended-mraid .unityads-logo{position:absolute;bottom:10px;left:50%;width:68px;height:16px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAAAgCAMAAAD+K8DjAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURQAAAHd+hXd+hXd+hXd+hXd+hXd+hXd+hXd+hXd+hXd+hXd+hRvg3+0AAAAMdFJOUwDrdiFWuJk7CNEU/sRHFUYAAAJ9SURBVFjD7ZeLcuMwCEUNQiCk///fvQjbTTbZVGk7k+xMmfFLzyNAIG/br/zH0owrvwMEjTHqSym6qI8U6q8EqTtE3ORrQxSxq2+T9vwggvld2aZW9PFsDVPY3bVc67KO8hyEMXOtbBiF4SE0/EFjHRi+3mtSoE65bvociMEcnl0KDSo+Hg3AXjtA7jg0D6H6DZDgqP1cLudt+m/px6OXwx69lNahEdyzuqFgPp3aYYwmzJYgxspLPHLBYVBNC3fJhSk5KooTFyLRMRsyeXQZKKCpx2wVnRVd5xIKvIWGAqTpID8W9qmT1t25G7pg0Z12p9P5hLm47NsJc6FQHC1cbE6A6h0bfTthIRsUw71LDAOy3sBlKxz6YeR8x3rKDQhuc2iOyukj4E79TQ9NhqBBkaaKonWMZM4rm9Z2iXlKAvF2A6JJWj5A4tPOPZtWCfskzVwQNFJtwUN4/CUJYN5uQfgWJGzTaNcoilR1YgHg3DU645M9CyJPgUQ4OSwDd3aKC5+XIFvhSB2yQAKvk5BpmgstL4DIoMMyMGcLgS3O+IHNXMrczOQrxnngrLESHvdAPB307O5HBKFwDM5aBMckqLS0ffUf23dubR93QUaVRE3HtDPUKlTjURjBpMdXxEzfniLJUGZHQGszI9dr08xcE9FYs0P6k55eYChBtTs5tIQYHE+y7bmQVsMYZ4iHcVWliZS4ZuaVBodq8TbjthyWETnybovXHkm0xzEAQ+B1LedcBPlIet3HsLWOvNx0Me1FAFCJ3LUfA9YONP7J0eVLMjeyyucHo8s0D6W3nwbZj4r0naPiz0jJE/ykKdtrpb/F78T5V/EGP1i/8jL5A9oqHSWefc3yAAAAAElFTkSuQmCC");background-position:center;background-size:cover;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}#extended-mraid .name-container{overflow:hidden;color:#000;text-overflow:ellipsis;font-size:17pt}#extended-mraid #mraid-iframe{position:absolute;top:0;left:0;width:100vw;height:100vh;border:none}#extended-mraid .close-region{position:absolute;top:0;right:0;z-index:9998;width:50px;height:50px;opacity:.4;display:none}#extended-mraid .icon-close{position:absolute;top:4px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#extended-mraid .close{position:absolute;top:50%;left:8px;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#extended-mraid .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#extended-mraid .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#extended-mraid .circle-base,#extended-mraid .circle-left,#extended-mraid .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#extended-mraid .circle-base{border:4px solid #696969}#extended-mraid .circle-left,#extended-mraid .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#extended-mraid .progress-wrapper,#extended-mraid .circle-left,#extended-mraid .circle-right{-webkit-animation-duration:.01s;animation-duration:.01s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-timing-function:linear;animation-timing-function:linear}#extended-mraid .gdpr-pop-up{position:absolute;bottom:0;z-index:100;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;background-color:#fafafa;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);opacity:1;}#extended-mraid .gdpr-pop-up .gdpr-text{padding:.5rem;font-size:.5rem}#extended-mraid .gdpr-pop-up .icon-gdpr{margin:0 .5rem;color:#000;opacity:.25}#extended-mraid .gdpr-pop-up .gdpr-text{z-index:110;padding:.5rem .5rem .5rem 0;width:80%;text-align:center;}#extended-mraid .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#extended-mraid .gdpr-pop-up.mraid-container{top:100vw;bottom:inherit;z-index:109}#extended-mraid .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;left:0;margin:0 0 0 .25rem}#extended-mraid .loading-screen{position:absolute;top:0;left:0;z-index:100;display:none;width:100vw;height:100vh;background-color:#fff;opacity:1;}#extended-mraid .loading-screen.hidden{opacity:0;-webkit-transition:opacity 200ms ease-out;transition:opacity 200ms ease-out;pointer-events:none}#extended-mraid .loading-screen .container{position:absolute;top:0;right:0;bottom:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;margin:auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-box-pack:center;-webkit-box-align:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;}#extended-mraid .loading-screen .container .user-text,#extended-mraid .loading-screen .container .game-icon,#extended-mraid .loading-screen .container .store-container,#extended-mraid .loading-screen .container .name-container,#extended-mraid .loading-screen .container .progress-bar{-ms-flex-item-align:center;align-self:center;margin:10px}#extended-mraid .loading-screen .container .user-text,#extended-mraid .loading-screen .container .name-container{text-align:center}#extended-mraid .loading-screen .user-text{color:#000;font-weight:300;font-size:14.5pt}#extended-mraid .loading-screen .progress-bar{overflow:hidden;width:60%;height:3pt;background-color:#e6e6e6;}#extended-mraid .loading-screen .progress-bar .filling{position:relative;left:0;display:block;width:18%;height:5pt;background-color:#167dfb;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-animation:progress-bar-dynamic 1s linear infinite;animation:progress-bar-dynamic 1s linear infinite;will-change:left}@media screen and (min-height:568px){.loading-screen .game-icon{width:96px;height:96px}}@media screen and (max-height:240px){.loading-screen .container > div{margin:3px}.loading-screen .name-container{font-size:12pt}.loading-screen .game-rating{font-size:10pt}.loading-screen .user-text{font-size:10.5pt}}@media screen and (min-height:768px) and (min-width:1024px),screen and (min-height:1024px) and (min-width:768px){.loading-screen .user-text{font-size:18.5pt}.loading-screen .game-icon{width:150px;height:150px}.loading-screen .progress-bar{width:48%}.loading-screen .game-rating{font-size:20pt}.loading-screen .name-container{font-size:30pt}.loading-screen .unityads-logo{bottom:20px;width:136px;height:32px}}@-webkit-keyframes progress-bar-dynamic{0%{left:-18%}30%{left:46%}32%{left:44%}35%{left:35%}37%{left:38%}42%{left:42%}45%,60%,70%,80%{left:41%}90%{left:80%}100%{left:100%}}@keyframes progress-bar-dynamic{0%{left:-18%}30%{left:46%}32%{left:44%}35%{left:35%}37%{left:38%}42%{left:42%}45%,60%,70%,80%{left:41%}90%{left:80%}100%{left:100%}}@-webkit-keyframes progress-bar-dynamic{0%{left:-18%}30%{left:46%}32%{left:44%}35%{left:35%}37%{left:38%}42%{left:42%}45%,60%,70%,80%{left:41%}90%{left:80%}100%{left:100%}}@keyframes progress-bar-dynamic{0%{left:-18%}30%{left:46%}32%{left:44%}35%{left:35%}37%{left:38%}42%{left:42%}45%,60%,70%,80%{left:41%}90%{left:80%}100%{left:100%}}@media (min-width:1025px){html{font-size:43.2px}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){html #mraid #mraid-iframe:not(.fullscreen),html #extended-mraid #mraid-iframe:not(.fullscreen){padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100vh - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}html #mraid .close-region,html #extended-mraid .close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #mraid .privacy-button,html #extended-mraid .privacy-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #mraid .gdpr-pop-up,html #extended-mraid .gdpr-pop-up{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right))}html #mraid .camera-permission-panel .gdpr-link,html #extended-mraid .camera-permission-panel .gdpr-link{bottom:calc(0.5rem + constant(safe-area-inset-bottom));bottom:calc(0.5rem + env(safe-area-inset-bottom))}html #mraid .camera-permission-panel .show-learn-more-button,html #extended-mraid .camera-permission-panel .show-learn-more-button{bottom:calc(-0.5rem + constant(safe-area-inset-bottom));bottom:calc(-0.5rem + env(safe-area-inset-bottom))}html .landscape #extended-mraid .gdpr-pop-up.mraid-container{top:inherit;bottom:0;width:calc(50vw - env(safe-area-inset-left))}html .landscape #extended-mraid .camera-permission-panel .show-learn-more-button{right:constant(safe-area-inset-right);right:env(safe-area-inset-right)}html #admob #admob-iframe{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100vh - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}html #admob .privacy-button{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #admob .gdpr-pop-up{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right))}html #end-screen,html #vast-end-screen{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));}html #end-screen .btn-close-region,html #vast-end-screen .btn-close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #end-screen .tencent-advertisement,html #vast-end-screen .tencent-advertisement{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #end-screen .privacy-button,html #vast-end-screen .privacy-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #end-screen .unityads-logo{bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom)}html #end-screen.use-gdpr-privacy-icon .unityads-logo{bottom:calc(constant(safe-area-inset-bottom) + 0.5rem);bottom:calc(env(safe-area-inset-bottom) + 0.5rem)}html #display-interstitial .close-region,html #closable-video-overlay .close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #overlay,html #closable-video-overlay{position:absolute;top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));top:env(safe-area-inset-top);left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));}html #overlay .skip-hit-area,html #closable-video-overlay .skip-hit-area{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #overlay .progress,html #closable-video-overlay .progress{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #overlay .mute-button,html #closable-video-overlay .mute-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #overlay .call-button,html #closable-video-overlay .call-button{right:constant(safe-area-inset-right);bottom:constant(safe-area-inset-bottom);right:env(safe-area-inset-right);bottom:env(safe-area-inset-bottom)}html .tencent-advertisement{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html .slide-up{-webkit-transform:translateY(-250%);transform:translateY(-250%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}html .slide-down{-webkit-transform:translateY(250%);transform:translateY(250%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}html #privacy{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom))}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3){html #mraid #mraid-iframe:not(.fullscreen),html #extended-mraid #mraid-iframe:not(.fullscreen){padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100vh - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}html #mraid .close-region,html #extended-mraid .close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #mraid .privacy-button,html #extended-mraid .privacy-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #mraid .gdpr-pop-up,html #extended-mraid .gdpr-pop-up{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right))}html #mraid .camera-permission-panel .gdpr-link,html #extended-mraid .camera-permission-panel .gdpr-link{bottom:calc(0.5rem + constant(safe-area-inset-bottom));bottom:calc(0.5rem + env(safe-area-inset-bottom))}html #mraid .camera-permission-panel .show-learn-more-button,html #extended-mraid .camera-permission-panel .show-learn-more-button{bottom:calc(-0.5rem + constant(safe-area-inset-bottom));bottom:calc(-0.5rem + env(safe-area-inset-bottom))}html .landscape #extended-mraid .gdpr-pop-up.mraid-container{top:inherit;bottom:0;width:calc(50vw - env(safe-area-inset-left))}html .landscape #extended-mraid .camera-permission-panel .show-learn-more-button{right:constant(safe-area-inset-right);right:env(safe-area-inset-right)}html #admob #admob-iframe{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100vh - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}html #admob .privacy-button{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #admob .gdpr-pop-up{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right))}html #end-screen,html #vast-end-screen{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));}html #end-screen .btn-close-region,html #vast-end-screen .btn-close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #end-screen .tencent-advertisement,html #vast-end-screen .tencent-advertisement{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #end-screen .privacy-button,html #vast-end-screen .privacy-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #end-screen .unityads-logo{bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom)}html #end-screen.use-gdpr-privacy-icon .unityads-logo{bottom:calc(constant(safe-area-inset-bottom) + 0.5rem);bottom:calc(env(safe-area-inset-bottom) + 0.5rem)}html #display-interstitial .close-region,html #closable-video-overlay .close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #overlay,html #closable-video-overlay{position:absolute;top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));top:env(safe-area-inset-top);left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));}html #overlay .skip-hit-area,html #closable-video-overlay .skip-hit-area{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #overlay .progress,html #closable-video-overlay .progress{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #overlay .mute-button,html #closable-video-overlay .mute-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #overlay .call-button,html #closable-video-overlay .call-button{right:constant(safe-area-inset-right);bottom:constant(safe-area-inset-bottom);right:env(safe-area-inset-right);bottom:env(safe-area-inset-bottom)}html .tencent-advertisement{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html .slide-up{-webkit-transform:translateY(-250%);transform:translateY(-250%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}html .slide-down{-webkit-transform:translateY(250%);transform:translateY(250%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}html #privacy{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom))}}@media only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2){html #mraid #mraid-iframe:not(.fullscreen),html #extended-mraid #mraid-iframe:not(.fullscreen){padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100vh - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}html #mraid .close-region,html #extended-mraid .close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #mraid .privacy-button,html #extended-mraid .privacy-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #mraid .gdpr-pop-up,html #extended-mraid .gdpr-pop-up{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right))}html #mraid .camera-permission-panel .gdpr-link,html #extended-mraid .camera-permission-panel .gdpr-link{bottom:calc(0.5rem + constant(safe-area-inset-bottom));bottom:calc(0.5rem + env(safe-area-inset-bottom))}html #mraid .camera-permission-panel .show-learn-more-button,html #extended-mraid .camera-permission-panel .show-learn-more-button{bottom:calc(-0.5rem + constant(safe-area-inset-bottom));bottom:calc(-0.5rem + env(safe-area-inset-bottom))}html .landscape #extended-mraid .gdpr-pop-up.mraid-container{top:inherit;bottom:0;width:calc(50vw - env(safe-area-inset-left))}html .landscape #extended-mraid .camera-permission-panel .show-learn-more-button{right:constant(safe-area-inset-right);right:env(safe-area-inset-right)}html #admob #admob-iframe{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100vh - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom))}html #admob .privacy-button{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #admob .gdpr-pop-up{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);width:calc(100vw - constant(safe-area-inset-left) - constant(safe-area-inset-right));bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left);width:calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right))}html #end-screen,html #vast-end-screen{padding-top:constant(safe-area-inset-top);padding-right:constant(safe-area-inset-right);padding-bottom:constant(safe-area-inset-bottom);padding-left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));padding-top:env(safe-area-inset-top);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);padding-left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));}html #end-screen .btn-close-region,html #vast-end-screen .btn-close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #end-screen .tencent-advertisement,html #vast-end-screen .tencent-advertisement{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #end-screen .privacy-button,html #vast-end-screen .privacy-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #end-screen .unityads-logo{bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom)}html #end-screen.use-gdpr-privacy-icon .unityads-logo{bottom:calc(constant(safe-area-inset-bottom) + 0.5rem);bottom:calc(env(safe-area-inset-bottom) + 0.5rem)}html #display-interstitial .close-region,html #closable-video-overlay .close-region{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #overlay,html #closable-video-overlay{position:absolute;top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));top:env(safe-area-inset-top);left:env(safe-area-inset-left);width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom));}html #overlay .skip-hit-area,html #closable-video-overlay .skip-hit-area{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html #overlay .progress,html #closable-video-overlay .progress{top:constant(safe-area-inset-top);right:constant(safe-area-inset-right);top:env(safe-area-inset-top);right:env(safe-area-inset-right)}html #overlay .mute-button,html #closable-video-overlay .mute-button{bottom:constant(safe-area-inset-bottom);left:constant(safe-area-inset-left);bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left)}html #overlay .call-button,html #closable-video-overlay .call-button{right:constant(safe-area-inset-right);bottom:constant(safe-area-inset-bottom);right:env(safe-area-inset-right);bottom:env(safe-area-inset-bottom)}html .tencent-advertisement{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left)}html .slide-up{-webkit-transform:translateY(-250%);transform:translateY(-250%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}html .slide-down{-webkit-transform:translateY(250%);transform:translateY(250%);-webkit-transition:-webkit-transform .4s ease-in;transition:-webkit-transform .4s ease-in;transition:transform .4s ease-in;transition:transform .4s ease-in, -webkit-transform .4s ease-in}html #privacy{top:constant(safe-area-inset-top);left:constant(safe-area-inset-left);top:env(safe-area-inset-top);left:env(safe-area-inset-left);width:calc(100% - constant(safe-area-inset-left) - constant(safe-area-inset-right));height:calc(100% - constant(safe-area-inset-top) - constant(safe-area-inset-bottom));width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));height:calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom))}}@media (orientation:portrait) and (min-width:960px) and (max-width:1024px){html{font-size:40px}}@media (orientation:portrait) and (min-width:801px) and (max-width:959px){html{font-size:38.4px}}@media (orientation:portrait) and (min-width:769px) and (max-width:800px){html{font-size:35.2px}}@media (orientation:portrait) and (min-width:569px) and (max-width:768px){html{font-size:32px}}@media (orientation:portrait) and (min-width:481px) and (max-width:568px){html{font-size:22.4px}}@media (orientation:portrait) and (min-width:414px) and (max-width:480px){html{font-size:20.8px}}@media (orientation:portrait) and (min-width:360px) and (max-width:413px){html{font-size:19.2px}}@media (orientation:portrait) and (min-width:321px) and (max-width:359px){html{font-size:16px}}@media only screen and (orientation:portrait) and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){html{font-size:20px}}@media (orientation:landscape) and (min-width:960px) and (max-width:1024px){html{font-size:32px}}@media (orientation:landscape) and (min-width:569px) and (max-width:768px){html{font-size:20px}}@media only screen and (orientation:landscape) and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3){html{font-size:20px}}#vpaid{width:100vw;height:100vh;}#vpaid #vpaid-iframe{margin:0;padding:0;width:100%;height:100%;border:none}#vpaid .companion-container{position:absolute;bottom:0;display:none;width:100vw;text-align:center}.loading-container{position:absolute;top:50%;left:50%;margin-right:-50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}.loading-container .spinner-animation{margin:0 auto;width:24px;height:24px;border:4px solid #fff;border-right-color:transparent;border-left-color:transparent;border-radius:200px;-webkit-animation:spinner 1s linear infinite;animation:spinner 1s linear infinite}.loading-container .spinner-text{margin-top:10px;color:#fff;text-align:center;text-shadow:1px 1px #000;font-weight:bold}@font-face{font-family:"unityicons";src:url("data:application/x-font-ttf;base64,AAEAAAANAIAAAwBQRkZUTXwvKbAAAA7MAAAAHEdERUYAPAAGAAAOrAAAACBPUy8yL5pMbQAAAVgAAABWY21hcOAn4+QAAAHYAAABUmdhc3D//wADAAAOpAAAAAhnbHlmHRlyIwAAA0wAAAkQaGVhZBELx/QAAADcAAAANmhoZWEEQQIFAAABFAAAACRobXR4Bu8BYAAAAbAAAAAmbG9jYQyUDqwAAAMsAAAAIG1heHAAWQCeAAABOAAAACBuYW1lYcLKkQAADFwAAAGtcG9zdDwkND0AAA4MAAAAlwABAAAAAQAAz/3xuF8PPPUACwIAAAAAANf4w3AAAAAA1/jDcAABAAAB+wIXAAAACAACAAAAAAAAAAEAAAIXAAAALgIAAAAAAAH7AAEAAAAAAAAAAAAAAAAAAAAEAAEAAAAPAJsACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAQIAAZAABQAIAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAIABQkAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUGZFZABA4ADgEQHg/+AALgIXAAAAAAABAAAAAAAAAgAAAAAAAAACAAAAAgAANwASACAAJgAmAE8AWgBGAIgAIAABAAIAAAAAAAMAAAADAAAAHAABAAAAAABMAAMAAQAAABwABAAwAAAACAAIAAIAAAAA4AngEf//AAAAAOAA4BD//wAAIAMf/QABAAAAAAAAAAAAAAEGAAABAAAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcANQBHgGGAfQCNgJsApYCzAL+A64EiAAGADcAIAHJAfsACwAXACYARgBeAG0AABMyNzY0JyYjIgYUFjMyNjQmIyIHBhQXFgYyFh0BFAcGIicmPQE0NyUVFAcGKwEVFAcGIicmPQEjFRQHBiInJjUnIyInJj0BNxYXFhUhNDc2NycmNzYfATYyFzc2FxYHFxUUBwYiJyY9ATQ2MhcWxAQEAwMEBAUGBn0FBgYFBAQDAwXyGhAICRgJCAgBRAkJDRUJCRgJCCgICRgJCAEVDQkJxCEQEv74EhEgFAIDBAIVGzwbFQIEAwJ0CAkYCQgQGggIAZYDAwoDAwYKBgYKBgMDCgMDNRANew0HCQkIDHsLCgO+DAsJQQ0HCQkIDEFBDAgJCQgMQQkLDL50EhocIiIcGhIlBQEBAyYMDCYDAQEFsXsMCAkJBw17DRAICgAAAAABABIAUQHuAhcAIwAAARQPARcVFAcGIyIvAQcGIyInJjU0PwEnJjU0PwI2Mh8CFgHuCGcYAwMFBAiAgAgEBgMDARhoBxCQQAYQBkCQEAFnBghljwUHAwUEQ0MEBQMHAwKPZQsDCwIVggwMghUCAAAABAAgAEAB4AIAAAkAFQAhADMAAAEyNjU0JiIGFBY3IgYVFBYzMjY1NCYDIiY1NDYzMhYVFAYnNCYrASIGFTMVFBY7ATI2NSMBAA4SExoTEw1chIRcXYODXUJeXkJDXV0jFAwgDBQgFAwgDBQgAWASDg0TExoToIRcXYODXVyE/oBdQ0JeXkJDXaAMFBQMYAwUFAwAAAMAJgBtAdoB0wAZADEARgAAASMnIyYPAQYfATUVHgEHNQcGHwEWPwEjNjQnNScmByMVBwYfATMWFA8BBh8BFj8BNjQnIg8CIyIdARQ7AR8BFjMyPQERJgGUAQkBCQkRBwcKNwE3CgcIEQkJCgFGdwoKCAERBwcKARsbCggJEgkICil/BAFpKEoICEo7VQQCCwIByQoICREJCQoBATedNwEKCwgRBwcKRsYCAQoHCAERCQgKHEwcCgkJEgcHCit2SwE9FwhpCCIxAgoCAQ4JAAAFACYAaAHYAdgADwAfACYANwBFAAABFR8BFgcXNiYvASYHIwcGNyMnIyYPAQYfAR4BBxc2JicmIyIPARcnIyIdARQ7AR8BFjMyPQInBQEmBxUHBhcBFj8BNTYBNQoBIwopERAgCgoIAREHZgEJAQkJEQcHCioVGCUmFbQCCQMCLDyhSggISjtVAgQLmAE2/rUJCRIJCQFLCQkSCQFsAQkBIy8pJ1ggCgcIEQlVCggJEggJCip2NCVEoAwKAhk8AghqCCIxAQoBMZfJAUsJCQESCQn+tQkJEgEJAAAAAQBPAGsBsQHVACoAAAE0JyYPAiYiBhQWMzI2NzY1Ji8BJgcGIyImNDYzMhcPAQYXFB8BFjc2NQGxBAMFHwI1lmpqSy1QGQICAi0IBh86LD8/LCYcBR4FAgWCBAMDAbEFAgICFgI1apZqKiYCBAUBIAUILz9YPxcDFgMFBAIsAgMCBAAAAQBaAGUBpgHbACIAACUvATY3NjU0Jy4BIyIGBwYVFBcWFw8BBh0BFBYzITI2PQE0AZpQIhYNCgQILB0cLQgECw0WIFMMCwgBJggL6yYQDRwXFw8MHyknHxILGRgaDQ8mBw5bCQ0NCVsPAAAAAQBGAKcBugGZABsAAAE0LwEmIyIdAScmIyIdARQzMj8BFRQzMj8BNTYBugXAAgQIkgQCCQkCBJIIAwTABAEgBgJvAghOVAII4ggCVE4IAm8BAgAAAQCIAJwBeAGlACAAACUWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwFvCQkKGApEQwoYCggIR0cICAoYCkNEChgKCQlHR9AJGgkICE5OCAgIHAhQUQgcCAgITk4ICAkaCVFQAAAABgAgAGAB4AHgAAMABwANABMAGQAfAAA3IREhFzMVIyczNSMVMxUjFTM1IwEVMxUzNQMjFTM1I2ABQP7AQMDAYGCAICCAYAEgYCAgYIAgoAEAQIDgIICAgCABYCBggP6gIIAAAAQAAQAAAfsCAAAqAE8AaQCAAAAlMhYVFAcGDwEGFRQfARY7ATc2PwE2OwExMhYVFA8BBisBIg8BJzc2PwEzNSMHBg8BBhUUHwEWMzI/ATMyPwE2NTQmIyIPAic3PgE1NCYjNyciJiMxIiMPAQYdARQXFhc7ATY3NjUxNTQPAQYiLwEmND8BNjIfATc2MzEyHwEWFAEqCg4DBQo3EQQGBwwDUQcGWQcJAQoOB3QHD7cJBx1ZcgcLiAMGiBENdgYEYQYHCQQgtxYQdAocFBAMWVEGNw8TGxO0YAEDAQECAl8HHxwsAQcrHh81QAEGAR4BAQgCBAISNQEDAwEHAu0OCgcFCQIPBREGCAgKCQEFVAcOCgsHcQkHH1liBQISFxICC2UECgUGYQYGIhBxDRAUHAlUCQgQBBkQFBvcHwEBHwQHQDIpJQ4MJykyQAc5QAEBHQEGAQgCAhI1AQEIAgQAAAAIAAIAnwH3AWgAHgApAEkAawB+AIIAjwCaAAABNiYnJiMhIyImIyIHIgcGBwYHBhceATMhMjc2NzY1BSImNT4BMzIWFAY3MhcWFxYGKwEiJicmJyIrASYHFQ4BIyI3Njc+ATc2MxciJicmJy4BBwYdARQjBiY9AjQ7ATIXFhcWBwYXFhcWBiQiPQEmJyMGBwYzFh0BFBYzMjcmMjQiBSYHMB0BFDMyNzY3NgcjBgcGFzAzMicmAfcBIxMHDf7GCAIJAgMCEgkgEwgCAgUIMx0BRREJIxUB/nEdKgEpHR4pKYwJAwghAwIJAwoFAwQDAgoYCAMECQ8HAwEEBhkGAgyjDwcHCAUCEAMCCA4FCSoHChgDBRQHBA4GAwL+0hACDBAHAwYJCAkODQQoHBwBKhUBCBADDQICiwICBQUDFAYCBgErEicCAQEBAw0hDBsdExslAQQnAgMTKh0dKSo6KYcIF1cIAwMKDAEBCAINBAUHCRFAEQqBBQ0QCAQDAwIFHwgBBQ4vNwkCCBUaDgUIGAwGAxYLHg4CAgQIAQgbDQgHThwOAQQPDAgBAw4UDwURFAEFFQAAAAAMAJYAAQAAAAAAAQAKABYAAQAAAAAAAgAHADEAAQAAAAAAAwAnAIkAAQAAAAAABAAKAMcAAQAAAAAABQALAOoAAQAAAAAABgAKAQwAAwABBAkAAQAUAAAAAwABBAkAAgAOACEAAwABBAkAAwBOADkAAwABBAkABAAUALEAAwABBAkABQAWANIAAwABBAkABgAUAPYAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIAB1AG4AaQB0AHkAaQBjAG8AbgBzACAAOgAgADIANgAtADEAMAAtADIAMAAxADgAAEZvbnRGb3JnZSAyLjAgOiB1bml0eWljb25zIDogMjYtMTAtMjAxOAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAVgBlAHIAcwBpAG8AbgAgADEALgAwAABWZXJzaW9uIDEuMAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAAAAAAgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAPAAAAAQACAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENB2FuZHJvaWQEc3RhcgRpbmZvBnZvbHVtZQt2b2x1bWUtbXV0ZQZyZWxvYWQGcGVyc29uBHNraXAFY2xvc2ULc2NyZWVuLWZ1bGwEZ2RwcgdpbmZvLWFyAAAAAAH//wACAAEAAAAOAAAAGAAAAAAAAgABAAMADgABAAQAAAACAAAAAAABAAAAAMw9os8AAAAA1/jDcAAAAADX+MNw") format("truetype")}[data-icon]:before{content:attr(data-icon);font-family:"unityicons" !important}[class^="icon-"]:before,[class*=" icon-"]:before{font-family:"unityicons" !important}.icon-android:before{content:"\e000"}.icon-star:before{display:inline-block;width:1em;content:"\e001"}.icon-info:before{content:"\e002"}.icon-volume:before{content:"\e003"}.icon-volume-mute:before{content:"\e004"}.icon-reload:before{content:"\e005"}.icon-person:before{content:"\e006"}.icon-skip:before{content:"\e007"}.icon-close:before{content:"\e008"}.icon-screen-full:before{content:"\e009"}.icon-gdpr:before{content:"\e010"}.icon-info-ar:before{content:"\e011"}#closer{position:absolute;width:100%;height:100%;}#closer .close-region{position:absolute;top:20px;right:46px}#closer .icon-close{position:absolute;top:4px;right:2px;width:32px;height:32px;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;font-size:28px;line-height:28px}#closer .close{position:absolute;top:50%;left:8px;z-index:1;width:36px;height:36px;-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}#closer .progress-wrapper{position:absolute;clip:rect(0,36px,36px,18px);width:36px;height:36px}#closer .progress:after{position:absolute;top:50%;left:50%;display:block;color:#fff;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#closer .circle-base,#closer .circle-left,#closer .circle-right{position:absolute;width:28px;height:28px;border-radius:100%;background-color:transparent;vertical-align:middle}#closer .circle-base{border:4px solid #696969}#closer .circle-left,#closer .circle-right{clip:rect(0,18px,36px,0);border:4px solid #fff}#closer .progress-wrapper,#closer .circle-left,#closer .circle-right{-webkit-animation-duration:.01s;animation-duration:.01s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#closer .gdpr-pop-up{position:absolute;bottom:0;width:100%;background-color:#161616;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);opacity:1;}#closer .gdpr-pop-up .gdpr-text{z-index:110;padding:.5rem;width:90%;color:#fff;text-align:center;font-size:.5rem;}#closer .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#closer .privacy-button{position:absolute;bottom:0;margin:.25rem 0 0 .25rem;width:100%;}#closer .privacy-button .icon-gdpr{color:#fff}@font-face{font-family:"unityicons";src:url("data:application/x-font-ttf;base64,AAEAAAANAIAAAwBQRkZUTXwvKbAAAA7MAAAAHEdERUYAPAAGAAAOrAAAACBPUy8yL5pMbQAAAVgAAABWY21hcOAn4+QAAAHYAAABUmdhc3D//wADAAAOpAAAAAhnbHlmHRlyIwAAA0wAAAkQaGVhZBELx/QAAADcAAAANmhoZWEEQQIFAAABFAAAACRobXR4Bu8BYAAAAbAAAAAmbG9jYQyUDqwAAAMsAAAAIG1heHAAWQCeAAABOAAAACBuYW1lYcLKkQAADFwAAAGtcG9zdDwkND0AAA4MAAAAlwABAAAAAQAAz/3xuF8PPPUACwIAAAAAANf4w3AAAAAA1/jDcAABAAAB+wIXAAAACAACAAAAAAAAAAEAAAIXAAAALgIAAAAAAAH7AAEAAAAAAAAAAAAAAAAAAAAEAAEAAAAPAJsACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAQIAAZAABQAIAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAIABQkAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUGZFZABA4ADgEQHg/+AALgIXAAAAAAABAAAAAAAAAgAAAAAAAAACAAAAAgAANwASACAAJgAmAE8AWgBGAIgAIAABAAIAAAAAAAMAAAADAAAAHAABAAAAAABMAAMAAQAAABwABAAwAAAACAAIAAIAAAAA4AngEf//AAAAAOAA4BD//wAAIAMf/QABAAAAAAAAAAAAAAEGAAABAAAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcANQBHgGGAfQCNgJsApYCzAL+A64EiAAGADcAIAHJAfsACwAXACYARgBeAG0AABMyNzY0JyYjIgYUFjMyNjQmIyIHBhQXFgYyFh0BFAcGIicmPQE0NyUVFAcGKwEVFAcGIicmPQEjFRQHBiInJjUnIyInJj0BNxYXFhUhNDc2NycmNzYfATYyFzc2FxYHFxUUBwYiJyY9ATQ2MhcWxAQEAwMEBAUGBn0FBgYFBAQDAwXyGhAICRgJCAgBRAkJDRUJCRgJCCgICRgJCAEVDQkJxCEQEv74EhEgFAIDBAIVGzwbFQIEAwJ0CAkYCQgQGggIAZYDAwoDAwYKBgYKBgMDCgMDNRANew0HCQkIDHsLCgO+DAsJQQ0HCQkIDEFBDAgJCQgMQQkLDL50EhocIiIcGhIlBQEBAyYMDCYDAQEFsXsMCAkJBw17DRAICgAAAAABABIAUQHuAhcAIwAAARQPARcVFAcGIyIvAQcGIyInJjU0PwEnJjU0PwI2Mh8CFgHuCGcYAwMFBAiAgAgEBgMDARhoBxCQQAYQBkCQEAFnBghljwUHAwUEQ0MEBQMHAwKPZQsDCwIVggwMghUCAAAABAAgAEAB4AIAAAkAFQAhADMAAAEyNjU0JiIGFBY3IgYVFBYzMjY1NCYDIiY1NDYzMhYVFAYnNCYrASIGFTMVFBY7ATI2NSMBAA4SExoTEw1chIRcXYODXUJeXkJDXV0jFAwgDBQgFAwgDBQgAWASDg0TExoToIRcXYODXVyE/oBdQ0JeXkJDXaAMFBQMYAwUFAwAAAMAJgBtAdoB0wAZADEARgAAASMnIyYPAQYfATUVHgEHNQcGHwEWPwEjNjQnNScmByMVBwYfATMWFA8BBh8BFj8BNjQnIg8CIyIdARQ7AR8BFjMyPQERJgGUAQkBCQkRBwcKNwE3CgcIEQkJCgFGdwoKCAERBwcKARsbCggJEgkICil/BAFpKEoICEo7VQQCCwIByQoICREJCQoBATedNwEKCwgRBwcKRsYCAQoHCAERCQgKHEwcCgkJEgcHCit2SwE9FwhpCCIxAgoCAQ4JAAAFACYAaAHYAdgADwAfACYANwBFAAABFR8BFgcXNiYvASYHIwcGNyMnIyYPAQYfAR4BBxc2JicmIyIPARcnIyIdARQ7AR8BFjMyPQInBQEmBxUHBhcBFj8BNTYBNQoBIwopERAgCgoIAREHZgEJAQkJEQcHCioVGCUmFbQCCQMCLDyhSggISjtVAgQLmAE2/rUJCRIJCQFLCQkSCQFsAQkBIy8pJ1ggCgcIEQlVCggJEggJCip2NCVEoAwKAhk8AghqCCIxAQoBMZfJAUsJCQESCQn+tQkJEgEJAAAAAQBPAGsBsQHVACoAAAE0JyYPAiYiBhQWMzI2NzY1Ji8BJgcGIyImNDYzMhcPAQYXFB8BFjc2NQGxBAMFHwI1lmpqSy1QGQICAi0IBh86LD8/LCYcBR4FAgWCBAMDAbEFAgICFgI1apZqKiYCBAUBIAUILz9YPxcDFgMFBAIsAgMCBAAAAQBaAGUBpgHbACIAACUvATY3NjU0Jy4BIyIGBwYVFBcWFw8BBh0BFBYzITI2PQE0AZpQIhYNCgQILB0cLQgECw0WIFMMCwgBJggL6yYQDRwXFw8MHyknHxILGRgaDQ8mBw5bCQ0NCVsPAAAAAQBGAKcBugGZABsAAAE0LwEmIyIdAScmIyIdARQzMj8BFRQzMj8BNTYBugXAAgQIkgQCCQkCBJIIAwTABAEgBgJvAghOVAII4ggCVE4IAm8BAgAAAQCIAJwBeAGlACAAACUWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwFvCQkKGApEQwoYCggIR0cICAoYCkNEChgKCQlHR9AJGgkICE5OCAgIHAhQUQgcCAgITk4ICAkaCVFQAAAABgAgAGAB4AHgAAMABwANABMAGQAfAAA3IREhFzMVIyczNSMVMxUjFTM1IwEVMxUzNQMjFTM1I2ABQP7AQMDAYGCAICCAYAEgYCAgYIAgoAEAQIDgIICAgCABYCBggP6gIIAAAAQAAQAAAfsCAAAqAE8AaQCAAAAlMhYVFAcGDwEGFRQfARY7ATc2PwE2OwExMhYVFA8BBisBIg8BJzc2PwEzNSMHBg8BBhUUHwEWMzI/ATMyPwE2NTQmIyIPAic3PgE1NCYjNyciJiMxIiMPAQYdARQXFhc7ATY3NjUxNTQPAQYiLwEmND8BNjIfATc2MzEyHwEWFAEqCg4DBQo3EQQGBwwDUQcGWQcJAQoOB3QHD7cJBx1ZcgcLiAMGiBENdgYEYQYHCQQgtxYQdAocFBAMWVEGNw8TGxO0YAEDAQECAl8HHxwsAQcrHh81QAEGAR4BAQgCBAISNQEDAwEHAu0OCgcFCQIPBREGCAgKCQEFVAcOCgsHcQkHH1liBQISFxICC2UECgUGYQYGIhBxDRAUHAlUCQgQBBkQFBvcHwEBHwQHQDIpJQ4MJykyQAc5QAEBHQEGAQgCAhI1AQEIAgQAAAAIAAIAnwH3AWgAHgApAEkAawB+AIIAjwCaAAABNiYnJiMhIyImIyIHIgcGBwYHBhceATMhMjc2NzY1BSImNT4BMzIWFAY3MhcWFxYGKwEiJicmJyIrASYHFQ4BIyI3Njc+ATc2MxciJicmJy4BBwYdARQjBiY9AjQ7ATIXFhcWBwYXFhcWBiQiPQEmJyMGBwYzFh0BFBYzMjcmMjQiBSYHMB0BFDMyNzY3NgcjBgcGFzAzMicmAfcBIxMHDf7GCAIJAgMCEgkgEwgCAgUIMx0BRREJIxUB/nEdKgEpHR4pKYwJAwghAwIJAwoFAwQDAgoYCAMECQ8HAwEEBhkGAgyjDwcHCAUCEAMCCA4FCSoHChgDBRQHBA4GAwL+0hACDBAHAwYJCAkODQQoHBwBKhUBCBADDQICiwICBQUDFAYCBgErEicCAQEBAw0hDBsdExslAQQnAgMTKh0dKSo6KYcIF1cIAwMKDAEBCAINBAUHCRFAEQqBBQ0QCAQDAwIFHwgBBQ4vNwkCCBUaDgUIGAwGAxYLHg4CAgQIAQgbDQgHThwOAQQPDAgBAw4UDwURFAEFFQAAAAAMAJYAAQAAAAAAAQAKABYAAQAAAAAAAgAHADEAAQAAAAAAAwAnAIkAAQAAAAAABAAKAMcAAQAAAAAABQALAOoAAQAAAAAABgAKAQwAAwABBAkAAQAUAAAAAwABBAkAAgAOACEAAwABBAkAAwBOADkAAwABBAkABAAUALEAAwABBAkABQAWANIAAwABBAkABgAUAPYAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIAB1AG4AaQB0AHkAaQBjAG8AbgBzACAAOgAgADIANgAtADEAMAAtADIAMAAxADgAAEZvbnRGb3JnZSAyLjAgOiB1bml0eWljb25zIDogMjYtMTAtMjAxOAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAVgBlAHIAcwBpAG8AbgAgADEALgAwAABWZXJzaW9uIDEuMAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAAAAAAgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAPAAAAAQACAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENB2FuZHJvaWQEc3RhcgRpbmZvBnZvbHVtZQt2b2x1bWUtbXV0ZQZyZWxvYWQGcGVyc29uBHNraXAFY2xvc2ULc2NyZWVuLWZ1bGwEZ2RwcgdpbmZvLWFyAAAAAAH//wACAAEAAAAOAAAAGAAAAAAAAgABAAMADgABAAQAAAACAAAAAAABAAAAAMw9os8AAAAA1/jDcAAAAADX+MNw") format("truetype")}[data-icon]:before{content:attr(data-icon);font-family:"unityicons" !important}[class^="icon-"]:before,[class*=" icon-"]:before{font-family:"unityicons" !important}.icon-android:before{content:"\e000"}.icon-star:before{display:inline-block;width:1em;content:"\e001"}.icon-info:before{content:"\e002"}.icon-volume:before{content:"\e003"}.icon-volume-mute:before{content:"\e004"}.icon-reload:before{content:"\e005"}.icon-person:before{content:"\e006"}.icon-skip:before{content:"\e007"}.icon-close:before{content:"\e008"}.icon-screen-full:before{content:"\e009"}.icon-gdpr:before{content:"\e010"}.icon-info-ar:before{content:"\e011"}#admob #admob-iframe{position:fixed;display:block;width:100vw;height:100vh;border:none}#admob .gdpr-pop-up{position:fixed;bottom:0;width:100%;height:6vh;background-color:#fff;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);opacity:1}#admob .gdpr-pop-up .gdpr-text{padding:.5rem;font-size:.5rem;position:relative;top:50%;-webkit-transform:perspective(1px) translateY(-50%);transform:perspective(1px) translateY(-50%);text-align:center;}#admob .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#admob .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;position:fixed;top:0;left:0;margin:.25rem 0 0 .25rem;}#admob .privacy-button .icon-gdpr{color:#fff}@font-face{font-family:"unityicons";src:url("data:application/x-font-ttf;base64,AAEAAAANAIAAAwBQRkZUTXwvKbAAAA7MAAAAHEdERUYAPAAGAAAOrAAAACBPUy8yL5pMbQAAAVgAAABWY21hcOAn4+QAAAHYAAABUmdhc3D//wADAAAOpAAAAAhnbHlmHRlyIwAAA0wAAAkQaGVhZBELx/QAAADcAAAANmhoZWEEQQIFAAABFAAAACRobXR4Bu8BYAAAAbAAAAAmbG9jYQyUDqwAAAMsAAAAIG1heHAAWQCeAAABOAAAACBuYW1lYcLKkQAADFwAAAGtcG9zdDwkND0AAA4MAAAAlwABAAAAAQAAz/3xuF8PPPUACwIAAAAAANf4w3AAAAAA1/jDcAABAAAB+wIXAAAACAACAAAAAAAAAAEAAAIXAAAALgIAAAAAAAH7AAEAAAAAAAAAAAAAAAAAAAAEAAEAAAAPAJsACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAQIAAZAABQAIAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAIABQkAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUGZFZABA4ADgEQHg/+AALgIXAAAAAAABAAAAAAAAAgAAAAAAAAACAAAAAgAANwASACAAJgAmAE8AWgBGAIgAIAABAAIAAAAAAAMAAAADAAAAHAABAAAAAABMAAMAAQAAABwABAAwAAAACAAIAAIAAAAA4AngEf//AAAAAOAA4BD//wAAIAMf/QABAAAAAAAAAAAAAAEGAAABAAAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcANQBHgGGAfQCNgJsApYCzAL+A64EiAAGADcAIAHJAfsACwAXACYARgBeAG0AABMyNzY0JyYjIgYUFjMyNjQmIyIHBhQXFgYyFh0BFAcGIicmPQE0NyUVFAcGKwEVFAcGIicmPQEjFRQHBiInJjUnIyInJj0BNxYXFhUhNDc2NycmNzYfATYyFzc2FxYHFxUUBwYiJyY9ATQ2MhcWxAQEAwMEBAUGBn0FBgYFBAQDAwXyGhAICRgJCAgBRAkJDRUJCRgJCCgICRgJCAEVDQkJxCEQEv74EhEgFAIDBAIVGzwbFQIEAwJ0CAkYCQgQGggIAZYDAwoDAwYKBgYKBgMDCgMDNRANew0HCQkIDHsLCgO+DAsJQQ0HCQkIDEFBDAgJCQgMQQkLDL50EhocIiIcGhIlBQEBAyYMDCYDAQEFsXsMCAkJBw17DRAICgAAAAABABIAUQHuAhcAIwAAARQPARcVFAcGIyIvAQcGIyInJjU0PwEnJjU0PwI2Mh8CFgHuCGcYAwMFBAiAgAgEBgMDARhoBxCQQAYQBkCQEAFnBghljwUHAwUEQ0MEBQMHAwKPZQsDCwIVggwMghUCAAAABAAgAEAB4AIAAAkAFQAhADMAAAEyNjU0JiIGFBY3IgYVFBYzMjY1NCYDIiY1NDYzMhYVFAYnNCYrASIGFTMVFBY7ATI2NSMBAA4SExoTEw1chIRcXYODXUJeXkJDXV0jFAwgDBQgFAwgDBQgAWASDg0TExoToIRcXYODXVyE/oBdQ0JeXkJDXaAMFBQMYAwUFAwAAAMAJgBtAdoB0wAZADEARgAAASMnIyYPAQYfATUVHgEHNQcGHwEWPwEjNjQnNScmByMVBwYfATMWFA8BBh8BFj8BNjQnIg8CIyIdARQ7AR8BFjMyPQERJgGUAQkBCQkRBwcKNwE3CgcIEQkJCgFGdwoKCAERBwcKARsbCggJEgkICil/BAFpKEoICEo7VQQCCwIByQoICREJCQoBATedNwEKCwgRBwcKRsYCAQoHCAERCQgKHEwcCgkJEgcHCit2SwE9FwhpCCIxAgoCAQ4JAAAFACYAaAHYAdgADwAfACYANwBFAAABFR8BFgcXNiYvASYHIwcGNyMnIyYPAQYfAR4BBxc2JicmIyIPARcnIyIdARQ7AR8BFjMyPQInBQEmBxUHBhcBFj8BNTYBNQoBIwopERAgCgoIAREHZgEJAQkJEQcHCioVGCUmFbQCCQMCLDyhSggISjtVAgQLmAE2/rUJCRIJCQFLCQkSCQFsAQkBIy8pJ1ggCgcIEQlVCggJEggJCip2NCVEoAwKAhk8AghqCCIxAQoBMZfJAUsJCQESCQn+tQkJEgEJAAAAAQBPAGsBsQHVACoAAAE0JyYPAiYiBhQWMzI2NzY1Ji8BJgcGIyImNDYzMhcPAQYXFB8BFjc2NQGxBAMFHwI1lmpqSy1QGQICAi0IBh86LD8/LCYcBR4FAgWCBAMDAbEFAgICFgI1apZqKiYCBAUBIAUILz9YPxcDFgMFBAIsAgMCBAAAAQBaAGUBpgHbACIAACUvATY3NjU0Jy4BIyIGBwYVFBcWFw8BBh0BFBYzITI2PQE0AZpQIhYNCgQILB0cLQgECw0WIFMMCwgBJggL6yYQDRwXFw8MHyknHxILGRgaDQ8mBw5bCQ0NCVsPAAAAAQBGAKcBugGZABsAAAE0LwEmIyIdAScmIyIdARQzMj8BFRQzMj8BNTYBugXAAgQIkgQCCQkCBJIIAwTABAEgBgJvAghOVAII4ggCVE4IAm8BAgAAAQCIAJwBeAGlACAAACUWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwFvCQkKGApEQwoYCggIR0cICAoYCkNEChgKCQlHR9AJGgkICE5OCAgIHAhQUQgcCAgITk4ICAkaCVFQAAAABgAgAGAB4AHgAAMABwANABMAGQAfAAA3IREhFzMVIyczNSMVMxUjFTM1IwEVMxUzNQMjFTM1I2ABQP7AQMDAYGCAICCAYAEgYCAgYIAgoAEAQIDgIICAgCABYCBggP6gIIAAAAQAAQAAAfsCAAAqAE8AaQCAAAAlMhYVFAcGDwEGFRQfARY7ATc2PwE2OwExMhYVFA8BBisBIg8BJzc2PwEzNSMHBg8BBhUUHwEWMzI/ATMyPwE2NTQmIyIPAic3PgE1NCYjNyciJiMxIiMPAQYdARQXFhc7ATY3NjUxNTQPAQYiLwEmND8BNjIfATc2MzEyHwEWFAEqCg4DBQo3EQQGBwwDUQcGWQcJAQoOB3QHD7cJBx1ZcgcLiAMGiBENdgYEYQYHCQQgtxYQdAocFBAMWVEGNw8TGxO0YAEDAQECAl8HHxwsAQcrHh81QAEGAR4BAQgCBAISNQEDAwEHAu0OCgcFCQIPBREGCAgKCQEFVAcOCgsHcQkHH1liBQISFxICC2UECgUGYQYGIhBxDRAUHAlUCQgQBBkQFBvcHwEBHwQHQDIpJQ4MJykyQAc5QAEBHQEGAQgCAhI1AQEIAgQAAAAIAAIAnwH3AWgAHgApAEkAawB+AIIAjwCaAAABNiYnJiMhIyImIyIHIgcGBwYHBhceATMhMjc2NzY1BSImNT4BMzIWFAY3MhcWFxYGKwEiJicmJyIrASYHFQ4BIyI3Njc+ATc2MxciJicmJy4BBwYdARQjBiY9AjQ7ATIXFhcWBwYXFhcWBiQiPQEmJyMGBwYzFh0BFBYzMjcmMjQiBSYHMB0BFDMyNzY3NgcjBgcGFzAzMicmAfcBIxMHDf7GCAIJAgMCEgkgEwgCAgUIMx0BRREJIxUB/nEdKgEpHR4pKYwJAwghAwIJAwoFAwQDAgoYCAMECQ8HAwEEBhkGAgyjDwcHCAUCEAMCCA4FCSoHChgDBRQHBA4GAwL+0hACDBAHAwYJCAkODQQoHBwBKhUBCBADDQICiwICBQUDFAYCBgErEicCAQEBAw0hDBsdExslAQQnAgMTKh0dKSo6KYcIF1cIAwMKDAEBCAINBAUHCRFAEQqBBQ0QCAQDAwIFHwgBBQ4vNwkCCBUaDgUIGAwGAxYLHg4CAgQIAQgbDQgHThwOAQQPDAgBAw4UDwURFAEFFQAAAAAMAJYAAQAAAAAAAQAKABYAAQAAAAAAAgAHADEAAQAAAAAAAwAnAIkAAQAAAAAABAAKAMcAAQAAAAAABQALAOoAAQAAAAAABgAKAQwAAwABBAkAAQAUAAAAAwABBAkAAgAOACEAAwABBAkAAwBOADkAAwABBAkABAAUALEAAwABBAkABQAWANIAAwABBAkABgAUAPYAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIAB1AG4AaQB0AHkAaQBjAG8AbgBzACAAOgAgADIANgAtADEAMAAtADIAMAAxADgAAEZvbnRGb3JnZSAyLjAgOiB1bml0eWljb25zIDogMjYtMTAtMjAxOAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAVgBlAHIAcwBpAG8AbgAgADEALgAwAABWZXJzaW9uIDEuMAAAdQBuAGkAdAB5AGkAYwBvAG4AcwAAdW5pdHlpY29ucwAAAAAAAgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAPAAAAAQACAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENB2FuZHJvaWQEc3RhcgRpbmZvBnZvbHVtZQt2b2x1bWUtbXV0ZQZyZWxvYWQGcGVyc29uBHNraXAFY2xvc2ULc2NyZWVuLWZ1bGwEZ2RwcgdpbmZvLWFyAAAAAAH//wACAAEAAAAOAAAAGAAAAAAAAgABAAMADgABAAQAAAACAAAAAAABAAAAAMw9os8AAAAA1/jDcAAAAADX+MNw") format("truetype")}[data-icon]:before{content:attr(data-icon);font-family:"unityicons" !important}[class^="icon-"]:before,[class*=" icon-"]:before{font-family:"unityicons" !important}.icon-android:before{content:"\e000"}.icon-star:before{display:inline-block;width:1em;content:"\e001"}.icon-info:before{content:"\e002"}.icon-volume:before{content:"\e003"}.icon-volume-mute:before{content:"\e004"}.icon-reload:before{content:"\e005"}.icon-person:before{content:"\e006"}.icon-skip:before{content:"\e007"}.icon-close:before{content:"\e008"}.icon-screen-full:before{content:"\e009"}.icon-gdpr:before{content:"\e010"}.icon-info-ar:before{content:"\e011"}#promo iframe{position:fixed;display:block;width:100vw;height:100vh;border:none}#promo .gdpr-pop-up{position:fixed;bottom:0;width:100%;height:6vh;background-color:#fff;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,0.1);box-shadow:0 0 15px 0 rgba(0,0,0,0.1);opacity:1}#promo .gdpr-pop-up .gdpr-text{padding:.5rem;font-size:.5rem;position:relative;top:50%;-webkit-transform:perspective(1px) translateY(-50%);transform:perspective(1px) translateY(-50%);text-align:center;}#promo .gdpr-pop-up .gdpr-text .gdpr-link{color:#167dfb}#promo .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;position:fixed;top:0;left:0;margin:.25rem 0 0 .25rem;}#promo .privacy-button .icon-gdpr{color:#fff}#vast-end-screen{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;}#vast-end-screen .campaign-container{width:100%;height:100%}#vast-end-screen .game-background{width:100%;height:100%;background-color:#000;background-position:center;background-size:contain;background-repeat:no-repeat}body.portrait #vast-end-screen .game-background-portrait{display:block}body.portrait #vast-end-screen .game-background-landscape{display:none}body.landscape #vast-end-screen .game-background-portrait{display:none}body.landscape #vast-end-screen .game-background-landscape{display:block}#vast-end-screen .btn-close-region{z-index:100;width:2.1875rem;font-size:1.25rem;line-height:2.1875rem;position:absolute;right:0;color:#fff;text-align:center;text-shadow:2px 2px 20px #7c7c7c;padding:.25rem}#vast-end-screen .privacy-button{position:absolute;bottom:0;z-index:10;color:#e6e6e6;margin:0 0 0 .25rem}#vast-end-screen .tencent-advertisement{position:fixed;padding:.7rem;color:#fff;font-size:.75rem;top:0;padding:.5rem}#privacy{position:absolute;top:0;left:0;z-index:9999;overflow:hidden;width:100%;height:100%;background:rgba(0,0,0,0.5);color:#333;font-weight:300;font-size:.65rem;overflow-x:hidden;}#privacy .pop-up{position:relative;margin:5%;padding:1rem;width:80%;height:70%;border-radius:.25rem;background:#fafafa;}#privacy .pop-up .fade-out-gradient-separator{position:absolute;bottom:10%;left:0;width:100%;height:3rem;background:-webkit-gradient(linear,left bottom, left top,color-stop(0, #fafafa),color-stop(50%, #fafafa),to(rgba(250,250,250,0)));background:linear-gradient(to top,#fafafa 0,#fafafa 50%,rgba(250,250,250,0) 100%)}#privacy .pop-up .pop-up-content{overflow:auto;padding-right:.5rem;height:90%;}#privacy .pop-up .pop-up-content .header,#privacy .pop-up .pop-up-content .highlight{font-weight:400}#privacy .pop-up .pop-up-content .icon-gdpr{display:block;text-align:center;font-size:2.5rem;opacity:.4}#privacy .pop-up .pop-up-content .centered-title{display:block;text-align:center}#privacy .pop-up .pop-up-content .title{margin-top:.5rem;margin-bottom:1rem;font-weight:500;font-size:.7150000000000001rem}#privacy .pop-up .pop-up-content .header{display:block;margin:1rem 0 .5rem 0;font-size:.7474999999999999rem}#privacy .pop-up .pop-up-content p{line-height:.9750000000000001rem;}#privacy .pop-up .pop-up-content p:last-of-type{min-height:9.75rem}#privacy .pop-up .pop-up-content .report-title{margin-top:1rem;margin-bottom:1rem;font-size:.9750000000000001rem}#privacy .pop-up .pop-up-content .report-dialog{display:block;text-align:center;font-style:italic;font-size:.65rem}#privacy .pop-up .pop-up-content .report-disclaimer{display:block;margin-top:.5rem;margin-bottom:.5rem;text-align:center;font-size:.39rem}#privacy .pop-up .pop-up-content .report-container{height:4.5rem;}#privacy .pop-up .pop-up-content .report-container .report-button{display:inline-block;float:left;margin:.5rem;padding:.75rem 1.5rem;border-radius:.25rem;background:#7ed321;color:#fff;font-size:.8125rem}#privacy .pop-up .pop-up-content .report-container .report-confirmed-text{display:inline-block;margin-top:.9rem;width:50%;vertical-align:middle;text-align:center;font-size:.65rem;opacity:0;-webkit-transition:opacity .25s ease-in;transition:opacity .25s ease-in;}#privacy .pop-up .pop-up-content .report-container .report-confirmed-text.active{opacity:1}#privacy .pop-up .pop-up-content .radio-group-container{padding:.5rem;font-size:.65rem;}#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:checked,#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:not(:checked){position:absolute;visibility:hidden}#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:checked + label,#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:not(:checked) + label{position:relative;padding-left:1.5rem;cursor:pointer;line-height:.9750000000000001rem;display:inline-block}#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:checked + label:before,#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:not(:checked) + label:before{content:'';position:absolute;left:0;top:0;width:.75rem;height:.75rem;background-size:cover;background-repeat:no-repeat;background-position:center}#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:checked + label:before{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURQAAAIDVIn/UIn/UIYPXJX/UIX/UIoDVIYHWI3/UIYffLH7TIS7R46AAAAALdFJOUwBOpvQbddqKK8EL80iDXQAAANdJREFUOMuVlFkOxSAIRQsoDux/v6/FIa22yX38GPHIJHgc/0olLiqihal+IJnFpgjnFyTweVQi5VozxXJuOKwMiUm6aUM6FfRk4n7xMh0XJu4RPLVkRm+p3PVB5g3iqwRM05aMINi4IzoqoLQc5YEnu0kaTnKn087YVLqpKhZ6lE9xj8Gk+mHxO7pC6uriMLfUNkPdVHR/DT14h/iYjrTFrzukLfdrEfPekR0Sz8sXCILcQYFDJYCKCT0L9MBYq0BNh7UvNAjYSGHDiY059mFgXw/4iX3LD7r3FKUDUZ5wAAAAAElFTkSuQmCC")}#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:not(:checked) + label:before{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURQAAAOjp7ufp7uvx9ers8Ofp7ufr7+bp7ufp7ubp7+bp7ejq7efp7icP+oYAAAAMdFJOUwB69RInrUSgwVLZV6JS+EoAAADBSURBVDjLlZRXEsMgDEStQvXe/7wh2HHiArPRh2cMb6RFbVn+NSspV9WaU7EB4kFxmAZ/QlK7yhLdzKPk9pNuWFSo/MQwaQfxzAhw9e8BkAsjdwXn0wisT09ZgSOi65OfzZd+RCSEUeYC0u7oi98To/CdlnERZItiCptUCvq+LcizemaULltmkHTpGXEGxR6owmeQo7bvVHdXzkJUOEo4lQIqmVRZqAJzrUI1Hde+1CBwI8UNJzfm3MLgVg+5xMb2AnKHCD3v0FC4AAAAAElFTkSuQmCC")}#privacy .pop-up .pop-up-content .radio-group-container [type="radio"]:checked + label{font-weight:500}#privacy .pop-up .pop-up-content .radio-group-container .radio-item-container{margin:0 auto;padding:.25rem;width:85%}#privacy .pop-up .pop-up-footer{position:absolute;bottom:0;left:0;width:100%;font-size:.48750000000000004rem;}#privacy .pop-up .pop-up-footer .close-button{position:absolute;right:0;bottom:0;display:inline-block;margin:.5rem;padding:.75rem 1.5rem;border-radius:.25rem;background:#167dfb;color:#fff;font-size:.8125rem}#privacy .pop-up .pop-up-footer .left-side-link{bottom:0;display:inline-block;margin-bottom:.5rem;margin-left:.5rem;width:22%;color:#8a8a8a}#privacy .pop-up .pop-up-footer .middle-link{bottom:0;display:inline-block;margin:.5rem;width:22%;color:#8a8a8a}#privacy .pop-up .page-link{color:#167dfb;cursor:pointer}#privacy .pop-up-content .icon-gdpr{display:block;text-align:center;font-size:2.5rem;opacity:.41}#privacy .pop-up-content .centered-title{display:block;text-align:center}#privacy .build-side,#privacy .report-side{display:none;font-size:.75rem}#privacy .gdpr-text-android,#privacy .gdpr-text-ios{display:none}#privacy #data-deletion-container{padding:.75rem 0;}#privacy #data-deletion-container .page-link{pointer-events:none}#privacy #data-deletion-container.active .page-link{pointer-events:auto}#privacy #data-deletion-container,#privacy #data-deletion-request-container{display:block;text-align:center;opacity:0;-webkit-transition:opacity 250ms ease-in;transition:opacity 250ms ease-in;}#privacy #data-deletion-container.active,#privacy #data-deletion-request-container.active{opacity:1}#privacy.build .build-side{display:block;word-wrap:break-word;}#privacy.build .build-side .build-information-key{font-weight:800}#privacy.build .pop-up-content:not(.build-side){display:none}#privacy.report .report-side{display:block;word-wrap:break-word}#privacy.report .pop-up-content:not(.report-side){display:none}.build-information-item{margin:0}body.android #privacy .gdpr-text-android,body.iphone #privacy .gdpr-text-ios,body.ipad #privacy .gdpr-text-ios{display:initial}</style>
  <script>'use strict';
var h = h || {};
h.scope = {};
h.ASSUME_ES5 = !1;
h.ASSUME_NO_NATIVE_MAP = !1;
h.ASSUME_NO_NATIVE_SET = !1;
h.defineProperty = h.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function(l, q, z) {
  l != Array.prototype && l != Object.prototype && (l[q] = z.value);
};
h.getGlobal = function(l) {
  return "undefined" != typeof window && window === l ? l : "undefined" != typeof global && null != global ? global : l;
};
h.global = h.getGlobal(this);
h.SYMBOL_PREFIX = "jscomp_symbol_";
h.initSymbol = function() {
  h.initSymbol = function() {
  };
  h.global.Symbol || (h.global.Symbol = h.Symbol);
};
h.Symbol = function() {
  var l = 0;
  return function(q) {
    return h.SYMBOL_PREFIX + (q || "") + l++;
  };
}();
h.initSymbolIterator = function() {
  h.initSymbol();
  var l = h.global.Symbol.iterator;
  l || (l = h.global.Symbol.iterator = h.global.Symbol("iterator"));
  "function" != typeof Array.prototype[l] && h.defineProperty(Array.prototype, l, {configurable:!0, writable:!0, value:function() {
    return h.arrayIterator(this);
  }});
  h.initSymbolIterator = function() {
  };
};
h.initSymbolAsyncIterator = function() {
  h.initSymbol();
  var l = h.global.Symbol.asyncIterator;
  l || (l = h.global.Symbol.asyncIterator = h.global.Symbol("asyncIterator"));
  h.initSymbolAsyncIterator = function() {
  };
};
h.arrayIterator = function(l) {
  var q = 0;
  return h.iteratorPrototype(function() {
    return q < l.length ? {done:!1, value:l[q++]} : {done:!0};
  });
};
h.iteratorPrototype = function(l) {
  h.initSymbolIterator();
  l = {next:l};
  l[h.global.Symbol.iterator] = function() {
    return this;
  };
  return l;
};
h.makeIterator = function(l) {
  h.initSymbolIterator();
  h.initSymbol();
  h.initSymbolIterator();
  var q = l[Symbol.iterator];
  return q ? q.call(l) : h.arrayIterator(l);
};
h.objectCreate = h.ASSUME_ES5 || "function" == typeof Object.create ? Object.create : function(l) {
  function q() {
  }
  q.prototype = l;
  return new q;
};
h.underscoreProtoCanBeSet = function() {
  var l = {a:!0}, q = {};
  try {
    return q.__proto__ = l, q.a;
  } catch (z) {
  }
  return !1;
};
h.setPrototypeOf = "function" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : h.underscoreProtoCanBeSet() ? function(l, q) {
  l.__proto__ = q;
  if (l.__proto__ !== q) {
    throw new TypeError(l + " is not extensible");
  }
  return l;
} : null;
h.inherits = function(l, q) {
  l.prototype = h.objectCreate(q.prototype);
  l.prototype.constructor = l;
  if (h.setPrototypeOf) {
    (0,h.setPrototypeOf)(l, q);
  } else {
    for (var z in q) {
      if ("prototype" != z) {
        if (Object.defineProperties) {
          var J = Object.getOwnPropertyDescriptor(q, z);
          J && Object.defineProperty(l, z, J);
        } else {
          l[z] = q[z];
        }
      }
    }
  }
  l.superClass_ = q.prototype;
};
h.arrayFromIterator = function(l) {
  for (var q, z = []; !(q = l.next()).done;) {
    z.push(q.value);
  }
  return z;
};
h.arrayFromIterable = function(l) {
  return l instanceof Array ? l : h.arrayFromIterator(h.makeIterator(l));
};
h.polyfill = function(l, q) {
  if (q) {
    var z = h.global;
    l = l.split(".");
    for (var J = 0; J < l.length - 1; J++) {
      var za = l[J];
      za in z || (z[za] = {});
      z = z[za];
    }
    l = l[l.length - 1];
    J = z[l];
    q = q(J);
    q != J && null != q && h.defineProperty(z, l, {configurable:!0, writable:!0, value:q});
  }
};
h.FORCE_POLYFILL_PROMISE = !1;
h.polyfill("Promise", function(l) {
  function q(l) {
    this.state_ = 0;
    this.result_ = void 0;
    this.onSettledCallbacks_ = [];
    var q = this.createResolveAndReject_();
    try {
      l(q.resolve, q.reject);
    } catch (W) {
      q.reject(W);
    }
  }
  function z() {
    this.batch_ = null;
  }
  function J(l) {
    return l instanceof q ? l : new q(function(q) {
      q(l);
    });
  }
  if (l && !h.FORCE_POLYFILL_PROMISE) {
    return l;
  }
  z.prototype.asyncExecute = function(l) {
    null == this.batch_ && (this.batch_ = [], this.asyncExecuteBatch_());
    this.batch_.push(l);
    return this;
  };
  z.prototype.asyncExecuteBatch_ = function() {
    var l = this;
    this.asyncExecuteFunction(function() {
      l.executeBatch_();
    });
  };
  var za = h.global.setTimeout;
  z.prototype.asyncExecuteFunction = function(l) {
    za(l, 0);
  };
  z.prototype.executeBatch_ = function() {
    for (; this.batch_ && this.batch_.length;) {
      var l = this.batch_;
      this.batch_ = [];
      for (var q = 0; q < l.length; ++q) {
        var W = l[q];
        l[q] = null;
        try {
          W();
        } catch (Oa) {
          this.asyncThrow_(Oa);
        }
      }
    }
    this.batch_ = null;
  };
  z.prototype.asyncThrow_ = function(l) {
    this.asyncExecuteFunction(function() {
      throw l;
    });
  };
  q.prototype.createResolveAndReject_ = function() {
    function l(l) {
      return function(Rd) {
        W || (W = !0, l.call(q, Rd));
      };
    }
    var q = this, W = !1;
    return {resolve:l(this.resolveTo_), reject:l(this.reject_)};
  };
  q.prototype.resolveTo_ = function(l) {
    if (l === this) {
      this.reject_(new TypeError("A Promise cannot resolve to itself"));
    } else {
      if (l instanceof q) {
        this.settleSameAsPromise_(l);
      } else {
        a: {
          switch(typeof l) {
            case "object":
              var z = null != l;
              break a;
            case "function":
              z = !0;
              break a;
            default:
              z = !1;
          }
        }
        z ? this.resolveToNonPromiseObj_(l) : this.fulfill_(l);
      }
    }
  };
  q.prototype.resolveToNonPromiseObj_ = function(l) {
    var q = void 0;
    try {
      q = l.then;
    } catch (W) {
      this.reject_(W);
      return;
    }
    "function" == typeof q ? this.settleSameAsThenable_(q, l) : this.fulfill_(l);
  };
  q.prototype.reject_ = function(l) {
    this.settle_(2, l);
  };
  q.prototype.fulfill_ = function(l) {
    this.settle_(1, l);
  };
  q.prototype.settle_ = function(l, q) {
    if (0 != this.state_) {
      throw Error("Cannot settle(" + l + ", " + q + "): Promise already settled in state" + this.state_);
    }
    this.state_ = l;
    this.result_ = q;
    this.executeOnSettledCallbacks_();
  };
  q.prototype.executeOnSettledCallbacks_ = function() {
    if (null != this.onSettledCallbacks_) {
      for (var l = 0; l < this.onSettledCallbacks_.length; ++l) {
        wd.asyncExecute(this.onSettledCallbacks_[l]);
      }
      this.onSettledCallbacks_ = null;
    }
  };
  var wd = new z;
  q.prototype.settleSameAsPromise_ = function(l) {
    var q = this.createResolveAndReject_();
    l.callWhenSettled_(q.resolve, q.reject);
  };
  q.prototype.settleSameAsThenable_ = function(l, q) {
    var z = this.createResolveAndReject_();
    try {
      l.call(q, z.resolve, z.reject);
    } catch (Oa) {
      z.reject(Oa);
    }
  };
  q.prototype.then = function(l, z) {
    function W(l, q) {
      return "function" == typeof l ? function(q) {
        try {
          J(l(q));
        } catch (tc) {
          za(tc);
        }
      } : q;
    }
    var J, za, Rd = new q(function(l, q) {
      J = l;
      za = q;
    });
    this.callWhenSettled_(W(l, J), W(z, za));
    return Rd;
  };
  q.prototype.catch = function(l) {
    return this.then(void 0, l);
  };
  q.prototype.callWhenSettled_ = function(l, q) {
    function z() {
      switch(J.state_) {
        case 1:
          l(J.result_);
          break;
        case 2:
          q(J.result_);
          break;
        default:
          throw Error("Unexpected state: " + J.state_);
      }
    }
    var J = this;
    null == this.onSettledCallbacks_ ? wd.asyncExecute(z) : this.onSettledCallbacks_.push(z);
  };
  q.resolve = J;
  q.reject = function(l) {
    return new q(function(q, z) {
      z(l);
    });
  };
  q.race = function(l) {
    return new q(function(q, z) {
      for (var W = h.makeIterator(l), za = W.next(); !za.done; za = W.next()) {
        J(za.value).callWhenSettled_(q, z);
      }
    });
  };
  q.all = function(l) {
    var z = h.makeIterator(l), W = z.next();
    return W.done ? J([]) : new q(function(l, q) {
      function za(q) {
        return function(z) {
          Oa[q] = z;
          Bb--;
          0 == Bb && l(Oa);
        };
      }
      var Oa = [], Bb = 0;
      do {
        Oa.push(void 0), Bb++, J(W.value).callWhenSettled_(za(Oa.length - 1), q), W = z.next();
      } while (!W.done);
    });
  };
  return q;
}, "es6", "es3");
h.polyfill("Number.isFinite", function(l) {
  return l ? l : function(l) {
    return "number" !== typeof l ? !1 : !isNaN(l) && Infinity !== l && -Infinity !== l;
  };
}, "es6", "es3");
h.polyfill("Number.isInteger", function(l) {
  return l ? l : function(l) {
    return Number.isFinite(l) ? l === Math.floor(l) : !1;
  };
}, "es6", "es3");
h.owns = function(l, q) {
  return Object.prototype.hasOwnProperty.call(l, q);
};
h.assign = "function" == typeof Object.assign ? Object.assign : function(l, q) {
  for (var z = 1; z < arguments.length; z++) {
    var J = arguments[z];
    if (J) {
      for (var za in J) {
        h.owns(J, za) && (l[za] = J[za]);
      }
    }
  }
  return l;
};
h.polyfill("Object.assign", function(l) {
  return l || h.assign;
}, "es6", "es3");
h.iteratorFromArray = function(l, q) {
  h.initSymbolIterator();
  l instanceof String && (l += "");
  var z = 0, J = {next:function() {
    if (z < l.length) {
      var za = z++;
      return {value:q(za, l[za]), done:!1};
    }
    J.next = function() {
      return {done:!0, value:void 0};
    };
    return J.next();
  }};
  J[Symbol.iterator] = function() {
    return J;
  };
  return J;
};
h.polyfill("Array.prototype.keys", function(l) {
  return l ? l : function() {
    return h.iteratorFromArray(this, function(l) {
      return l;
    });
  };
}, "es6", "es3");
h.polyfill("Object.values", function(l) {
  return l ? l : function(l) {
    var q = [], J;
    for (J in l) {
      h.owns(l, J) && q.push(l[J]);
    }
    return q;
  };
}, "es8", "es3");
h.polyfill("Number.MAX_SAFE_INTEGER", function() {
  return 9007199254740991;
}, "es6", "es3");
(function() {
  function l() {
    if ("undefined" !== typeof window.orientation && "ios" === ef && !Ff) {
      switch(window.orientation) {
        case 180:
          var b = "ios-portrait-upside-down";
          break;
        case 90:
          b = "ios-landscape-left";
          break;
        case -90:
          b = "ios-landscape-right";
          break;
        default:
          b = "ios-portrait";
      }
      document.body.classList.remove.apply(document.body.classList, ["ios-landscape-left", "ios-landscape-right", "ios-portrait-upside-down"]);
      b && document.body.classList.add(b);
    }
  }
  function q() {
    Gf || (Gf = !0, "function" === typeof zg ? zg(z) : setTimeout(z, 100));
  }
  function z() {
    var b = 1 <= window.innerWidth / window.innerHeight ? "landscape" : "portrait";
    "undefined" === typeof window.orientation || "ios" !== ef || Ff || (b = 90 === Math.abs(window.orientation) ? "landscape" : "portrait");
    document.body.classList.remove("landscape");
    document.body.classList.remove("portrait");
    document.body.classList.add(b);
    Gf = !1;
  }
  function J(b) {
    var a = this;
    window && window.addEventListener && window.addEventListener("error", function(b) {
      return a.onError(b);
    }, !1);
    this._core = new za(b);
  }
  function za(b) {
    this._initialized = !1;
    this.NativeBridge = b;
    var a = b.getPlatform();
    this.Api = {Cache:new ob(b), Connectivity:new ff(b), DeviceInfo:new Da(b), Request:new tc(b), Resolve:new cf(b), Sdk:new Bb(b), SensorInfo:new wd(b), Storage:new Rc(b), Android:a === m.ANDROID ? {Broadcast:new Sd(b), Intent:new De(b), Lifecycle:new Ce(b), Preferences:new Oa(b)} : void 0, iOS:a === m.IOS ? {Notification:new xd(b), Preferences:new W(b), UrlScheme:new Hf(b)} : void 0};
    this.FocusManager = new Cb(this.NativeBridge.getPlatform(), this.Api);
    this.WakeUpManager = new If(this.Api);
    this.CacheBookkeeping = new Ub(this.Api);
    this.ResolveManager = new Vb(this.Api);
    this.MetaDataManager = new Jf(this.NativeBridge.getPlatform(), this.Api);
    this.StorageBridge = new df(this.Api);
  }
  function wd(b) {
    var a = w.call(this, b, "SensorInfo") || this;
    b.getPlatform() === m.IOS ? a.Ios = new Rd(b) : a.Android = new Ef(b);
    return a;
  }
  function Rd(b) {
    return w.call(this, b, "SensorInfo") || this;
  }
  function Ef(b) {
    return w.call(this, b, "SensorInfo") || this;
  }
  function W(b) {
    return w.call(this, b, "Preferences") || this;
  }
  function Oa(b) {
    return w.call(this, b, "Preferences") || this;
  }
  function Ce(b) {
    b = w.call(this, b, "Lifecycle", Za.LIFECYCLE) || this;
    b.onActivityCreated = new S;
    b.onActivityStarted = new S;
    b.onActivityResumed = new S;
    b.onActivityPaused = new S;
    b.onActivityStopped = new S;
    b.onActivitySaveInstanceState = new S;
    b.onActivityDestroyed = new S;
    return b;
  }
  function df(b, a) {
    this.onPublicStorageWrite = new ma;
    this.onPrivateStorageWrite = new ma;
    this._storageBatchInterval = 1000;
    this._core = b;
    this._publicStorageQueue = {commands:[]};
    this._privateStorageQueue = {commands:[]};
    a && (this._storageBatchInterval = a);
  }
  function yg() {
  }
  function Bb(b) {
    return w.call(this, b, "Sdk") || this;
  }
  function cf(b) {
    b = w.call(this, b, "Resolve", Za.RESOLVE) || this;
    b.onComplete = new jd;
    b.onFailed = new Ee;
    return b;
  }
  function tc(b) {
    b = w.call(this, b, "Request", Za.REQUEST) || this;
    b.onComplete = new Td;
    b.onFailed = new jd;
    return b;
  }
  function Hf(b) {
    return w.call(this, b, "UrlScheme") || this;
  }
  function xd(b) {
    b = w.call(this, b, "Notification", Za.NOTIFICATION) || this;
    b.onNotification = new mc;
    return b;
  }
  function Da(b) {
    var a = w.call(this, b, "DeviceInfo") || this;
    b.getPlatform() === m.IOS ? a.Ios = new Db(b) : a.Android = new U(b);
    return a;
  }
  function Db(b) {
    b = w.call(this, b, "DeviceInfo", Za.DEVICEINFO) || this;
    b.onVolumeChanged = new mc;
    return b;
  }
  function ff(b) {
    b = w.call(this, b, "Connectivity", Za.CONNECTIVITY) || this;
    b.onConnected = new mc;
    b.onDisconnected = new ma;
    return b;
  }
  function De(b) {
    return w.call(this, b, "Intent") || this;
  }
  function Sd(b) {
    b = w.call(this, b, "Broadcast", Za.BROADCAST) || this;
    b.onBroadcastAction = new Ee;
    return b;
  }
  function Eb(b) {
    var a = A.call(this, "ClientInfo", {gameId:["string"], testMode:["boolean"], applicationName:["string"], applicationVersion:["string"], sdkVersion:["number"], sdkVersionName:["string"], debuggable:["boolean"], configUrl:["string"], webviewUrl:["string"], webviewHash:["string", "null"], webviewVersion:["string", "null"], initTimestamp:["number"], reinitialized:["boolean"]}) || this;
    a.set("gameId", b[0]);
    a.set("testMode", b[1]);
    a.set("applicationName", b[2]);
    a.set("applicationVersion", b[3]);
    a.set("sdkVersion", b[4]);
    a.set("sdkVersionName", b[5]);
    a.set("debuggable", b[6]);
    a.set("configUrl", b[7]);
    a.set("webviewUrl", b[8]);
    a.set("webviewHash", b[9]);
    a.set("webviewVersion", b[10]);
    a.set("initTimestamp", b[11]);
    a.set("reinitialized", b[12]);
    return a;
  }
  function If(b) {
    var a = this;
    this.onNetworkConnected = new ma;
    this._core = b;
    this._firstConnection = Date.now();
    this._connectionEvents = 0;
    this._core.Connectivity.onConnected.subscribe(function(b, d) {
      return a.onConnected(b, d);
    });
  }
  function Vb(b) {
    this._core = b;
    this._core.Resolve.onComplete.subscribe(function(a, b, d) {
      return Vb.onResolveComplete(a, b, d);
    });
    this._core.Resolve.onFailed.subscribe(function(a, b, d, e) {
      return Vb.onResolveFailed(a, b, d, e);
    });
  }
  function Jf(b, a) {
    this._metaDataCache = {};
    this._platform = b;
    this._core = a;
  }
  function hb(b) {
    this._isJaegerTracingEnabled = !1;
    this._request = b;
  }
  function Cb(b, a) {
    var c = this;
    this.onAppForeground = new ma;
    this.onAppBackground = new ma;
    this.onActivityResumed = new S;
    this.onActivityPaused = new S;
    this.onActivityDestroyed = new S;
    this.onScreenOn = new ma;
    this._screenListener = "screenListener";
    this.ACTION_SCREEN_ON = "android.intent.action.SCREEN_ON";
    this._appForeground = !0;
    this._core = a;
    b === m.ANDROID ? (a.Android.Broadcast.onBroadcastAction.subscribe(function(a, b, f, g) {
      return c.onBroadcastAction(a, b, f, g);
    }), this._core.Android.Lifecycle.onActivityResumed.subscribe(function(a) {
      return c.onResume(a);
    }), this._core.Android.Lifecycle.onActivityPaused.subscribe(function(a) {
      return c.onPause(a);
    }), this._core.Android.Lifecycle.onActivityDestroyed.subscribe(function(a) {
      return c.onDestroyed(a);
    })) : a.iOS.Notification.onNotification.subscribe(function(a, b) {
      return c.onNotification(a, b);
    });
  }
  function $a(b, a, c, d, e, f) {
    this._platform = b;
    this._core = a;
    this._metaDataManager = c;
    this._clientInfo = d;
    this._deviceInfo = e;
    this._request = f;
  }
  function Fe() {
    var b = ab.call(this, "AdapterMetaData", Object.assign({}, ab.Schema, {name:["string", "undefined"], version:["string", "undefined"]})) || this;
    b.set("category", "adapter");
    b.set("keys", ["name", "version"]);
    return b;
  }
  function Ub(b) {
    this._rootKey = "cache";
    this._core = b;
  }
  function Kf(b) {
    return pb.call(this, b.message, b.name) || this;
  }
  function Ag(b) {
    this._core = b;
    this.AnalyticsStorage = new Ic(b.Api);
    this.AnalyticsManager = new aa(b.NativeBridge.getPlatform(), b.Api, b.RequestManager, b.ClientInfo, b.DeviceInfo, b.Config, b.FocusManager, this.AnalyticsStorage);
  }
  function aa(b, a, c, d, e, f, g, k) {
    this._newSessionTreshold = 1800000;
    this._platform = b;
    this._core = a;
    this._focusManager = g;
    this._request = c;
    this._clientInfo = d;
    this._deviceInfo = e;
    this._configuration = f;
    this._storage = k;
    this._endpoint = "https://prd-lender.cdp.internal.unity3d.com/v1/events";
    this._cdpEndpoint = "https://cdp.cloud.unity3d.com/v1/events";
  }
  function Ic(b) {
    this._core = b;
  }
  function yd(b, a) {
    this._wasRealtimePlacement = this._showing = !1;
    this.Config = Lf.parse(b, a.ClientInfo);
    this._core = a;
    b = a.NativeBridge.getPlatform();
    this.Api = {Listener:new zd(a.NativeBridge), Placement:new Ge(a.NativeBridge), VideoPlayer:new bc(a.NativeBridge), WebPlayer:new Sc(a.NativeBridge), Android:b === m.ANDROID ? {AdUnit:new bb(a.NativeBridge), VideoPlayer:new He(a.NativeBridge)} : void 0, iOS:b === m.IOS ? {AppSheet:new kd(a.NativeBridge), AdUnit:new qb(a.NativeBridge), VideoPlayer:new gf(a.NativeBridge)} : void 0};
    this.AdMobSignalFactory = new Ja(this._core.NativeBridge.getPlatform(), this._core.Api, this.Api, this._core.ClientInfo, this._core.DeviceInfo, this._core.FocusManager);
    this._core.NativeBridge.getPlatform() === m.ANDROID ? (document.body.classList.add("android"), this.Container = new ib(this._core.Api, this.Api, this._core.DeviceInfo)) : this._core.NativeBridge.getPlatform() === m.IOS && (a = this._core.DeviceInfo.getModel(), a.match(/iphone/i) || a.match(/ipod/i) ? document.body.classList.add("iphone") : a.match(/ipad/i) && document.body.classList.add("ipad"), this.Container = new Aa(this._core.Api, this.Api, this._core.DeviceInfo, this._core.FocusManager, 
    this._core.ClientInfo));
    this.SessionManager = new Tc(this._core.Api, this._core.RequestManager, this._core.StorageBridge);
    this.SessionManager.setGameSessionId(this._core.Analytics.AnalyticsManager.getGameSessionId());
    this.BackupCampaignManager = new cc(this._core.Api, this._core.StorageBridge, this._core.Config);
    this.ProgrammaticTrackingService = new Ad(this._core.NativeBridge.getPlatform(), this._core.RequestManager, this._core.ClientInfo, this._core.DeviceInfo);
    this.ContentTypeHandlerManager = new hf;
    this.MissedImpressionManager = new Bg(this._core.Api);
  }
  function Cg() {
    var b = {};
    b[Ud.ContentType] = {parser:new Ud, factory:new Mf};
    this._contentTypeHandlerMap = b;
    return this;
  }
  function Ud() {
    var b = nc.apply(this, arguments) || this;
    b._vpaidParser = new je;
    return b;
  }
  function je() {
    this.vastParser = new Ra;
  }
  function Wb(b, a) {
    this.vast = a;
    this.mediaFile = b;
  }
  function Mf(b) {
    return ia.apply(this, arguments) || this;
  }
  function yb(b, a, c, d, e) {
    var f = B.call(this, b, "vpaid") || this;
    f.vpaidSrcTag = "{{VPAID_SRC_URL}}";
    f._isPaused = !1;
    f._isLoaded = !1;
    f._core = a;
    f._ads = c;
    f._template = new va('<iframe id="vpaid-iframe" sandbox="allow-scripts"></iframe><div class="companion-container"><img class="companion"></div>');
    f._campaign = d;
    f._placement = e;
    f._stuckTimer = new ke(function() {
      return f._handlers.forEach(function(a) {
        return a.onVPAIDStuck();
      });
    }, yb.stuckDelay);
    f._bindings = [];
    return f;
  }
  function Xb(b, a, c, d) {
    var e = B.call(this, b, "closer") || this;
    e.onPrivacyOpened = new ma;
    e.onPrivacyClosed = new ma;
    e._canReward = !1;
    e._gdprPopupClicked = !1;
    e._template = new va('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="gdpr-pop-up"><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div><div class="privacy-button"><span class="icon-gdpr"></span></div>');
    e._placement = a;
    e._privacy = c;
    e._showGDPRBanner = d;
    e._bindings = [{event:"click", selector:".close", listener:function() {
      return e.onCloseClick();
    }}, {event:"click", listener:function(a) {
      return e.onGDPRPopupEvent(a);
    }, selector:".gdpr-link"}, {event:"click", listener:function(a) {
      return e.onPrivacyEvent(a);
    }, selector:".icon-gdpr"}];
    e._privacy.render();
    e._privacy.hide();
    document.body.appendChild(e._privacy.container());
    e._privacy.addEventHandler(e);
    return e;
  }
  function le(b, a) {
    this._adUnit = b;
    this._vpaidCampaign = a.campaign;
  }
  function na(b, a) {
    this._vpaidEventHandlers = {};
    this._adRemainingTime = this._adDuration = -2;
    this._operativeEventManager = a.operativeEventManager;
    this._thirdPartyEventManager = a.thirdPartyEventManager;
    this._adUnit = b;
    this._vpaidCampaign = a.campaign;
    this._placement = a.placement;
    this._closer = a.closer;
    this._vpaidEndScreen = a.endScreen;
    this._core = a.core;
    this._ads = a.ads;
    this._vpaidEventHandlers.AdError = this.onAdError;
    this._vpaidEventHandlers.AdLoaded = this.onAdLoaded;
    this._vpaidEventHandlers.AdStarted = this.onAdStarted;
    this._vpaidEventHandlers.AdStopped = this.onAdStopped;
    this._vpaidEventHandlers.AdSkipped = this.onAdSkipped;
    this._vpaidEventHandlers.AdImpression = this.onAdImpression;
    this._vpaidEventHandlers.AdVideoStart = this.onAdVideoStart;
    this._vpaidEventHandlers.AdVideoFirstQuartile = this.onAdVideoFirstQuartile;
    this._vpaidEventHandlers.AdVideoMidpoint = this.onAdVideoMidpoint;
    this._vpaidEventHandlers.AdVideoThirdQuartile = this.onAdVideoThirdQuartile;
    this._vpaidEventHandlers.AdVideoComplete = this.onAdVideoComplete;
    this._vpaidEventHandlers.AdPaused = this.onAdPaused;
    this._vpaidEventHandlers.AdPlaying = this.onAdPlaying;
    this._vpaidEventHandlers.AdClickThru = this.onAdClickThru;
    this._vpaidEventHandlers.AdDurationChange = this.onAdDurationChange;
  }
  function Nf(b, a) {
    var c = oc.call(this, a.gdprManager, a.coreConfig, a.adsConfig) || this;
    c._adUnit = b;
    c._operativeEventManager = a.operativeEventManager;
    c._campaign = a.campaign;
    c._placement = a.placement;
    c._endScreen = a.endScreen;
    return c;
  }
  function Vd(b, a, c) {
    var d = B.call(this, b, "end-screen") || this;
    d._isSwipeToCloseEnabled = !1;
    d._template = new va('<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><a class="btn-close brand"><span class="icon-close"></span></a></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="game-background game-background-landscape brand" style="background-image: url(\'<%= data.endScreenLandscape %>\')"></div><div class="game-background game-background-portrait brand" style="background-image: url(\'<%= data.endScreenPortrait %>\')"></div></div><div class="privacy-button"><span class="icon-gdpr"></span></div><div class="tencent-advertisement"></div>');
    a && (b = a.getCompanionLandscapeUrl(), a = a.getCompanionPortraitUrl(), d._templateData = {endScreenLandscape:b ? b : a ? a : void 0, endScreenPortrait:a ? a : b ? b : void 0});
    d._bindings = [{event:"click", listener:function(a) {
      return d.onClickEvent(a);
    }, selector:".game-background"}, {event:"click", listener:function(a) {
      return d.onCloseEvent(a);
    }, selector:".btn-close-region"}];
    fa.isTimehopApp(c) && (d._isSwipeToCloseEnabled = !0, d._bindings.push({event:"swipe", listener:function(a) {
      return d.onCloseEvent(a);
    }, selector:".campaign-container, .game-background"}));
    return d;
  }
  function X(b) {
    var a = K.call(this, b) || this;
    a._privacyShowing = !1;
    a._shouldFullScreenWebView = !0;
    a._topWebViewAreaMinHeight = 70;
    a._vpaidCampaign = b.campaign;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    a._options = b.options;
    a._view = b.vpaid;
    a._closer = b.closer;
    a._deviceInfo = b.deviceInfo;
    a._placement = b.placement;
    a._clientInfo = b.clientInfo;
    a._timer = new ke(function() {
      return a.onAdUnitNotLoaded();
    }, X._adLoadTimeout);
    a._endScreen = b.endScreen;
    a._endScreen && a._endScreen.render();
    a._topWebViewAreaHeight = a._platform === m.ANDROID ? Math.floor(a.getAndroidViewSize(a._topWebViewAreaMinHeight, a.getScreenDensity())) : a._topWebViewAreaMinHeight;
    a._closer.render();
    a._closer.choosePrivacyShown();
    return a;
  }
  function Of(b, a, c) {
    var d = {};
    d[Uc.ContentType] = {parser:new Uc, factory:new Pf};
    this._contentTypeHandlerMap = d;
    this._core = b;
    this._ads = a;
    this._analytics = c;
    this.Api = {Purchasing:new Wd(this._core.NativeBridge)};
    this.PromoEvents = new pc(b.NativeBridge.getPlatform(), b.Api, b.Config, a.Config, b.ClientInfo, b.DeviceInfo, c.AnalyticsStorage);
    return this;
  }
  function Wd(b) {
    b = w.call(this, b, "Purchasing", Za.PURCHASING) || this;
    b.onInitialize = new S;
    b.onCommandResult = new S;
    b.onGetPromoVersion = new S;
    b.onGetPromoCatalog = new S;
    b.onIAPSendEvent = new S;
    return b;
  }
  function Pf(b) {
    return ia.apply(this, arguments) || this;
  }
  function me() {
  }
  function Fb(b, a, c, d, e, f, g) {
    var k = B.call(this, b, "promo") || this;
    k.onPromo = new S;
    k.onClose = new ma;
    k.onGDPRPopupSkipped = new ma;
    k._showGDPRBanner = !1;
    k._gdprPopupClicked = !1;
    k._localization = new oa(d, "promo");
    k._core = a;
    k._privacy = e;
    k._showGDPRBanner = f;
    k._template = new va('<iframe sandbox="allow-scripts"></iframe><div class="gdpr-pop-up"><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div><div class="privacy-button"><span class="icon-gdpr"></span></div>');
    k._promoCampaign = c;
    k._messageHandler = function(a) {
      return k.onMessage(a);
    };
    c && (k._templateData = {localizedPrice:ka.getProductPrice(c.getIapProductId()), isRewardedPromo:!g.allowSkip()});
    k._bindings = [{event:"click", listener:function(a) {
      return k.onCloseEvent(a);
    }, selector:".close"}, {event:"click", listener:function(a) {
      return k.onPrivacyEvent(a);
    }, selector:".gdpr-link"}, {event:"click", listener:function(a) {
      return k.onPrivacyEvent(a);
    }, selector:".icon-gdpr"}];
    k._privacy.render();
    k._privacy.hide();
    document.body.appendChild(k._privacy.container());
    k._privacy.addEventHandler(k);
    return k;
  }
  function dc(b) {
    var a = K.call(this, b) || this;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    a._additionalTrackingEvents = b.campaign.getTrackingEventUrls();
    a._promoView = b.view;
    a._options = b.options;
    a._placement = b.placement;
    a._campaign = b.campaign;
    a._keyDownListener = function(b) {
      return a.onKeyDown(b);
    };
    a._privacy = b.privacy;
    return a;
  }
  function Dg() {
    var b = {}, a = new Qf;
    b[Vc.ContentTypeHtml] = {parser:new Vc(!1), factory:a};
    b[Vc.ContentTypeJs] = {parser:new Vc(!0), factory:a};
    this._contentTypeHandlerMap = b;
    return this;
  }
  function Vc(b) {
    this._wrapWithScriptTag = b;
    return this;
  }
  function Qf(b) {
    return ia.apply(this, arguments) || this;
  }
  function Rf(b, a) {
    var c = oc.call(this, a.gdprManager, a.coreConfig, a.adsConfig) || this;
    c._operativeEventManager = a.operativeEventManager;
    c._adUnit = b;
    c._campaign = a.campaign;
    c._placement = a.placement;
    return c;
  }
  function ec(b, a, c, d, e, f, g) {
    var k = B.call(this, b, "display-interstitial") || this;
    k.onPrivacyOpened = new ma;
    k.onPrivacyClosed = new ma;
    k._gdprPopupClicked = !1;
    k._webPlayerPrepared = !1;
    k._timers = [];
    k._core = a;
    k._deviceInfo = c;
    k._placement = d;
    k._campaign = e;
    k._template = new va('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="gdpr-pop-up"><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div><div class="privacy-button"><span class="icon-gdpr"></span></div>');
    k._privacy = f;
    k._showGDPRBanner = g;
    k._messageListener = function(a) {
      return k.onMessage(a);
    };
    k._bindings = [{event:"click", listener:function(a) {
      return k.onCloseEvent(a);
    }, selector:".close"}, {event:"click", listener:function(a) {
      return k.onGDPRPopupEvent(a);
    }, selector:".gdpr-link"}, {event:"click", listener:function(a) {
      return k.onPrivacyEvent(a);
    }, selector:".icon-gdpr"}];
    k._privacy.render();
    k._privacy.hide();
    document.body.appendChild(k._privacy.container());
    k._privacy.addEventHandler(k);
    return k;
  }
  function Ba(b) {
    var a = K.call(this, b) || this;
    a._receivedOnPageStart = !1;
    a._clickEventHasBeenSent = !1;
    a._handlingShouldOverrideUrlLoading = !1;
    a._contentReady = !1;
    a._privacyShowing = !1;
    a._topWebViewAreaMinHeight = 60;
    a._operativeEventManager = b.operativeEventManager;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    a._view = b.view;
    a._campaign = b.campaign;
    a._placement = b.placement;
    a._deviceInfo = b.deviceInfo;
    a._clientInfo = b.clientInfo;
    a._view.render();
    document.body.appendChild(a._view.container());
    a._options = b.options;
    a.setShowing(!1);
    a._topWebViewAreaHeight = b.platform === m.ANDROID ? Math.floor(a.getAndroidViewSize(a._topWebViewAreaMinHeight, a.getScreenDensity())) : a._topWebViewAreaMinHeight;
    return a;
  }
  function Sc(b) {
    b = w.call(this, b, "WebPlayer", Za.WEBPLAYER) || this;
    b.onPageStarted = new S;
    b.onPageFinished = new S;
    b.onWebPlayerEvent = new S;
    b.onCreateWindow = new S;
    b.shouldOverrideUrlLoading = new mc;
    return b;
  }
  function Bg(b) {
    var a = this;
    this._core = b;
    this._core.Storage.onSet.subscribe(function(b, d) {
      return a.onStorageSet(b, d);
    });
  }
  function Eg() {
    var b = {};
    b[Xd.ContentType] = {parser:new Xd, factory:new Sf};
    this._contentTypeHandlerMap = b;
    return this;
  }
  function Xd(b) {
    return jb.apply(this, arguments) || this;
  }
  function Sf(b) {
    return ia.apply(this, arguments) || this;
  }
  function Yd(b) {
    var a = O.call(this, b) || this;
    b.overlay.setSpinnerEnabled(!Sa.isCached(b.campaign));
    a._endScreen = b.endScreen;
    a._endScreen.render();
    a._endScreen.hide();
    document.body.appendChild(a._endScreen.container());
    a._privacy = b.privacy;
    return a;
  }
  function Wc(b) {
    var a = P.call(this, b) || this;
    a._xpromoAdUnit = b.adUnit;
    a._xpromoOperativeEventManager = b.operativeEventManager;
    a._xpromoCampaign = b.campaign;
    return a;
  }
  function Tf(b, a, c) {
    return Bd.call(this, b, a, c) || this;
  }
  function Uf(b, a, c) {
    a = Xc.call(this, b, a, c) || this;
    a._xPromoAdUnit = b;
    return a;
  }
  function Ie(b, a) {
    b.targetGameName = a.getGameName();
    b = rb.call(this, b) || this;
    b._campaign = a;
    b._template = new va(b.getTemplate(), b._localization);
    var c = a.getPortrait(), d = a.getLandscape(), e = a.getSquare(), f = 20 * a.getRating();
    b._templateData = {gameName:a.getGameName(), gameIcon:a.getGameIcon().getUrl(), endScreenLandscape:c ? c.getUrl() : void 0, endScreenPortrait:d ? d.getUrl() : void 0, endScreenSquare:e ? e.getUrl() : void 0, rating:f.toString(), ratingCount:b._localization.abbreviate(a.getRatingCount()), endscreenAlt:b.getEndscreenAlt()};
    return b;
  }
  function Fg() {
    var b = {};
    b[nc.ContentType] = {parser:new nc, factory:new Vf};
    this._contentTypeHandlerMap = b;
    return this;
  }
  function nc() {
    var b = jb.apply(this, arguments) || this;
    b._vastParser = new Ra;
    return b;
  }
  function Je() {
  }
  function Vf(b) {
    return ia.apply(this, arguments) || this;
  }
  function qc(b, a, c) {
    var d = B.call(this, b, "vast-end-screen") || this;
    d._isSwipeToCloseEnabled = !1;
    d._callButtonEnabled = !0;
    d._campaign = a.campaign;
    d._template = new va('<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><a class="btn-close brand"><span class="icon-close"></span></a></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="game-background game-background-landscape brand" style="background-image: url(\'<%= data.endScreenLandscape %>\')"></div><div class="game-background game-background-portrait brand" style="background-image: url(\'<%= data.endScreenPortrait %>\')"></div></div><div class="privacy-button"><span class="icon-gdpr"></span></div><div class="tencent-advertisement"></div>');
    d._seatId = a.seatId;
    d._showPrivacyDuringEndscreen = a.showPrivacyDuringEndscreen;
    if (d._campaign) {
      b = d._campaign.getLandscape();
      var e = d._campaign.getPortrait();
      d._templateData = {endScreenLandscape:b ? b.getUrl() : e ? e.getUrl() : void 0, endScreenPortrait:e ? e.getUrl() : b ? b.getUrl() : void 0};
    }
    d._bindings = [{event:"click", listener:function(a) {
      return d.onClickEvent(a);
    }, selector:".game-background"}, {event:"click", listener:function(a) {
      return d.onCloseEvent(a);
    }, selector:".btn-close-region"}, {event:"click", listener:function(a) {
      return d.onPrivacyEvent(a);
    }, selector:".privacy-button"}];
    fa.isTimehopApp(a.clientInfo.getGameId()) && (d._isSwipeToCloseEnabled = !0, d._bindings.push({event:"swipe", listener:function(a) {
      return d.onCloseEvent(a);
    }, selector:".campaign-container, .game-background"}));
    d._showPrivacyDuringEndscreen && (d._privacy = c, d._privacy.render(), d._privacy.hide(), document.body.appendChild(d._privacy.container()), d._privacy.addEventHandler(d));
    return d;
  }
  function Gb(b) {
    var a = P.call(this, b) || this;
    a._vastAdUnit = b.adUnit;
    a._vastCampaign = b.campaign;
    a._clientInfo = b.clientInfo;
    return a;
  }
  function Cd(b, a) {
    var c = zb.call(this, b, a) || this;
    c._platform = a.platform;
    c._core = a.core;
    c._vastAdUnit = b;
    c._request = a.request;
    c._vastCampaign = a.campaign;
    c._placement = a.placement;
    c._moat = Hb.getMoat();
    c._vastOverlay = c._vastAdUnit.getOverlay();
    return c;
  }
  function Dd(b, a) {
    this._platform = a.platform;
    this._core = a.core;
    this._vastAdUnit = b;
    this._clientInfo = a.clientInfo;
    this._request = a.request;
    this._campaign = a.campaign;
    this._vastEndScreen = this._vastAdUnit.getEndScreen();
  }
  function Ua(b) {
    var a = O.call(this, b) || this;
    a._muted = !1;
    a._events = [[0, "AdVideoStart"], [0.25, "AdVideoFirstQuartile"], [0.5, "AdVideoMidpoint"], [0.75, "AdVideoThirdQuartile"]];
    b.overlay.setSpinnerEnabled(!b.campaign.getVideo().isCached());
    a._endScreen = b.endScreen || null;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    a._vastCampaign = b.campaign;
    a._moat = Hb.getMoat();
    a._endScreen && (a._endScreen.render(), a._endScreen.hide(), document.body.appendChild(a._endScreen.container()));
    b.platform === m.ANDROID ? Promise.all([b.core.DeviceInfo.Android.getDeviceVolume(Ed.STREAM_MUSIC), b.core.DeviceInfo.Android.getDeviceMaxVolume(Ed.STREAM_MUSIC)]).then(function(b) {
      var c = h.makeIterator(b);
      b = c.next().value;
      c = c.next().value;
      a.setVolume(b / c);
    }) : b.platform === m.IOS && b.core.DeviceInfo.Ios.getDeviceVolume().then(function(b) {
      a.setVolume(b);
    });
    return a;
  }
  function Hb() {
  }
  function Ib(b, a) {
    var c = B.call(this, b, "moat") || this;
    c._didInitMoat = !1;
    c._state = fc.STOPPED;
    c._template = new va('<iframe id="moat-iframe" scrolling="no" sandbox="allow-scripts"></iframe>');
    c._core = a;
    c._bindings = [];
    c._messageListener = function(a) {
      return c.onMessage(a);
    };
    return c;
  }
  function Gg() {
    var b = {}, a = new uc;
    b[uc.ContentType] = {parser:a, factory:new Yc};
    b[uc.ContentTypeMRAID] = {parser:a, factory:new rc};
    this._contentTypeHandlerMap = b;
    return this;
  }
  function Yc(b) {
    return ia.apply(this, arguments) || this;
  }
  function Jb(b) {
    this._platform = b.platform;
    this._core = b.core;
    this._ads = b.ads;
    this._thirdPartyEventManager = b.thirdPartyEventManager;
    this._operativeEventManager = b.operativeEventManager;
    this._clientInfo = b.clientInfo;
    this._deviceInfo = b.deviceInfo;
    this._placement = b.placement;
    this._campaign = b.campaign;
    this._coreConfig = b.coreConfig;
    this._adUnit = b.adUnit;
  }
  function Ke(b, a) {
    var c = rb.call(this, b) || this;
    c._campaign = a;
    c._template = new va(c.getTemplate(), c._localization);
    var d = a.getPortrait(), e = a.getLandscape(), f = a.getSquare(), g = 20 * a.getRating();
    c._templateData = {gameName:a.getGameName(), gameIcon:a.getGameIcon().getUrl(), endScreenLandscape:d ? d.getUrl() : void 0, endScreenPortrait:e ? e.getUrl() : void 0, endScreenSquare:f ? f.getUrl() : void 0, rating:g.toString(), ratingCount:c._localization.abbreviate(a.getRatingCount()), endscreenAlt:c.getEndscreenAlt()};
    c._core = b.core;
    c._campaign = a;
    return c;
  }
  function rb(b) {
    var a = B.call(this, b.platform, "end-screen") || this;
    a._isSwipeToCloseEnabled = !1;
    a._showGDPRBanner = !1;
    a._gdprPopupClicked = !1;
    a._localization = new oa(b.language, "endscreen");
    a._abGroup = b.abGroup;
    a._gameName = b.targetGameName;
    a._privacy = b.privacy;
    a._adUnitStyle = b.adUnitStyle;
    a._showGDPRBanner = b.showGDPRBanner;
    a._campaignId = b.campaignId;
    a._osVersion = b.osVersion;
    a._apiLevel = b.apiLevel;
    a._bindings = [{event:"click", listener:function(b) {
      return a.onDownloadEvent(b);
    }, selector:".game-background, .download-container, .game-icon, .game-image"}, {event:"click", listener:function(b) {
      return a.onCloseEvent(b);
    }, selector:".btn-close-region"}, {event:"click", listener:function(b) {
      return a.onPrivacyEvent(b);
    }, selector:".privacy-button, .gdpr-link, .icon-gdpr"}];
    fa.isTimehopApp(b.gameId) && (a._isSwipeToCloseEnabled = !0, a._bindings.push({event:"swipe", listener:function(b) {
      return a.onCloseEvent(b);
    }, selector:".campaign-container, .game-background, .btn.download"}));
    a._privacy.render();
    a._privacy.hide();
    document.body.appendChild(a._privacy.container());
    a._privacy.addEventHandler(a);
    return a;
  }
  function Zc(b) {
    var a = P.call(this, b) || this;
    a._performanceAdUnit = b.adUnit;
    a._campaign = b.campaign;
    return a;
  }
  function P(b) {
    var a = $c.call(this, b) || this;
    a._operativeEventManager = b.operativeEventManager;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    a._coreConfig = b.coreConfig;
    a._adsConfig = b.adsConfig;
    a._placement = b.placement;
    a._adUnitStyle = b.adUnitStyle;
    a._video = b.video;
    return a;
  }
  function jf(b, a, c) {
    c = Xc.call(this, b, a, c, a.adUnitStyle) || this;
    c._performanceAdUnit = b;
    c._thirdPartyEventManager = a.thirdPartyEventManager;
    return c;
  }
  function Xc(b, a, c, d) {
    b = zb.call(this, b, a, d) || this;
    b._thirdPartyEventManager = a.thirdPartyEventManager;
    b._overlay = b._adUnit.getOverlay();
    b._downloadHelper = c;
    return b;
  }
  function zb(b, a, c) {
    var d = oc.call(this, a.gdprManager, a.coreConfig, a.adsConfig) || this;
    d._ads = a.ads;
    d._operativeEventManager = a.operativeEventManager;
    d._adUnit = b;
    d._campaign = a.campaign;
    d._placement = a.placement;
    d._adUnitStyle = c;
    return d;
  }
  function ld(b) {
    var a = O.call(this, b) || this;
    b.overlay.setSpinnerEnabled(!Sa.isCached(b.campaign));
    a._endScreen = b.endScreen;
    a._endScreen.render();
    a._endScreen.hide();
    document.body.appendChild(a._endScreen.container());
    a._privacy = b.privacy;
    a._performanceCampaign = b.campaign;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    return a;
  }
  function kf(b, a, c) {
    b = Bd.call(this, b, a, c) || this;
    b._thirdPartyEventManager = a.thirdPartyEventManager;
    return b;
  }
  function uc(b) {
    return jb.apply(this, arguments) || this;
  }
  function Bd(b, a, c) {
    a = oc.call(this, a.gdprManager, a.coreConfig, a.adsConfig) || this;
    a._adUnit = b;
    a._downloadHelper = c;
    return a;
  }
  function Hg() {
    var b = {}, a = new rc;
    b[ne.ContentType] = {parser:new ne, factory:a};
    b[oe.ContentType] = {parser:new oe, factory:a};
    this._contentTypeHandlerMap = b;
    return this;
  }
  function oe(b) {
    return jb.apply(this, arguments) || this;
  }
  function ne(b) {
    return jb.apply(this, arguments) || this;
  }
  function rc(b) {
    return ia.apply(this, arguments) || this;
  }
  function gc(b, a) {
    var c = this;
    this._core = b;
    this._handler = a;
    this._messageListener = function(a) {
      return c.onMessage(a);
    };
    this._mraidHandlers = {};
    this._mraidHandlers[ad.ORIENTATION] = function(a) {
      return c.handleSetOrientationProperties(a.properties);
    };
    this._mraidHandlers[ad.OPEN] = function(a) {
      return c.handleOpen(a.url);
    };
    this._mraidHandlers[ad.LOADED] = function() {
      return c.handleLoaded();
    };
    this._mraidHandlers[ad.ANALYTICS_EVENT] = function(a) {
      return c.handleAnalyticsEvent(a.event, a.eventData);
    };
    this._mraidHandlers[ad.CLOSE] = function() {
      return c.handleClose();
    };
    this._mraidHandlers[ad.STATE_CHANGE] = function(a) {
      return c.handleCustomState(a.state);
    };
    this._mraidHandlers[ad.SEND_STATS] = function(a) {
      return c.handleSendStats(a.totalTime, a.playTime, a.frameCount);
    };
    this._mraidHandlers[ad.AR] = function(a) {
      return c.handleAr(a);
    };
  }
  function Jc(b, a, c, d, e, f, g, k, v) {
    b = N.call(this, b, a, c, "mraid", d, e, f, g, k, v) || this;
    b.onLoaded = new ma;
    b._domContentLoaded = !1;
    b._deviceInfo = c;
    b._placement = d;
    b._campaign = e;
    b._creativeId = e.getCreativeId();
    b._template = new va('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="gdpr-pop-up"><div class="icon-gdpr"></div><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div><div class="privacy-button"><span class="icon-gdpr"></span></div><iframe id="mraid-iframe" scrolling="no" sandbox="allow-scripts"></iframe>');
    return b;
  }
  function Wf(b) {
    return Ab.apply(this, arguments) || this;
  }
  function Ab(b, a) {
    var c = oc.call(this, a.gdprManager, a.coreConfig, a.adsConfig) || this;
    c._operativeEventManager = a.operativeEventManager;
    c._thirdPartyEventManager = a.thirdPartyEventManager;
    c._adUnit = b;
    c._mraidView = b.getMRAIDView();
    c._clientInfo = a.clientInfo;
    c._deviceInfo = a.deviceInfo;
    c._campaign = a.campaign;
    c._placement = a.placement;
    c._request = a.request;
    c._platform = a.platform;
    c._core = a.core;
    c._ads = a.ads;
    return c;
  }
  function kb(b) {
    var a = K.call(this, b) || this;
    a._operativeEventManager = b.operativeEventManager;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    a._mraid = b.mraid;
    a._additionalTrackingEvents = b.campaign.getTrackingUrls();
    a._endScreen = b.endScreen;
    a._clientInfo = b.clientInfo;
    a._placement = b.placement;
    a._campaign = b.campaign;
    a._privacy = b.privacy;
    a._mraid.render();
    document.body.appendChild(a._mraid.container());
    a._endScreen && (a._endScreen.render(), a._endScreen.hide(), document.body.appendChild(a._endScreen.container()));
    a._orientationProperties = {allowOrientationChange:!0, forceOrientation:pa.NONE};
    a._options = b.options;
    a.setShowing(!1);
    return a;
  }
  function sc(b, a, c, d, e, f, g, k, v, Va) {
    b = N.call(this, b, a, c, "extended-mraid", d, e, g, k, v, Va) || this;
    b._deviceInfo = c;
    b._placement = d;
    b._campaign = e;
    b._localization = new oa(f, "loadingscreen");
    b._template = new va('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="gdpr-pop-up"><div class="icon-gdpr"></div><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div><div class="loading-screen"><div class="container"><div class="user-text"><%= data.t("Try the playable demo") %></div><div class="game-icon" style="background-image:  url(\'<%= data.gameIcon %>\')"></div><div class="store-container"> <% if(!!data.rating) { %> <span class="game-rating"><span class="game-rating-mask" style="width: <%= data.rating %>%"> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% } %> <% if (!!data.ratingCount && data.ratingCount !== "0") { %> <span class="game-rating-count">(<span class="game-rating-count-number"><%= data.ratingCount %></span>) </span> <% } %> </div><div class="name-container"><%= data.gameName %></div><div class="progress-bar"><span class="filling"></span></div></div><div class="unityads-logo"></div></div><div class="privacy-button"><span class="icon-gdpr"></span></div><iframe id="mraid-iframe" scrolling="no" sandbox="allow-scripts"></iframe>', 
    b._localization);
    if (e) {
      b._templateData = {gameName:e.getGameName()};
      if (c = e.getGameIcon()) {
        b._templateData.gameIcon = c.getUrl();
      }
      if (c = e.getRating()) {
        b._templateData.rating = (20 * c).toString();
      }
      if (e = e.getRatingCount()) {
        b._templateData.ratingCount = b._localization.abbreviate(e);
      }
    }
    return b;
  }
  function N(b, a, c, d, e, f, g, k, v, Va) {
    var n = B.call(this, b, d) || this;
    n._showGDPRBanner = !1;
    n._gdprPopupClicked = !1;
    n._callButtonEnabled = !0;
    n._isLoaded = !1;
    n._canClose = !1;
    n._canSkip = !1;
    n._didReward = !1;
    n._CLOSE_LENGTH = 30;
    n._backgroundTime = 0;
    n._core = a;
    n._placement = e;
    n._deviceInfo = c;
    n._campaign = f;
    n._privacy = g;
    n._showGDPRBanner = k;
    n._abGroup = v;
    n._privacy.render();
    n._privacy.hide();
    document.body.appendChild(n._privacy.container());
    n._privacy.addEventHandler(n);
    n._bindings = [{event:"click", listener:function(a) {
      return n.onCloseEvent(a);
    }, selector:".close-region"}, {event:"click", listener:function(a) {
      return n.onPrivacyEvent(a);
    }, selector:".privacy-button"}, {event:"click", listener:function(a) {
      n.onGDPRPopupEvent(a);
      n._gdprPopupClicked = !0;
      n.choosePrivacyShown();
    }, selector:".gdpr-link"}, {event:"click", listener:function(a) {
      return n.onPrivacyEvent(a);
    }, selector:".icon-gdpr"}];
    n._gameSessionId = Va || 0;
    return n;
  }
  function Le() {
  }
  function Me() {
  }
  function G() {
  }
  function ja(b, a, c, d, e, f, g, k, v, Va) {
    var n = Wa.call(this, b, "overlay", d) || this;
    n._spinnerEnabled = !1;
    n._skipVisible = !1;
    n._videoDurationEnabled = !1;
    n._muteEnabled = !1;
    n._debugMessageVisible = !1;
    n._callButtonVisible = !1;
    n._callButtonEnabled = !0;
    n._fadeStatus = !0;
    n._gdprPopupClicked = !1;
    n._showGDPRBanner = !1;
    n._deviceInfo = c;
    n._localization = new oa(e, "overlay");
    n._showGDPRBanner = k;
    n._disablePrivacyDuringVideo = v;
    n._gameId = f;
    n._seatId = Va;
    n._templateData = {muted:d};
    n._template = new va('<div class="skip-hit-area"><div class="skip"><div class="skip-icon"><span class="icon-skip"></span></div><div class="close-icon"><span class="icon-close"></span></div><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="progress"><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div><div class="buffering-spinner"><div class="spinner-animation"></div><div class="spinner-text"><%= data.t("Buffering") %></div></div><div class="mute-button <%= data.muted ? \'muted\' : \'\' %>"><div class="mute-icon"><span class="icon-volume"></span></div><div class="unmute-icon"><span class="icon-volume-mute"></span></div></div><div class="call-button"><%= data.t("Learn More") %></div><div class="debug-message-text"></div><div class="gdpr-pop-up"><div class="gdpr-icon"></div><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div><div class="privacy-button"><span class="icon-gdpr"></span></div><div class="tencent-advertisement"></div>', 
    n._localization);
    n._bindings = [{event:"click", listener:function(a) {
      return n.onSkipEvent(a);
    }, selector:".skip-hit-area"}, {event:"click", listener:function(a) {
      return n.onMuteEvent(a);
    }, selector:".mute-button"}, {event:"click", listener:function(a) {
      return n.onCallButtonEvent(a);
    }, selector:".call-button"}, {event:"click", listener:function(a) {
      return n.onPauseForTestingEvent(a);
    }, selector:".debug-message-text"}, {event:"click", listener:function(a) {
      return n.onClick(a);
    }}, {event:"click", listener:function(a) {
      return n.onGDPRPopupEvent(a);
    }, selector:".gdpr-link"}, {event:"click", listener:function(a) {
      return n.onPrivacyEvent(a);
    }, selector:".icon-gdpr"}];
    fa.isTimehopApp(f) && n._bindings.push({event:"swipe", listener:function(a) {
      return n.onSkipEvent(a);
    }});
    v || (n._privacy = g, n._privacy.render(), n._privacy.hide(), document.body.appendChild(n._privacy.container()), n._privacy.addEventHandler(n));
    return n;
  }
  function Lf() {
  }
  function lb(b) {
    return A.call(this, "Configuration", lb.Schema, b) || this;
  }
  function bc(b) {
    var a = md.call(this, b, "VideoPlayer", Za.VIDEOPLAYER) || this;
    b.getPlatform() === m.IOS ? a.iOS = new gf(b) : b.getPlatform() === m.ANDROID && (a.Android = new He(b));
    return a;
  }
  function Ge(b) {
    return w.call(this, b, "Placement") || this;
  }
  function zd(b) {
    return w.call(this, b, "Listener") || this;
  }
  function gf(b) {
    return md.call(this, b, "VideoPlayer") || this;
  }
  function kd(b) {
    b = w.call(this, b, "AppSheet", Za.APPSHEET) || this;
    b.onPrepared = new S;
    b.onOpen = new S;
    b.onClose = new S;
    b.onError = new mc;
    return b;
  }
  function qb(b) {
    b = w.call(this, b, "AdUnit", Za.ADUNIT) || this;
    b.onViewControllerInit = new ma;
    b.onViewControllerDidLoad = new ma;
    b.onViewControllerDidAppear = new ma;
    b.onViewControllerWillDisappear = new ma;
    b.onViewControllerDidDisappear = new ma;
    b.onViewControllerDidReceiveMemoryWarning = new ma;
    return b;
  }
  function He(b) {
    return md.call(this, b, "VideoPlayer") || this;
  }
  function md(b, a, c) {
    b = w.call(this, b, a, c) || this;
    b._handlers = [];
    return b;
  }
  function bb(b) {
    b = w.call(this, b, "AdUnit", Za.ADUNIT) || this;
    b.onStart = new S;
    b.onCreate = new S;
    b.onResume = new S;
    b.onDestroy = new mc;
    b.onPause = new mc;
    b.onKeyDown = new Td;
    b.onRestore = new S;
    b.onStop = new S;
    b.onFocusGained = new S;
    b.onFocusLost = new S;
    return b;
  }
  function Tc(b, a, c) {
    this._core = b;
    this._request = a;
    this._storageBridge = c;
  }
  function Kc(b, a) {
    this._ads = b;
    this._configuration = a;
    this._placementCampaignMap = {};
  }
  function Ig() {
  }
  function Zd(b) {
    var a = Q.call(this, b) || this;
    a._xPromoCampaign = b.campaign;
    return a;
  }
  function $d(b) {
    return vc.apply(this, arguments) || this;
  }
  function Ne(b) {
    var a = Yb.call(this, b) || this;
    a._mraidCampaign = b.campaign;
    return a;
  }
  function Yb(b) {
    return Q.call(this, b) || this;
  }
  function Oe(b) {
    var a = Q.call(this, b) || this;
    a._performanceCampaign = b.campaign;
    return a;
  }
  function Q(b) {
    this._storageBridge = b.storageBridge;
    this._metaDataManager = b.metaDataManager;
    this._sessionManager = b.sessionManager;
    this._clientInfo = b.clientInfo;
    this._deviceInfo = b.deviceInfo;
    this._request = b.request;
    this._coreConfig = b.coreConfig;
    this._adsConfig = b.adsConfig;
    this._campaign = b.campaign;
    this._platform = b.platform;
    this._core = b.core;
    this._ads = b.ads;
  }
  function pe() {
    var b = ab.call(this, "PlayerMetaData", Object.assign({}, ab.Schema, {server_id:["string"]})) || this;
    b.set("keys", ["server_id"]);
    b.set("category", "player");
    return b;
  }
  function vc(b, a, c) {
    this._core = b;
    this._sessionId = a;
    this._eventId = c;
  }
  function nd() {
  }
  function qa(b, a, c, d, e, f, g, k, v, Va, n) {
    var l = this;
    l._needsRefill = !0;
    l._startRefreshMagicConstant = 5000;
    l._platform = b;
    l._core = a;
    l._ads = c;
    l._wakeUpManager = d;
    l._campaignManager = e;
    l._configuration = f;
    l._focusManager = g;
    l._sessionManager = k;
    l._clientInfo = v;
    l._request = Va;
    l._cache = n;
    l._refillTimestamp = 0;
    l._campaignCount = 0;
    l._parsingErrorCount = 0;
    l._noFills = 0;
    l._campaignManager.onCampaign.subscribe(function(a, b, c) {
      return l.onCampaign(a, b, c);
    });
    l._campaignManager.onNoFill.subscribe(function(a) {
      return l.onNoFill(a);
    });
    l._campaignManager.onError.subscribe(function(a, b, c, d) {
      return l.onError(a, b, c, d);
    });
    l._campaignManager.onConnectivityError.subscribe(function(a) {
      return l.onConnectivityError(a);
    });
    l._campaignManager.onAdPlanReceived.subscribe(function(a, b) {
      return l.onAdPlanReceived(a, b);
    });
    l._wakeUpManager.onNetworkConnected.subscribe(function() {
      return l.onNetworkConnected();
    });
    l._platform === m.IOS ? l._focusManager.onAppForeground.subscribe(function() {
      return l.onAppForeground();
    }) : (l._focusManager.onScreenOn.subscribe(function() {
      return l.onScreenOn();
    }), l._focusManager.onActivityResumed.subscribe(function(a) {
      return l.onActivityResumed(a);
    }));
    return l;
  }
  function hf() {
    this._parsers = {};
    this._factories = {};
  }
  function C(b, a, c, d, e, f, g, k, v, Va, n, l, m, p, q) {
    this.onCampaign = new jd;
    this.onNoFill = new S;
    this.onError = new Ee;
    this.onConnectivityError = new S;
    this.onAdPlanReceived = new mc;
    this._realtimeBody = {};
    this._platform = b;
    this._core = a;
    this._coreConfig = c;
    this._adsConfig = d;
    this._assetManager = e;
    this._sessionManager = f;
    this._request = k;
    this._clientInfo = v;
    this._deviceInfo = Va;
    this._metaDataManager = n;
    this._adMobSignalFactory = g;
    this._cacheBookkeeping = l;
    this._contentTypeHandlerManager = m;
    this._requesting = !1;
    this._jaegerManager = p;
    this._backupCampaignManager = q;
  }
  function Fd(b, a, c) {
    var d = A.call(this, "AuctionPlacement", {placementId:["string"], mediaId:["string"], trackingUrls:["object", "undefined"]}) || this;
    d.set("placementId", b);
    d.set("mediaId", a);
    d.set("trackingUrls", c);
    return d;
  }
  function lf(b) {
    return V.call(this, b) || this;
  }
  function be() {
    var b = ab.call(this, "FrameworkMetaData", Object.assign({}, ab.Schema, {name:["string", "undefined"], version:["string", "undefined"]})) || this;
    b.set("category", "framework");
    b.set("keys", ["name", "version"]);
    return b;
  }
  function Pe(b, a, c) {
    this.traceId = bd.uuidv4().substring(8, 24);
    this.id = bd.uuidv4().substring(8, 24);
    this.kind = "CLIENT";
    this.timestamp = bd.genTimestamp();
    this.duration = 0;
    this.shared = this.debug = !0;
    this.localEndpoint = new kh("ads-sdk");
    this.annotations = [];
    this.tags = {};
    a && (this.parentId = a);
    c && (this.traceId = c);
    this.name = bd.stripQueryAndFragment(b);
  }
  function lh(b) {
    this.timestamp = bd.genTimestamp();
    this.value = b;
  }
  function kh(b) {
    this.serviceName = b;
  }
  function bd() {
  }
  function cb() {
  }
  function Ca(b, a, c, d) {
    var e = A.call(this, "AuctionResponse", {placements:["array"], contentType:["string"], content:["string"], cacheTTL:["integer", "undefined"], trackingUrls:["object"], adType:["string"], creativeId:["string", "undefined"], seatId:["integer", "undefined"], appCategory:["string", "undefined"], appSubCategory:["string", "undefined"], correlationId:["string"], advertiserCampaignId:["string", "undefined"], advertiserDomain:["string", "undefined"], advertiserBundleId:["string", "undefined"], useWebViewUserAgentForTracking:["boolean", 
    "undefined"], buyerId:["string", "undefined"], mediaId:["string"], width:["number", "undefined"], height:["number", "undefined"], isMoatEnabled:["boolean", "undefined"]}) || this;
    e.set("placements", b);
    e.set("contentType", a.contentType);
    e.set("content", a.content);
    e.set("cacheTTL", a.cacheTTL);
    e.set("trackingUrls", a.trackingUrls ? a.trackingUrls : {});
    e.set("adType", a.adType);
    e.set("creativeId", a.creativeId);
    e.set("seatId", a.seatId);
    e.set("correlationId", d);
    e.set("appCategory", a.appCategory);
    e.set("appSubCategory", a.appSubCategory);
    e.set("advertiserCampaignId", a.campaignId);
    e.set("advertiserDomain", a.advDomain);
    e.set("advertiserBundleId", a.bundleId);
    e.set("useWebViewUserAgentForTracking", a.useWebViewUserAgentForTracking || !1);
    e.set("buyerId", a.buyerId);
    e.set("mediaId", c);
    e.set("width", a.width);
    e.set("height", a.height);
    e.set("isMoatEnabled", a.isMoatEnabled);
    return e;
  }
  function wc() {
  }
  function Jg() {
  }
  function Kg() {
  }
  function cc(b, a, c) {
    this._core = b;
    this._storageBridge = a;
    this._coreConfiguration = c;
  }
  function Xf(b) {
    return Lc.apply(this, arguments) || this;
  }
  function Yf(b) {
    return Lc.apply(this, arguments) || this;
  }
  function Mc(b) {
    this._type = b;
    this._batch = {commands:[]};
  }
  function Zf(b) {
    return Lc.apply(this, arguments) || this;
  }
  function Lc() {
  }
  function Nc(b) {
    var a = A.call(this, "Session", {id:["string"], adPlan:["string", "undefined"], eventSent:["object"], gameSessionCounters:["object"]}) || this;
    a.set("id", b);
    a.set("eventSent", {});
    return a;
  }
  function Kb(b, a) {
    a = Ka.call(this, "Image", a, Ka.Schema) || this;
    a.set("url", b);
    return a;
  }
  function xc(b) {
    b = xc.validateIAdUnitStyle(b);
    return A.call(this, "AdUnitStyle", xc.Schema, b) || this;
  }
  function Lb(b, a, c, d, e, f, g, k) {
    var v = this;
    this._sendCacheDiagnostics = !1;
    this._platform = b;
    this._core = a;
    this._cache = c;
    this._cacheMode = d;
    this._cacheBookkeeping = f;
    this._pts = g;
    this._deviceInfo = e;
    this._fastConnectionDetected = this._caching = this._stopped = !1;
    this._requiredQueue = [];
    this._optionalQueue = [];
    this._campaignQueue = {};
    this._queueId = 0;
    this._backupCampaignManager = k;
    d === Zb.ADAPTIVE && this._cache.onFastConnectionDetected.subscribe(function() {
      return v.onFastConnectionDetected();
    });
  }
  function ce() {
  }
  function ra(b, a, c, d, e) {
    var f = this;
    this.onFastConnectionDetected = new ma;
    this.onStart = new mc;
    this.onRedirect = new S;
    this.onFinish = new S;
    this.onStop = new S;
    this.onError = new jd;
    this.onFinishError = new Td;
    this.onTooLargeFile = new Td;
    this._callbacks = {};
    this._maxRetries = 5;
    this._retryDelay = 10000;
    this._maxFileSize = 20971520;
    this._currentDownloadPosition = -1;
    this._fastConnectionDetected = !1;
    this._core = b;
    this._wakeUpManager = a;
    this._request = c;
    this._cacheBookkeeping = d;
    e && (this._maxRetries = e.retries, this._retryDelay = e.retryDelay);
    this._paused = !1;
    this._wakeUpManager.onNetworkConnected.subscribe(function() {
      return f.onNetworkConnected();
    });
    this._core.Cache.setProgressInterval(250);
    this._core.Cache.onDownloadStarted.subscribe(function(a, b, c, d, e) {
      return f.onDownloadStarted(a, b, c, d, e);
    });
    this._core.Cache.onDownloadProgress.subscribe(function(a, b, c) {
      return f.onDownloadProgress(a, b, c);
    });
    this._core.Cache.onDownloadEnd.subscribe(function(a, b, c, d, e, l) {
      return f.onDownloadEnd(a, b, c, d, e, l);
    });
    this._core.Cache.onDownloadStopped.subscribe(function(a, b, c, d, e, l) {
      return f.onDownloadStopped(a, b, c, d, e, l);
    });
    this._core.Cache.onDownloadError.subscribe(function(a, b, c) {
      return f.onDownloadError(a, b, c);
    });
    this._core.Storage.onSet.subscribe(function(a, b) {
      return f.onStorageSet(a, b);
    });
    this._core.Storage.get(t.PUBLIC, "caching.pause.value").then(function(a) {
      f._paused = a;
      f._core.Storage.delete(t.PUBLIC, "caching.pause");
      f._core.Storage.write(t.PUBLIC);
    }).catch(function() {
    });
  }
  function mf() {
  }
  function ob(b) {
    var a = w.call(this, b, "Cache", Za.CACHE) || this;
    a.onDownloadStarted = new Td;
    a.onDownloadProgress = new jd;
    a.onDownloadEnd = new nf;
    a.onDownloadStopped = new nf;
    a.onDownloadError = new jd;
    b.getPlatform() === m.IOS ? a.Ios = new $f(b) : a.Android = new qe(b);
    return a;
  }
  function $f(b) {
    return w.call(this, b, "Cache") || this;
  }
  function qe(b) {
    return w.call(this, b, "Cache") || this;
  }
  function ag(b, a) {
    var c = this;
    this._cache = b;
    this._data = a;
    this._startObserver = b.onStart.subscribe(function(a, b) {
      return c.sendDiagnostic(0 === b ? cd.STARTED : cd.RESUMED, a);
    });
    this._redirectObserver = b.onRedirect.subscribe(function(a) {
      return c.sendDiagnostic(cd.REDIRECTED, a);
    });
    this._finishObserver = b.onFinish.subscribe(function(a) {
      return c.sendDiagnostic(cd.FINISHED, a);
    });
    this._stopObserver = b.onStop.subscribe(function(a) {
      return c.sendDiagnostic(cd.STOPPED, a);
    });
    this._finishErrorObserver = b.onFinishError.subscribe(function(a) {
      return c.sendDiagnostic(cd.ERROR, a);
    });
    this._errorObserver = b.onError.subscribe(function(a) {
      return c.sendDiagnostic(cd.ERROR, a);
    });
  }
  function Aa(b, a, c, d, e) {
    var f = hc.call(this) || this;
    f._core = b;
    f._ads = a;
    f._focusManager = d;
    f._deviceInfo = c;
    f._clientInfo = e;
    f._onViewControllerDidDisappearObserver = f._ads.iOS.AdUnit.onViewControllerDidDisappear.subscribe(function() {
      return f.onViewDidDisappear();
    });
    f._onViewControllerDidAppearObserver = f._ads.iOS.AdUnit.onViewControllerDidAppear.subscribe(function() {
      return f.onViewDidAppear();
    });
    f._onMemoryWarningObserver = f._ads.iOS.AdUnit.onViewControllerDidReceiveMemoryWarning.subscribe(function() {
      return f.onMemoryWarning();
    });
    f._onNotificationObserver = f._core.iOS.Notification.onNotification.subscribe(function(a, b) {
      return f.onNotification(a, b);
    });
    return f;
  }
  function ib(b, a, c) {
    var d = hc.call(this) || this;
    d._core = b;
    d._ads = a;
    d._deviceInfo = c;
    d._activityId = 0;
    d._currentActivityFinished = !1;
    d._onResumeObserver = d._ads.Android.AdUnit.onResume.subscribe(function(a) {
      return d.onResume(a);
    });
    d._onPauseObserver = d._ads.Android.AdUnit.onPause.subscribe(function(a, b) {
      return d.onPause(a, b);
    });
    d._onDestroyObserver = d._ads.Android.AdUnit.onDestroy.subscribe(function(a, b) {
      return d.onDestroy(a, b);
    });
    d._onCreateObserver = d._ads.Android.AdUnit.onCreate.subscribe(function(a) {
      return d.onCreate(a);
    });
    d._onRestoreObserver = d._ads.Android.AdUnit.onRestore.subscribe(function(a) {
      return d.onRestore(a);
    });
    return d;
  }
  function Ja(b, a, c, d, e, f) {
    this._platform = b;
    this._core = a;
    this._ads = c;
    this._clientInfo = d;
    this._deviceInfo = e;
    this._focusManager = f;
  }
  function r() {
    return A.call(this, "AdMobSignal", {sdkVersion:["string"], batteryLevel:["number"], batteryState:["number"], accelerometerX:["number"], accelerometerY:["number"], accelerometerZ:["number"], networkType:["number"], deviceOrientation:["number"], touchXUp:["number"], touchXDown:["number"], touchYUp:["number"], touchYDown:["number"], touchDuration:["number"], touchPressure:["number"], touchDiameter:["number"], cpuCount:["number"], touchUpTotal:["number"], touchDownTotal:["number"], touchMoveTotal:["number"], 
    touchCancelTotal:["number"], osVersion:["string"], timeZoneOffset:["number"], usbConnected:["number"], appActive:["boolean"], appUptime:["number"], appStartTime:["number"], rooted:["number"], eventTimestamp:["number"], apkHash:["string"], apkDeveloperSigningCertificateHash:["string"], appVersionName:["string"], appVersionCode:["number"], appIdName:["string"], appInstaller:["string"], deviceUptime:["number"], deviceElapsedRealtime:["number"], adbEnabled:["number"], timeOnScreen:["number"], minimumAlpha:["number"], 
    adViewWidth:["number"], adViewHeight:["number"], androidTouchObscured:["boolean"], touchToolType:["number"], touchSource:["number"], touchDeviceId:["number"], touchDistance:["number"], adViewX:["number"], adViewY:["number"], screenWidth:["number"], screenHeight:["number"]}) || this;
  }
  function mh(b, a, c) {
    var d = c || 8192, e = d >>> 1, f = null, g = d;
    return function(c) {
      if (1 > c || c > e) {
        return b(c);
      }
      g + c > d && (f = b(d), g = 0);
      c = a.call(f, g, g += c);
      g & 7 && (g = (g | 7) + 1);
      return c;
    };
  }
  function nh(b) {
    try {
      var a = eval("quire".replace(/^/, "re"))(b);
      if (a && (a.length || Object.keys(a).length)) {
        return a;
      }
    } catch (c) {
    }
    return null;
  }
  function oh(b, a) {
    for (var c = Array(arguments.length - 1), d = 0, e = 2, f = !0; e < arguments.length;) {
      c[d++] = arguments[e++];
    }
    return new Promise(function(e, k) {
      c[d] = function(a) {
        if (f) {
          if (f = !1, a) {
            k(a);
          } else {
            for (var b = Array(arguments.length - 1), c = 0; c < b.length;) {
              b[c++] = arguments[c];
            }
            e.apply(null, b);
          }
        }
      };
      try {
        b.apply(a || null, c);
      } catch (v) {
        f && (f = !1, k(v));
      }
    });
  }
  function Y() {
    return A.call(this, "AdMobOptionalSignal", {sequenceNumber:["number"], granularSpeedBucket:["string"], isNetworkMetered:["boolean"], deviceSubModel:["string"], numPriorUserRequests:["number"], isDeviceCharging:["boolean"], deviceBatteryLevel:["number"], androidMarketVersion:["string"], adLoadDuration:["number"], priorClickCount:["number"], deviceIncapabilities:["string"], hasIAPCapability:["boolean"], iuSizes:["string"], adtest:["boolean"], isJailbroken:["boolean"]}) || this;
  }
  function Lg() {
    var b = {};
    b[ic.ContentType] = {parser:new ic, factory:new bg};
    this._contentTypeHandlerMap = b;
    return this;
  }
  function od(b) {
    this._contentTypeHandlerMap = b;
  }
  function ic(b) {
    return jb.apply(this, arguments) || this;
  }
  function Ra(b, a) {
    a = void 0 === a ? Ra.DEFAULT_MAX_WRAPPER_DEPTH : a;
    this._domParser = b || Ra.createDOMParser();
    this._maxWrapperDepth = a;
  }
  function Mb(b, a, c, d, e, f, g, k, v, Va, n) {
    var l = A.call(this, "VastMediaFile", {fileURL:["string", "null"], deliveryType:["string"], mimeType:["string", "null"], codec:["string", "null"], bitrate:["number"], minBitrate:["number"], maxBitrate:["number"], width:["number"], height:["number"], apiFramework:["string", "null"], scalable:["boolean", "null"], maintainAspectRatio:["boolean", "null"], fileSize:["number"]}) || this;
    l.set("fileURL", b || null);
    l.set("deliveryType", a || "progressive");
    l.set("mimeType", d || null);
    l.set("codec", c || null);
    l.set("bitrate", e || 0);
    l.set("minBitrate", f || 0);
    l.set("maxBitrate", g || 0);
    l.set("width", k || 0);
    l.set("height", v || 0);
    l.set("apiFramework", Va || null);
    l.set("scalable", null);
    l.set("maintainAspectRatio", null);
    l.set("fileSize", n || 0);
    return l;
  }
  function yc(b, a, c, d, e, f, g) {
    var k = A.call(this, "VastCreativeCompanionAd", {id:["string", "null"], width:["number"], height:["number"], type:["string"], staticResourceURL:["string", "null"], creativeType:["string", "null"], companionClickThroughURLTemplate:["string", "null"], trackingEvents:["object"]}) || this;
    k.set("id", b || null);
    k.set("width", d || 0);
    k.set("height", c || 0);
    k.set("type", "");
    k.set("creativeType", a || null);
    k.set("staticResourceURL", e || null);
    k.set("companionClickThroughURLTemplate", f || null);
    k.set("trackingEvents", g || {});
    return k;
  }
  function La(b, a, c, d, e, f) {
    var g = A.call(this, "VastAd", {id:["string", "null"], creatives:["array"], companionAds:["array"], errorURLTemplates:["array"], impressionURLTemplates:["array"], wrapperURLs:["array"]}) || this;
    g.set("id", b || null);
    g.set("creatives", a || []);
    g.set("companionAds", f || []);
    g.set("errorURLTemplates", c || []);
    g.set("impressionURLTemplates", d || []);
    g.set("wrapperURLs", e || []);
    return g;
  }
  function mb(b, a, c, d, e, f, g) {
    var k = Gd.call(this, "VastCreativeLinear", {type:["string"], trackingEvents:["object"], duration:["number"], skipDelay:["number", "null"], mediaFiles:["array"], videoClickThroughURLTemplate:["string", "null"], videoClickTrackingURLTemplates:["array"], videoCustomClickURLTemplates:["array"], adParameters:["string", "null"]}, "linear") || this;
    k.set("duration", b || 0);
    k.set("skipDelay", a || null);
    k.set("mediaFiles", c || []);
    k.set("videoClickThroughURLTemplate", d || null);
    k.set("videoClickTrackingURLTemplates", e || []);
    k.set("videoCustomClickURLTemplates", f || []);
    k.set("adParameters", g || null);
    return k;
  }
  function Gd(b, a, c, d) {
    b = A.call(this, b, a) || this;
    b.set("type", c);
    b.set("trackingEvents", d || {});
    return b;
  }
  function wa(b, a) {
    var c = A.call(this, "Vast", {ads:["array"], errorURLTemplates:["array"], additionalTrackingEvents:["object"]}) || this;
    c.set("ads", b);
    c.set("errorURLTemplates", a);
    c.set("additionalTrackingEvents", {});
    return c;
  }
  function cg(b, a) {
    this._request = a;
    this._core = b;
  }
  function Hd() {
  }
  function de(b, a, c, d, e, f) {
    var g = Error.call(this, b);
    this.message = g.message;
    "stack" in g && (this.stack = g.stack);
    this.contentType = a;
    this.errorTrackingUrl = c;
    this.errorCode = d ? d : 999;
    this.errorMessage = b;
    this.assetUrl = e;
    this.seatId = f;
  }
  function Ea() {
  }
  function bg(b) {
    return ia.apply(this, arguments) || this;
  }
  function ia() {
  }
  function Ma(b, a, c, d, e) {
    var f = pd.call(this, b, e, d, "privacy") || this;
    f._onReport = new mc;
    f._dataDeletionConfirmation = !1;
    f._currentState = -1;
    f._reportSent = !1;
    f._gdprEnabled = !1;
    f._personalInfoObtained = !1;
    f._templateData.badAdKeys = Object.keys(of);
    f._templateData.badAdReasons = Object.values(of);
    f._template = new va('<div class="pop-up"><div class="pop-up-content"><span class="icon-gdpr"></span> <span class="title centered-title">A message from Unity about your privacy</span> <% if(!data.isGDPREnabled) { %> <span class="not-gdpr"><div class="privacy-text"> <% if(data.isCoppaCompliant) { %> <p>This advertisement has been served by Unity Ads. By request of this app\u2019s publisher, we do not combine the data from this app with data from any other apps.</p> <% } else { %> <p>This advertisement has been served by Unity Ads. Unity Ads collects information gathered through your use of apps in order to create an individualized and more relevant user experience and to show you ads that are more likely to interest you (\u201cpersonalized experiences and ads\u201d).</p> <% } %> <p>From your interaction with this app, here is an example of the information we use to predict which other apps might interest you:</p><p><span id="phone-type"></span></p><p><span id="country"></span></p><p><span id="game-plays-this-week"></span></p><p><span id="ads-seen-in-game"></span></p><p><span id="games-installed-from-ads"></span></p><p><span id="sorry-message">Sorry. We were unable to deliver our collected information at this time.</span></p><p>Please review our <a href="https://unity3d.com/legal/privacy-policy">Privacy Policy</a> for a full description of our data practices. You can opt-out of Unity Ads\u2019 personalized experiences and ads through your device settings.</p></div></span></div> <% } else { %> <span class="gdpr"><p>Ads allow developers to offer great apps for free. We try to show the apps and products that will be most interesting to you based on the apps you use, the device you use, and the country you are in.</p><p><span class="highlight">Most of the information we use for this personalization is based on your device\u2019s advertising ID (<span class="gdpr-text-ios">Apple\u2019s Advertising Identifier</span><span class="gdpr-text-android">Google Ad Identifier</span>) and your IP address. <% if(data.isCoppaCompliant) { %> <span id="coppaTag1">By request of this app\u2019s publisher, we do not combine the data from this app with data from any other apps.</span> <% } %> </span></p><p>Our <a href="https://unity3d.com/legal/privacy-policy">Privacy Policy</a> explains how we manage your data and how we work with partners who serve ads. <% if(data.isCoppaCompliant) { %> <span id="coppaTag2">While these partners generally collect information about your advertising ID from sources other than Unity, Unity does not provide your advertising ID to these third parties for ads served in this app.</span> <% } else { %> <span id="coppaTag2">These partners may collect information about your advertising ID from sources other than Unity to further personalize the ads you see. Please visit the privacy policies of these third parties to review the compiled data they may have.</span> <% } %> </p><p>From your interaction with this app, here is an example of the information we use to predict which other apps might interest you:</p><p><span id="phone-type"></span></p><p><span id="country"></span></p><p><span id="game-plays-this-week"></span></p><p><span id="ads-seen-in-game"></span></p><p><span id="games-installed-from-ads"></span></p><p><span id="sorry-message">Sorry. We were unable to deliver our collected information at this time.</span></p><p><span class="header">Selection</span></p><p>You can choose to continue to have a personalized experience, or to have a generic one. This will apply to both advertising that comes from Unity directly as well as from advertising partners.</p><div class="radio-group-container"><div class="radio-item-container"><input id="gdpr-agree-radio" name="gdpr-radio-group" type="radio"> <label for="gdpr-agree-radio">Yes, I agree to a personalized experience.</label></div><div class="radio-item-container"><input id="gdpr-refuse-radio" name="gdpr-radio-group" type="radio"> <label for="gdpr-refuse-radio">No, I do not want personalized experience.</label></div></div><p><span class="header">Changing your privacy choice</span> You can access these options at any time by tapping the Unity Data Privacy icon when or after an ad appears.</p><p><span class="header">Data Management</span> You can delete any data Unity has about your device by clicking <span class="data-deletion-link page-link">here</span>. <% if(data.isCoppaCompliant) { %> <span id="coppaTag3">This will also opt you out of personalized ad experiences.</span> <% } %> <span id="data-deletion-container">Are you sure? <span id="data-deletion-confirm" class="page-link">Yes</span> / <span class="data-deletion-reject page-link">No</span></span> <span id="data-deletion-request-container">We will process your request and your data for profile purposes will be deleted in 30 days. We will also opt you out of personalized ads immediately. Please note we may retain your data for invoicing and fraud prevention purposes for 90 days.</span></p></span></div> <% } %> <div class="pop-up-content build-side"> <% for (var k in data.buildInformation) { %> <p class="build-information-item"><span class="build-information-key"> <%= k %>:</span> <span class="build-information-value"> <%= (data.buildInformation[k] === null || typeof data.buildInformation[k] === "undefined") ? "N/A" : data.buildInformation[k] %></span></p> <% } %> </div><div class="pop-up-content report-side"><span class="report-title centered-title">Report Advertisement</span> <span class="report-dialog">Are you experiencing issues with your current advertisement? Report to Unity Ads directly and let us know!</span><ul class="radio-group-container"> <% for (var k in data.badAdReasons) { %> <div class="radio-item-container"><input id="<%= data.badAdKeys[k] %>" class="report-choice-radio" name="bad-ad-reason" type="radio"> <label for="<%= data.badAdKeys[k] %>"> <%= (data.badAdReasons[k] === null || typeof data.badAdReasons[k] === "undefined") ? "N/A" : data.badAdReasons[k] %></label></div> <% } %> </ul><span class="report-disclaimer">Disclaimer: Reporting will close your advertisement and forfeit any rewards received from watching it.</span><div class="report-container"><div class="report-button">Report</div><span class="report-confirmed-text"></span></div></div><div class="fade-out-gradient-separator"></div><div class="pop-up-footer"><div class="left-side-link"></div><div class="close-button">Confirm</div><div class="middle-link"></div></div>');
    f._campaign = a;
    f._gdprEnabled = d;
    f._gdprManager = c;
    f._bindings = [{event:"click", listener:function(a) {
      return f.onPrivacyEvent(a);
    }, selector:"a"}, {event:"click", listener:function(a) {
      return f.onStateClick(a, !0);
    }, selector:".left-side-link"}, {event:"click", listener:function(a) {
      return f.onCloseEvent(a);
    }, selector:".close-button"}, {event:"click", listener:function(a) {
      return f.onDataDeletion(a);
    }, selector:".data-deletion-link, .data-deletion-reject"}, {event:"click", listener:function(a) {
      return f.onDataDeletionConfirmation(a);
    }, selector:"#data-deletion-confirm"}, {event:"click", listener:function(a) {
      return f.onStateClick(a, !1);
    }, selector:".middle-link"}, {event:"click", listener:function(a) {
      return f.onReportAd(a);
    }, selector:".report-button"}];
    return f;
  }
  function pd(b, a, c, d) {
    b = B.call(this, b, d) || this;
    b._templateData = {isCoppaCompliant:a, isGDPREnabled:c, buildInformation:pd.buildInformation};
    return b;
  }
  function ba(b, a, c, d) {
    var e = Wa.call(this, b.platform, "new-video-overlay", b.placement.muteVideo()) || this;
    e._spinnerEnabled = !1;
    e._videoDurationEnabled = !1;
    e._muteEnabled = !1;
    e._debugMessageVisible = !1;
    e._callButtonVisible = !1;
    e._callButtonEnabled = !0;
    e._areControlsVisible = !1;
    e._gdprPopupClicked = !1;
    e._showGDPRBanner = !1;
    e._ads = b.ads;
    e._localization = new oa(b.deviceInfo.getLanguage(), "overlay");
    e._showGDPRBanner = c;
    e._showPrivacyDuringVideo = d;
    e._gameId = b.clientInfo.getGameId();
    e._template = new va('<div class="content"><div class="top-container"><div class="left-corner"><div class="skip-button button button-left"><div class="tab"><div class="icon-container"><span class="icon icon-skip"></span></div><div class="icon-container"><span class="icon icon-close"></span></div><div class="icon-container"><span class="icon test-icon-next"></span></div></div></div></div><div class="right-corner"><div class="timer-button button button-right"><div class="tab"><div class="timer-container"><div class="timer"></div></div></div></div></div></div><div class="buffering-spinner"><div class="spinner-animation"></div><div class="spinner-text"> <%= data.t("Buffering") %> </div></div><div class="bottom-container"><div class="left-corner"><div class="mute-button button button-left <%= data.muted ? \'muted\' : \'\' %>"><div class="tab"><div class="icon-container"><span class="icon icon-volume"></span></div><div class="icon-container"><span class="icon icon-volume-mute"></span></div></div></div><div class="gdpr-button button"><div class="tab tab-rounded gdpr-tab"><div class="icon-container"><span class="icon icon-gdpr"></span></div></div></div></div><div class="center"><div class="gdpr-pop-up"><div class="icon-gdpr"></div><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div></div><div class="right-corner"> <% if (data.showInstallButton) { %> <div class="install-button call-button button button-bottom button-right"><div class="tab"><div class="download-wrapper"><div class="game-icon" style="background-image: url(\'<%= data.gameIcon && data.gameIcon.replace("file://", "" ) %>\')"></div><div class="download-container"><span class="download-text"><%= data.t("Install Now") %></span></div></div></div></div> <% } else { %> <div class="vast-button call-button button button-bottom button-right"><div class="tab"><span class="text"><%= data.t("Learn More") %> <span class="go-text">GO</span></span></div></div> <% } %> </div></div><div class="debug-message-text"></div><div class="tencent-advertisement"></div></div>', 
    e._localization);
    e._seatId = b.campaign.getSeatId();
    e._abGroup = b.coreConfig.getAbGroup();
    e._campaign = b.campaign;
    e._templateData = {muted:b.placement.muteVideo()};
    if (e._campaign instanceof D || e._campaign instanceof L) {
      e._templateData.showInstallButton = !0, e._templateData.gameIcon = e._campaign.getGameIcon() ? e._campaign.getGameIcon().getUrl() : "";
    }
    e._bindings = [{event:"click", listener:function(a) {
      return e.onSkipEvent(a);
    }, selector:".skip-button"}, {event:"click", listener:function(a) {
      return e.onMuteEvent(a);
    }, selector:".mute-button"}, {event:"click", listener:function(a) {
      return e.onCallButtonEvent(a);
    }, selector:".call-button"}, {event:"click", listener:function(a) {
      return e.onPauseForTestingEvent(a);
    }, selector:".debug-message-text"}, {event:"click", listener:function(a) {
      return e.onClick(a);
    }}, {event:"click", listener:function(a) {
      return e.onGDPRPopupEvent(a);
    }, selector:".gdpr-link"}, {event:"click", listener:function(a) {
      return e.onPrivacyEvent(a);
    }, selector:".gdpr-button"}];
    fa.isTimehopApp(e._gameId) && e._bindings.push({event:"swipe", listener:function(a) {
      return e.onSkipEvent(a);
    }});
    d && (e._privacy = a, e._privacy.render(), e._privacy.hide(), document.body.appendChild(e._privacy.container()), e._privacy.addEventHandler(e));
    setTimeout(function() {
      e.fadeIn();
    }, 1000);
    return e;
  }
  function Qe(b) {
    for (var a = [], c = 0; c < arguments.length; ++c) {
      a[c - 0] = arguments[c];
    }
    this._groups = a;
  }
  function dg() {
  }
  function Na(b) {
    this._abGroup = b;
  }
  function db(b, a, c, d) {
    var e = Wa.call(this, b, "closable-video-overlay", c) || this;
    e._spinnerEnabled = !1;
    e._canClose = !1;
    e._muteEnabled = !1;
    e._debugMessageVisible = !1;
    e._callButtonVisible = !1;
    e._fadeStatus = !0;
    b = new oa(d, "overlay");
    e._template = new va('<div class="close-region"><div class="close"><span class="icon-close"></span><div class="circle-base"></div><div class="progress-wrapper"><div class="circle-left"></div><div class="circle-right"></div></div></div></div><div class="buffering-spinner"><div class="spinner-animation"></div><div class="spinner-text"><%= data.t("Buffering") %></div></div><div class="mute-button <%= data.muted ? \'muted\' : \'\' %>"><div class="mute-icon"><span class="icon-volume"></span></div><div class="unmute-icon"><span class="icon-volume-mute"></span></div></div><div class="call-button"><%= data.t("Learn More") %></div><div class="debug-message-text"></div>', 
    b);
    e._templateData = {muted:c};
    e._campaign = a;
    e._bindings = [{event:"click", listener:function(a) {
      return e.onCloseEvent(a);
    }, selector:".close-region"}, {event:"click", listener:function(a) {
      return e.onMuteEvent(a);
    }, selector:".mute-button"}, {event:"click", listener:function(a) {
      return e.onCallButtonEvent(a);
    }, selector:".call-button"}, {event:"click", listener:function(a) {
      return e.onPauseForTestingEvent(a);
    }, selector:".debug-message-text"}, {event:"click", listener:function(a) {
      return e.onClick(a);
    }}];
    return e;
  }
  function oa(b, a) {
    this._language = b;
    this._namespace = a;
  }
  function Wa(b, a, c) {
    b = B.call(this, b, a) || this;
    b._fadeEnabled = !0;
    b._isPrivacyShowing = !1;
    b._muted = c;
    return b;
  }
  function pf(b) {
    this._platform = b.platform;
    this._core = b.core;
    this._gdprManager = b.gdprManager;
    this._configuration = b.adsConfig;
    this._placement = b.placement;
  }
  function re(b) {
    return $c.call(this, b) || this;
  }
  function Id(b) {
    return $c.call(this, b) || this;
  }
  function $c(b) {
    this._platform = b.platform;
    this._core = b.core;
    this._ads = b.ads;
    this._adUnit = b.adUnit;
    this._campaign = b.campaign;
    this._video = b.video;
  }
  function O(b) {
    var a = K.call(this, b) || this;
    a._videoState = ca.NOT_READY;
    a._video = b.video;
    a._videoReady = !1;
    a._active = !1;
    a._overlay = b.overlay;
    a._deviceInfo = b.deviceInfo;
    a._options = b.options;
    a._prepareCalled = !1;
    a._lowMemory = !1;
    a._placement = b.placement;
    a._campaign = b.campaign;
    a._clientInfo = b.clientInfo;
    a.prepareOverlay();
    return a;
  }
  function Re() {
  }
  function da(b, a, c, d, e, f, g, k, v, Va) {
    var n = B.call(this, b, "admob") || this;
    n._showGDPRBanner = !1;
    n._gdprPopupClicked = !1;
    n._campaign = e;
    n._template = new va('<iframe id="admob-iframe" sandbox="allow-scripts"></iframe><div class="gdpr-pop-up"><div class="gdpr-icon"></div><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div><div class="privacy-button"><span class="icon-gdpr"></span></div>');
    n._adMobSignalFactory = c;
    n._programmaticTrackingService = Va;
    n._privacy = k;
    n._showGDPRBanner = v;
    n._afmaBridge = new Jd(a, {onAFMAClose:function() {
      return n.onClose();
    }, onAFMAOpenURL:function(a) {
      return n.onOpenURL(a);
    }, onAFMADisableBackButton:function() {
    }, onAFMAClick:function(a, b) {
      return n.onAttribution(a, b);
    }, onAFMAFetchAppStoreOverlay:function() {
    }, onAFMAForceOrientation:function() {
    }, onAFMAGrantReward:function() {
      return n.onGrantReward();
    }, onAFMAOpenInAppStore:function() {
    }, onAFMAOpenStoreOverlay:function() {
    }, OnAFMAVideoStart:function() {
      return n.onVideoStart();
    }, onAFMAResolveOpenableIntents:function(a) {
      return n.onResolveOpenableIntents(a);
    }, onAFMATrackingEvent:function(a, b) {
      return n.onTrackingEvent(a, b);
    }, onAFMAClickSignalRequest:function(a) {
      return n.onClickSignalRequest(a);
    }, onAFMAUserSeeked:function() {
      return n.onUserSeeked();
    }});
    n._mraidBridge = new Se(a, {onSetOrientationProperties:function(a, b) {
      return n.onSetOrientationProperties(a, b);
    }});
    n._bindings = [{event:"click", listener:function(a) {
      return n.onGDPRPopupEvent(a);
    }, selector:".gdpr-link"}, {event:"click", listener:function(a) {
      return n.onPrivacyEvent(a);
    }, selector:".icon-gdpr"}];
    n._privacy.render();
    n._privacy.hide();
    document.body.appendChild(n._privacy.container());
    n._privacy.addEventHandler(n);
    return n;
  }
  function Se(b, a) {
    var c = this;
    this._core = b;
    this._handler = a;
    this._messageListener = function(a) {
      return c.onMessage(a);
    };
    this._mraidHandlers = {};
    this._mraidHandlers[eg.ORIENTATION] = function(a) {
      return c.handleSetOrientationProperties(a.data);
    };
  }
  function B(b, a) {
    this._templateData = {};
    this._bindings = [];
    this._handlers = [];
    this._platform = b;
    this._id = a;
  }
  function Kd(b) {
    var a = this;
    this._element = b;
    this._moved = !1;
    this._startY = this._startX = 0;
    this._element.addEventListener("touchstart", function(b) {
      return a.onTouchStart(b);
    }, !1);
  }
  function ee(b) {
    var a = this;
    this._element = b;
    this._startY = this._startX = 0;
    this._element.addEventListener("touchstart", function(b) {
      return a.onTouchStart(b);
    }, !1);
  }
  function va(b, a) {
    var c = this;
    this._localization = a;
    var d = 0, e = "__p+='";
    b.replace(va._matcher, function(a, c, f, Va) {
      e += b.slice(d, Va).replace(va._escapeRegExp, va._escapeChar);
      d = Va + a.length;
      c ? e += "'+\n((__t=(" + c + "))==null?'':__t)+\n'" : f && (e += "';\n" + f + "\n__p+='");
      return a;
    });
    e += "';\n";
    e = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + e + "return __p;\n";
    try {
      var f = new Function("data", e);
      this._templateFunction = function(a) {
        return f.call(c, a);
      };
    } catch (g) {
      throw g.source = e, g;
    }
  }
  function Ad(b, a, c, d) {
    this._platform = b;
    this._request = a;
    this._clientInfo = c;
    this._deviceInfo = d;
  }
  function Jd(b, a) {
    var c = this;
    this._core = b;
    this._handler = a;
    this._messageListener = function(a) {
      return c.onMessage(a);
    };
    this._afmaHandlers = {};
    this._afmaHandlers[Nb.OPEN_URL] = function(a) {
      return c._handler.onAFMAOpenURL(a.data.url);
    };
    this._afmaHandlers[Nb.CLOSE] = function() {
      return c._handler.onAFMAClose();
    };
    this._afmaHandlers[Nb.FORCE_ORIENTATION] = function(a) {
      return c._handler.onAFMAForceOrientation("portrait" === a.data.orientation ? pa.PORTRAIT : pa.LANDSCAPE);
    };
    this._afmaHandlers[Nb.CLICK] = function(a) {
      return c._handler.onAFMAClick(a.data.url, a.data.touch);
    };
    this._afmaHandlers[Nb.VIDEO_START] = function() {
      return c._handler.OnAFMAVideoStart();
    };
    this._afmaHandlers[Nb.GRANT_REWARD] = function() {
      return c._handler.onAFMAGrantReward();
    };
    this._afmaHandlers[Nb.DISABLE_BACK_BUTTON] = function(a) {
      return c._handler.onAFMADisableBackButton(a.data.disabled);
    };
    this._afmaHandlers[Nb.OPEN_STORE_OVERLAY] = function(a) {
      return c._handler.onAFMAOpenStoreOverlay(a.data.url);
    };
    this._afmaHandlers[Nb.OPEN_IN_APP_STORE] = function(a) {
      return c._handler.onAFMAOpenInAppStore(a.data.productId, a.data.url);
    };
    this._afmaHandlers[Nb.FETCH_APP_STORE_OVERLAY] = function(a) {
      return c._handler.onAFMAFetchAppStoreOverlay(a.data.productId);
    };
    this._afmaHandlers[Nb.OPEN_INTENTS_REQUEST] = function(a) {
      return c._handler.onAFMAResolveOpenableIntents(a.data);
    };
    this._afmaHandlers[Nb.TRACKING] = function(a) {
      return c._handler.onAFMATrackingEvent(a.data.event, a.data.data);
    };
    this._afmaHandlers[Nb.GET_CLICK_SIGNAL] = function(a) {
      return c._handler.onAFMAClickSignalRequest(a.data);
    };
    this._afmaHandlers[Nb.USER_SEEKED] = function() {
      return c._handler.onAFMAUserSeeked();
    };
  }
  function Xa(b) {
    var a = oc.call(this, b.gdprManager, b.coreConfig, b.adsConfig) || this;
    a._adUnit = b.adUnit;
    a._platform = b.platform;
    a._core = b.core;
    a._request = b.request;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    a._session = b.session;
    a._adMobSignalFactory = b.adMobSignalFactory;
    a._campaign = b.campaign;
    a._clientInfo = b.clientInfo;
    a._timeoutTimer = new ke(function() {
      return a.onFailureToLoad();
    }, Xa._loadTimeout);
    return a;
  }
  function ke(b, a) {
    this._handle = -1;
    this._func = b;
    this._duration = a;
  }
  function qf() {
  }
  function fg(b) {
    b = Error.call(this, b);
    this.message = b.message;
    "stack" in b && (this.stack = b.stack);
  }
  function oc(b, a, c) {
    this._gdprManager = b;
    this._coreConfig = a;
    this._adsConfig = c;
  }
  function Ob(b, a, c, d, e, f, g) {
    var k = this;
    this._platform = b;
    this._core = a;
    this._coreConfig = c;
    this._adsConfig = d;
    this._clientInfo = e;
    this._deviceInfo = f;
    this._request = g;
    this._core.Storage.onSet.subscribe(function(a, b) {
      return k.onStorageSet(a, b);
    });
  }
  function qd() {
  }
  function sa(b) {
    var a = K.call(this, b) || this;
    a._foregroundTime = 0;
    a._startTime = 0;
    a._requestToViewTime = 0;
    a._operativeEventManager = b.operativeEventManager;
    a._view = b.view;
    a._options = b.options;
    a._thirdPartyEventManager = b.thirdPartyEventManager;
    a._operativeEventManager = b.operativeEventManager;
    a._keyDownListener = function(b) {
      return a.onKeyDown(b);
    };
    a._campaign = b.campaign;
    a._placement = b.placement;
    a._clientInfo = b.clientInfo;
    a.setFinishState(a._placement.allowSkip() ? M.COMPLETED : M.SKIPPED);
    return a;
  }
  function Ya(b) {
    this._value = b;
  }
  function fa() {
  }
  function $b() {
  }
  function p() {
  }
  function Fa(b) {
    var a = eb.call(this, "VPAIDCampaign", Object.assign({}, eb.Schema, {vpaid:["object"], appCategory:["string", "undefined"], appSubcategory:["string", "undefined"], advertiserDomain:["string", "undefined"], advertiserCampaignId:["string", "undefined"], advertiserBundleId:["string", "undefined"], buyerId:["string", "undefined"]}), b) || this;
    a.addTrackingToVAST(b.trackingUrls);
    return a;
  }
  function rd(b) {
    return eb.call(this, "DisplayInterstitialCampaign", Object.assign({}, eb.Schema, {dynamicMarkup:["string", "undefined"], width:["number", "undefined"], height:["number", "undefined"]}), b) || this;
  }
  function dd() {
    var b = ab.call(this, "MediationMetaData", Object.assign({}, ab.Schema, {name:["string", "undefined"], version:["string", "undefined"], ordinal:["number", "undefined"]})) || this;
    b.set("category", "mediation");
    b.set("keys", ["name", "version", "ordinal"]);
    return b;
  }
  function ab(b, a) {
    return A.call(this, b, a) || this;
  }
  function Te(b, a) {
    this._platform = b;
    this._core = a;
  }
  function Rc(b) {
    b = w.call(this, b, "Storage", Za.STORAGE) || this;
    b.onSet = new mc;
    return b;
  }
  function Pb(b) {
    return A.call(this, "Configuration", Pb.Schema, b) || this;
  }
  function K(b) {
    this.onStart = new ma;
    this.onStartProcessed = new ma;
    this.onFinish = new ma;
    this.onClose = new ma;
    this.onError = new ma;
    this._platform = b.platform;
    this._core = b.core;
    this._ads = b.ads;
    this._forceOrientation = b.forceOrientation;
    this._container = b.container;
    this._showing = !1;
    this._finishState = M.ERROR;
    this._baseCampaign = b.campaign;
  }
  function Sa() {
  }
  function nb(b) {
    return Z.call(this, "PromoCampaign", Object.assign({}, Z.Schema, {dynamicMarkup:["string", "undefined"], creativeAsset:["object", "undefined"], rewardedPromo:["boolean"], limitedTimeOffer:["object", "undefined"], payouts:["array"], costs:["array"], premiumProduct:["object", "undefined"]}), b) || this;
  }
  function ka() {
  }
  function jc(b, a, c, d, e) {
    var f = this;
    this.onCatalogRefreshed = new S;
    this._isInitialized = !1;
    this._core = b;
    this._promo = a;
    this._adsConfiguration = d;
    this._coreConfiguration = c;
    this._clientInfo = e;
    a.Purchasing.onIAPSendEvent.subscribe(function(a) {
      return f.handleSendIAPEvent(a);
    });
  }
  function pc(b, a, c, d, e, f, g) {
    this._platform = b;
    this._core = a;
    this.coreConfiguration = c;
    this.adsConfiguration = d;
    this.clientInfo = e;
    this.deviceInfo = f;
    this.analyticsStorage = g;
  }
  function Ga() {
  }
  function Pa(b) {
    return H.call(this, "IosDeviceInfo", Object.assign({}, H.Schema, {userInterfaceIdiom:["number"], screenScale:["number"], statusBarHeight:["number"], statusBarWidth:["number"], statusBarHidden:["boolean"], simulator:["boolean"], sensorList:["array"]}), m.IOS, b) || this;
  }
  function E(b) {
    return H.call(this, "AndroidDeviceInfo", Object.assign({}, H.Schema, {androidId:["string"], isGoogleStoreInstalled:["boolean"], isXiaomiStoreInstalled:["boolean"], isGoogleMapsInstalled:["boolean"], isTelephonyInstalled:["boolean"], apiLevel:["number"], freeExternalSpace:["number"], totalExternalSpace:["number"], manufacturer:["string"], screenLayout:["number"], screenDensity:["number"], ringerMode:["number"], apkDigest:["string"], certificateFingerPrint:["string"], board:["string"], bootLoader:["string"], 
    brand:["string"], device:["string"], hardware:["string"], host:["string"], product:["string"], fingerPrint:["string"], supportedAbis:["array"], usbConnected:["boolean"], upTime:["number"], elapsedRealtime:["number"], sensorList:["array"]}), m.ANDROID, b) || this;
  }
  function U(b) {
    b = w.call(this, b, "DeviceInfo", Za.DEVICEINFO) || this;
    b.onVolumeChanged = new jd;
    return b;
  }
  function w(b, a, c) {
    this._nativeBridge = b;
    this._apiClass = a;
    "undefined" !== typeof c && b.addEventHandler(c, this);
  }
  function H(b, a, c, d) {
    b = A.call(this, "DeviceInfo", a) || this;
    b._platform = c;
    b._core = d;
    return b;
  }
  function zc(b, a, c) {
    this._templateValues = {};
    this._core = b;
    this._request = a;
    c && this.setTemplateValues(c);
  }
  function x(b, a, c, d) {
    var e = this;
    this._platform = b;
    this._core = a;
    this._wakeUpManager = c;
    this._deviceInfo = d;
    this._core.Request.onComplete.subscribe(function(a, b, c, d, Va) {
      return e.onRequestComplete(a, b, c, d, Va);
    });
    this._core.Request.onFailed.subscribe(function(a, b, c) {
      return e.onRequestFailed(a, b, c);
    });
    this._wakeUpManager.onNetworkConnected.subscribe(function() {
      return e.onNetworkConnected();
    });
  }
  function sd(b, a, c) {
    b = pb.call(this, b) || this;
    b.nativeRequest = a;
    b.nativeResponse = c;
    return b;
  }
  function fb(b, a) {
    var c = pb.call(this, b.message, b.name) || this;
    c.diagnostic = {};
    c.stack = b.stack;
    c.diagnostic = a;
    return c;
  }
  function Mg() {
  }
  function nf(b) {
    return Qb.apply(this, arguments) || this;
  }
  function Td(b) {
    return Qb.apply(this, arguments) || this;
  }
  function Ee(b) {
    return Qb.apply(this, arguments) || this;
  }
  function jd(b) {
    return Qb.apply(this, arguments) || this;
  }
  function mc(b) {
    return Qb.apply(this, arguments) || this;
  }
  function S(b) {
    return Qb.apply(this, arguments) || this;
  }
  function ma(b) {
    return Qb.apply(this, arguments) || this;
  }
  function Qb() {
    this._observers = [];
  }
  function Uc(b) {
    return jb.apply(this, arguments) || this;
  }
  function se(b) {
    return A.call(this, "ProductInfo", {productId:["string"], type:["string"], quantity:["number", "undefined"]}, b) || this;
  }
  function te(b) {
    return A.call(this, "LimitedTimeOffer", {duration:["number"], firstImpression:["object", "undefined"]}, b) || this;
  }
  function jb() {
  }
  function ue(b) {
    var a = A.call(this, "PurchasingCatalog", {products:["object"]}) || this;
    var c = {};
    b = h.makeIterator(b);
    for (var d = b.next(); !d.done; d = b.next()) {
      d = new td(d.value), c[d.getId()] = d;
    }
    a.set("products", c);
    return a;
  }
  function td(b) {
    var a = A.call(this, "Product", {id:["string"], price:["string"], productType:["string", "undefined"], localizedTitle:["string"], isoCurrencyCode:["string", "undefined"], localizedPrice:["number", "undefined"]}) || this;
    a.set("id", b.productId);
    a.set("price", b.localizedPriceString);
    a.set("localizedTitle", b.localizedTitle);
    b.productType ? a.set("productType", b.productType) : a.set("productType", void 0);
    b.isoCurrencyCode ? a.set("isoCurrencyCode", b.isoCurrencyCode) : a.set("isoCurrencyCode", void 0);
    b.localizedPrice ? a.set("localizedPrice", b.localizedPrice) : a.set("localizedPrice", void 0);
    return a;
  }
  function Ha(b) {
    var a = A.call(this, "Placement", {id:["string"], name:["string"], default:["boolean"], allowSkip:["boolean"], skipInSeconds:["number"], disableBackButton:["boolean"], muteVideo:["boolean"], skipEndCardOnClose:["boolean", "undefined"], disableVideoControlsFade:["boolean", "undefined"], adTypes:["array", "undefined"], realtimeData:["string", "undefined"], state:["number"], previousState:["number"], placementStateChanged:["boolean"], currentCampaign:["object", "undefined"], currentTrackingUrls:["object", 
    "undefined"], refreshDelay:["number", "undefined"], position:["string", "undefined"], auctionType:["string"]}) || this;
    a.set("id", b.id);
    a.set("name", b.name);
    a.set("default", b.default);
    var c = b.allowSkip;
    a.set("allowSkip", c);
    c && a.set("skipInSeconds", b.skipInSeconds);
    a.set("disableBackButton", b.disableBackButton);
    a.set("muteVideo", b.muteVideo);
    a.set("skipEndCardOnClose", b.skipEndCardOnClose);
    a.set("disableVideoControlsFade", b.disableVideoControlsFade);
    a.set("adTypes", b.adTypes);
    a.set("state", xa.NOT_AVAILABLE);
    a.set("refreshDelay", b.refreshDelay);
    a.set("position", b.position || "bottomcenter");
    a.set("auctionType", b.auctionType || "cpm");
    return a;
  }
  function L(b) {
    return Z.call(this, "XPromoCampaign", Object.assign({}, Z.Schema, {appStoreId:["string"], gameId:["number"], gameName:["string"], gameIcon:["object"], rating:["number"], ratingCount:["number"], landscapeImage:["object", "undefined"], portraitImage:["object", "undefined"], squareImage:["object", "undefined"], video:["object", "undefined"], streamingVideo:["object", "undefined"], videoPortrait:["object", "undefined"], streamingPortraitVideo:["object", "undefined"], clickAttributionUrl:["string", 
    "undefined"], clickAttributionUrlFollowsRedirects:["boolean", "undefined"], bypassAppSheet:["boolean"], store:["number"], videoEventUrls:["object"]}), b) || this;
  }
  function la(b) {
    var a = eb.call(this, "VastCampaign", Object.assign({}, eb.Schema, {vast:["object"], video:["object"], hasEndscreen:["boolean"], portrait:["object", "undefined"], landscape:["object", "undefined"], appCategory:["string", "undefined"], appSubcategory:["string", "undefined"], advertiserDomain:["string", "undefined"], advertiserCampaignId:["string", "undefined"], advertiserBundleId:["string", "undefined"], buyerId:["string", "undefined"], impressionUrls:["array"], isMoatEnabled:["boolean", "undefined"]}), 
    b) || this;
    a.processCustomTracking(b.trackingUrls);
    return a;
  }
  function ta(b, a, c, d) {
    a = Ka.call(this, "Video", a, Object.assign({}, Ka.Schema, {size:["number", "undefined"], duration:["number"], position:["number"], positionRepeats:["number"], quartile:["number"], started:["boolean"], creativeId:["string", "undefined"]})) || this;
    a.set("url", b);
    a.set("size", c);
    a.set("duration", 0);
    a.set("position", 0);
    a.set("positionRepeats", 0);
    a.set("quartile", 0);
    a.set("started", !1);
    a.set("creativeId", d);
    return a;
  }
  function D(b) {
    return Z.call(this, "PerformanceCampaign", Object.assign({}, Z.Schema, {appStoreId:["string"], gameId:["number"], gameName:["string"], gameIcon:["object"], rating:["number"], ratingCount:["number"], landscapeImage:["object", "undefined"], portraitImage:["object", "undefined"], squareImage:["object", "undefined"], video:["object", "undefined"], streamingVideo:["object", "undefined"], videoPortrait:["object", "undefined"], streamingPortraitVideo:["object", "undefined"], clickAttributionUrl:["string", 
    "undefined"], clickAttributionUrlFollowsRedirects:["boolean", "undefined"], clickUrl:["string"], videoEventUrls:["object"], bypassAppSheet:["boolean"], store:["number"], adUnitStyle:["object", "undefined"], appDownloadUrl:["string", "undefined"]}), b) || this;
  }
  function V(b) {
    return eb.call(this, "MRAIDCampaign", Object.assign({}, eb.Schema, {resourceAsset:["object", "undefined"], resource:["string", "undefined"], dynamicMarkup:["string", "undefined"], clickAttributionUrl:["string", "undefined"], clickAttributionUrlFollowsRedirects:["boolean", "undefined"], clickUrl:["string", "undefined"], gameName:["string", "undefined"], gameIcon:["object", "undefined"], rating:["number", "undefined"], ratingCount:["number", "undefined"], landscapeImage:["object", "undefined"], 
    portraitImage:["object", "undefined"], bypassAppSheet:["boolean", "undefined"], store:["number", "undefined"], appStoreId:["string", "undefined"], videoEventUrls:["object", "undefined"], playableConfiguration:["object", "undefined"]}), b) || this;
  }
  function fe(b, a, c) {
    a = Ka.call(this, "HTML", a, Ka.Schema) || this;
    a.set("url", b);
    a.set("creativeId", c);
    return a;
  }
  function Ka(b, a, c) {
    b = A.call(this, b, c) || this;
    b.set("session", a);
    return b;
  }
  function hc() {
    this._handlers = [];
    this._paused = !1;
  }
  function ed(b) {
    return eb.call(this, "AdMobCampaign", Object.assign({}, eb.Schema, {dynamicMarkup:["string"], video:["object", "null"]}), b) || this;
  }
  function Ld(b) {
    return A.call(this, "AdMobVideo", {mediaFileURL:["string"], video:["object"], extension:["string", "null"]}, b) || this;
  }
  function eb(b, a, c) {
    return Z.call(this, b, a, c) || this;
  }
  function Z(b, a, c) {
    return A.call(this, b, a, c) || this;
  }
  function A(b, a, c) {
    c = void 0 === c ? {} : c;
    this._data = {};
    this._schema = a;
    this._name = b;
    this.setModelValues(c);
  }
  function F() {
  }
  function pb(b, a) {
    this.message = b;
    this.name = a;
  }
  function ua() {
  }
  function I() {
  }
  function y() {
  }
  function gg() {
  }
  function ve() {
  }
  function sb(b, a, c) {
    this._callbackId = 1;
    this._callbackTable = {};
    this._allowAutoBatching = !0;
    this._autoBatchInterval = 1;
    this._eventHandlers = {};
    this._backend = b;
    this._platform = a;
    this._autoBatchEnabled = void 0 === c ? !0 : c;
  }
  function hg(b, a) {
    this.resolve = b;
    this.reject = a;
  }
  function Ue(b) {
    this._batch = [];
    this._nativeBridge = b;
  }
  function Ve(b, a) {
    return a = {exports:{}}, b(a, a.exports), a.exports;
  }
  function rf() {
    this._listeners = {};
  }
  function Ng(b) {
    "undefined" !== typeof Float32Array ? function() {
      function a(a, b, c) {
        f[0] = a;
        b[c] = g[0];
        b[c + 1] = g[1];
        b[c + 2] = g[2];
        b[c + 3] = g[3];
      }
      function c(a, b, c) {
        f[0] = a;
        b[c] = g[3];
        b[c + 1] = g[2];
        b[c + 2] = g[1];
        b[c + 3] = g[0];
      }
      function d(a, b) {
        g[0] = a[b];
        g[1] = a[b + 1];
        g[2] = a[b + 2];
        g[3] = a[b + 3];
        return f[0];
      }
      function e(a, b) {
        g[3] = a[b];
        g[2] = a[b + 1];
        g[1] = a[b + 2];
        g[0] = a[b + 3];
        return f[0];
      }
      var f = new Float32Array([-0]), g = new Uint8Array(f.buffer), k = 128 === g[3];
      b.writeFloatLE = k ? a : c;
      b.writeFloatBE = k ? c : a;
      b.readFloatLE = k ? d : e;
      b.readFloatBE = k ? e : d;
    }() : function() {
      function a(a, b, c, g) {
        var d = 0 > b ? 1 : 0;
        d && (b = -b);
        if (0 === b) {
          a(0 < 1 / b ? 0 : 2147483648, c, g);
        } else {
          if (isNaN(b)) {
            a(2143289344, c, g);
          } else {
            if (3.4028234663852886e+38 < b) {
              a((d << 31 | 2139095040) >>> 0, c, g);
            } else {
              if (1.1754943508222875e-38 > b) {
                a((d << 31 | Math.round(b / 1.401298464324817e-45)) >>> 0, c, g);
              } else {
                var e = Math.floor(Math.log(b) / Math.LN2);
                a((d << 31 | e + 127 << 23 | Math.round(b * Math.pow(2, -e) * 8388608) & 8388607) >>> 0, c, g);
              }
            }
          }
        }
      }
      function c(a, b, c) {
        c = a(b, c);
        a = 2 * (c >> 31) + 1;
        b = c >>> 23 & 255;
        c &= 8388607;
        return 255 === b ? c ? NaN : Infinity * a : 0 === b ? 1.401298464324817e-45 * a * c : a * Math.pow(2, b - 150) * (c + 8388608);
      }
      b.writeFloatLE = a.bind(null, Og);
      b.writeFloatBE = a.bind(null, Pg);
      b.readFloatLE = c.bind(null, Qg);
      b.readFloatBE = c.bind(null, Rg);
    }();
    "undefined" !== typeof Float64Array ? function() {
      function a(a, b, c) {
        f[0] = a;
        b[c] = g[0];
        b[c + 1] = g[1];
        b[c + 2] = g[2];
        b[c + 3] = g[3];
        b[c + 4] = g[4];
        b[c + 5] = g[5];
        b[c + 6] = g[6];
        b[c + 7] = g[7];
      }
      function c(a, b, c) {
        f[0] = a;
        b[c] = g[7];
        b[c + 1] = g[6];
        b[c + 2] = g[5];
        b[c + 3] = g[4];
        b[c + 4] = g[3];
        b[c + 5] = g[2];
        b[c + 6] = g[1];
        b[c + 7] = g[0];
      }
      function d(a, b) {
        g[0] = a[b];
        g[1] = a[b + 1];
        g[2] = a[b + 2];
        g[3] = a[b + 3];
        g[4] = a[b + 4];
        g[5] = a[b + 5];
        g[6] = a[b + 6];
        g[7] = a[b + 7];
        return f[0];
      }
      function e(a, b) {
        g[7] = a[b];
        g[6] = a[b + 1];
        g[5] = a[b + 2];
        g[4] = a[b + 3];
        g[3] = a[b + 4];
        g[2] = a[b + 5];
        g[1] = a[b + 6];
        g[0] = a[b + 7];
        return f[0];
      }
      var f = new Float64Array([-0]), g = new Uint8Array(f.buffer), k = 128 === g[7];
      b.writeDoubleLE = k ? a : c;
      b.writeDoubleBE = k ? c : a;
      b.readDoubleLE = k ? d : e;
      b.readDoubleBE = k ? e : d;
    }() : function() {
      function a(a, b, c, g, k, v) {
        var d = 0 > g ? 1 : 0;
        d && (g = -g);
        if (0 === g) {
          a(0, k, v + b), a(0 < 1 / g ? 0 : 2147483648, k, v + c);
        } else {
          if (isNaN(g)) {
            a(0, k, v + b), a(2146959360, k, v + c);
          } else {
            if (1.7976931348623157e+308 < g) {
              a(0, k, v + b), a((d << 31 | 2146435072) >>> 0, k, v + c);
            } else {
              if (2.2250738585072014e-308 > g) {
                g /= 5e-324, a(g >>> 0, k, v + b), a((d << 31 | g / 4294967296) >>> 0, k, v + c);
              } else {
                var e = Math.floor(Math.log(g) / Math.LN2);
                1024 === e && (e = 1023);
                g *= Math.pow(2, -e);
                a(4503599627370496 * g >>> 0, k, v + b);
                a((d << 31 | e + 1023 << 20 | 1048576 * g & 1048575) >>> 0, k, v + c);
              }
            }
          }
        }
      }
      function c(a, b, c, g, k) {
        b = a(g, k + b);
        g = a(g, k + c);
        a = 2 * (g >> 31) + 1;
        c = g >>> 20 & 2047;
        b = 4294967296 * (g & 1048575) + b;
        return 2047 === c ? b ? NaN : Infinity * a : 0 === c ? 5e-324 * a * b : a * Math.pow(2, c - 1075) * (b + 4503599627370496);
      }
      b.writeDoubleLE = a.bind(null, Og, 0, 4);
      b.writeDoubleBE = a.bind(null, Pg, 4, 0);
      b.readDoubleLE = c.bind(null, Qg, 0, 4);
      b.readDoubleBE = c.bind(null, Rg, 4, 0);
    }();
    return b;
  }
  function Og(b, a, c) {
    a[c] = b & 255;
    a[c + 1] = b >>> 8 & 255;
    a[c + 2] = b >>> 16 & 255;
    a[c + 3] = b >>> 24;
  }
  function Pg(b, a, c) {
    a[c] = b >>> 24;
    a[c + 1] = b >>> 16 & 255;
    a[c + 2] = b >>> 8 & 255;
    a[c + 3] = b & 255;
  }
  function Qg(b, a) {
    return (b[a] | b[a + 1] << 8 | b[a + 2] << 16 | b[a + 3] << 24) >>> 0;
  }
  function Rg(b, a) {
    return (b[a] << 24 | b[a + 1] << 16 | b[a + 2] << 8 | b[a + 3]) >>> 0;
  }
  function tb(b, a) {
    this.lo = b >>> 0;
    this.hi = a >>> 0;
  }
  function We(b, a, c) {
    this.fn = b;
    this.len = a;
    this.next = void 0;
    this.val = c;
  }
  function ig() {
  }
  function ph(b) {
    this.head = b.head;
    this.tail = b.tail;
    this.len = b.len;
    this.next = b.states;
  }
  function ea() {
    this.len = 0;
    this.tail = this.head = new We(ig, 0, 0);
    this.states = null;
  }
  function jg(b, a, c) {
    a[c] = b & 255;
  }
  function kg(b, a) {
    this.len = b;
    this.next = void 0;
    this.val = a;
  }
  function lg(b, a, c) {
    for (; b.hi;) {
      a[c++] = b.lo & 127 | 128, b.lo = (b.lo >>> 7 | b.hi << 25) >>> 0, b.hi >>>= 7;
    }
    for (; 127 < b.lo;) {
      a[c++] = b.lo & 127 | 128, b.lo >>>= 7;
    }
    a[c++] = b.lo;
  }
  function mg(b, a, c) {
    a[c] = b & 255;
    a[c + 1] = b >>> 8 & 255;
    a[c + 2] = b >>> 16 & 255;
    a[c + 3] = b >>> 24;
  }
  function ge() {
    ng.call(this);
  }
  function qh(b, a, c) {
    40 > b.length ? T.utf8.write(b, a, c) : a.utf8Write(b, c);
  }
  function Oc(b, a) {
    return RangeError("index out of range: " + b.pos + " + " + (a || 1) + " > " + b.len);
  }
  function gb(b) {
    this.buf = b;
    this.pos = 0;
    this.len = b.length;
  }
  function og() {
    var b = new Sg(0, 0), a = 0;
    if (4 < this.len - this.pos) {
      for (; 4 > a; ++a) {
        if (b.lo = (b.lo | (this.buf[this.pos] & 127) << 7 * a) >>> 0, 128 > this.buf[this.pos++]) {
          return b;
        }
      }
      b.lo = (b.lo | (this.buf[this.pos] & 127) << 28) >>> 0;
      b.hi = (b.hi | (this.buf[this.pos] & 127) >> 4) >>> 0;
      if (128 > this.buf[this.pos++]) {
        return b;
      }
      a = 0;
    } else {
      for (; 3 > a; ++a) {
        if (this.pos >= this.len) {
          throw Oc(this);
        }
        b.lo = (b.lo | (this.buf[this.pos] & 127) << 7 * a) >>> 0;
        if (128 > this.buf[this.pos++]) {
          return b;
        }
      }
      b.lo = (b.lo | (this.buf[this.pos++] & 127) << 7 * a) >>> 0;
      return b;
    }
    if (4 < this.len - this.pos) {
      for (; 5 > a; ++a) {
        if (b.hi = (b.hi | (this.buf[this.pos] & 127) << 7 * a + 3) >>> 0, 128 > this.buf[this.pos++]) {
          return b;
        }
      }
    } else {
      for (; 5 > a; ++a) {
        if (this.pos >= this.len) {
          throw Oc(this);
        }
        b.hi = (b.hi | (this.buf[this.pos] & 127) << 7 * a + 3) >>> 0;
        if (128 > this.buf[this.pos++]) {
          return b;
        }
      }
    }
    throw Error("invalid varint encoding");
  }
  function sf(b, a) {
    return (b[a - 4] | b[a - 3] << 8 | b[a - 2] << 16 | b[a - 1] << 24) >>> 0;
  }
  function Tg() {
    if (this.pos + 8 > this.len) {
      throw Oc(this, 8);
    }
    return new Sg(sf(this.buf, this.pos += 4), sf(this.buf, this.pos += 4));
  }
  function Xe(b) {
    pg.call(this, b);
  }
  function Ye(b, a, c) {
    if ("function" !== typeof b) {
      throw TypeError("rpcImpl must be a function");
    }
    T.EventEmitter.call(this);
    this.rpcImpl = b;
    this.requestDelimited = !!a;
    this.responseDelimited = !!c;
  }
  var m;
  (function(b) {
    b[b.ANDROID = 0] = "ANDROID";
    b[b.IOS = 1] = "IOS";
    b[b.TEST = 2] = "TEST";
  })(m || (m = {}));
  var Za;
  (function(b) {
    b[b.APPSHEET = 0] = "APPSHEET";
    b[b.ADUNIT = 1] = "ADUNIT";
    b[b.VIDEOPLAYER = 2] = "VIDEOPLAYER";
    b[b.CACHE = 3] = "CACHE";
    b[b.CONNECTIVITY = 4] = "CONNECTIVITY";
    b[b.STORAGE = 5] = "STORAGE";
    b[b.REQUEST = 6] = "REQUEST";
    b[b.RESOLVE = 7] = "RESOLVE";
    b[b.BROADCAST = 8] = "BROADCAST";
    b[b.NOTIFICATION = 9] = "NOTIFICATION";
    b[b.LIFECYCLE = 10] = "LIFECYCLE";
    b[b.DEVICEINFO = 11] = "DEVICEINFO";
    b[b.WEBPLAYER = 12] = "WEBPLAYER";
    b[b.PURCHASING = 13] = "PURCHASING";
  })(Za || (Za = {}));
  Ue.prototype.queue = function(b, a, c) {
    c = void 0 === c ? [] : c;
    switch(this._nativeBridge.getPlatform()) {
      case m.ANDROID:
        return this.rawQueue("com.unity3d.ads.api." + b, a, c);
      case m.IOS:
        return this.rawQueue("UADSApi" + b, a, c);
      default:
        return this.rawQueue(b, a, c);
    }
  };
  Ue.prototype.rawQueue = function(b, a, c) {
    var d = this;
    c = void 0 === c ? [] : c;
    return new Promise(function(e, f) {
      e = d._nativeBridge.registerCallback(e, f);
      d._batch.push([b, a, c, e.toString()]);
    });
  };
  Ue.prototype.getBatch = function() {
    return this._batch;
  };
  var Ac;
  (function(b) {
    b[b.OK = 0] = "OK";
    b[b.ERROR = 1] = "ERROR";
  })(Ac || (Ac = {}));
  sb.convertStatus = function(b) {
    switch(b) {
      case Ac[Ac.OK]:
        return Ac.OK;
      case Ac[Ac.ERROR]:
        return Ac.ERROR;
      default:
        throw Error("Status string is not valid: " + b);
    }
  };
  sb.prototype.registerCallback = function(b, a) {
    var c = this._callbackId++;
    this._callbackTable[c] = new hg(b, a);
    return c;
  };
  sb.prototype.invoke = function(b, a, c) {
    var d = this;
    if (this._autoBatchEnabled) {
      this._autoBatch || (this._autoBatch = new Ue(this));
      var e = this._autoBatch.queue(b, a, c);
      this._autoBatchTimer || (this._autoBatchTimer = window.setTimeout(function() {
        d._autoBatch && (d.invokeBatch(d._autoBatch), delete d._autoBatch, delete d._autoBatchTimer);
      }, this._autoBatchInterval));
      return e;
    }
    e = new Ue(this);
    b = e.queue(b, a, c);
    this.invokeBatch(e);
    return b;
  };
  sb.prototype.handleCallback = function(b) {
    var a = this;
    b.forEach(function(b) {
      var c = parseInt(b.shift(), 10), e = sb.convertStatus(b.shift());
      b = b.shift();
      var f = a._callbackTable[c];
      if (!f) {
        throw Error("Unable to find matching callback object from callback id " + c);
      }
      1 === b.length && (b = b[0]);
      switch(e) {
        case Ac.OK:
          f.resolve(b);
          break;
        case Ac.ERROR:
          f.reject(b);
          break;
        default:
          throw Error("Unknown callback status");
      }
      delete a._callbackTable[c];
    });
  };
  sb.prototype.addEventHandler = function(b, a) {
    Za[b] in this._eventHandlers || (this._eventHandlers[Za[b]] = a);
  };
  sb.prototype.handleEvent = function(b) {
    var a = b.shift(), c = b.shift();
    if (a && a in this._eventHandlers) {
      this._eventHandlers[a].handleEvent(c, b);
    } else {
      throw Error("Unknown event category: " + a);
    }
  };
  sb.prototype.handleInvocation = function(b) {
    var a = this, c = b.shift(), d = b.shift(), e = b.shift();
    b.push(function(b, c) {
      for (var d = [], f = 1; f < arguments.length; ++f) {
        d[f - 1] = arguments[f];
      }
      a.invokeCallback.apply(a, [e, Ac[b]].concat(h.arrayFromIterable(d)));
    });
    window[c][d].apply(window[c], b);
  };
  sb.prototype.getPlatform = function() {
    return this._platform;
  };
  sb.prototype.setAllowAutoBatching = function(b) {
    this._allowAutoBatching = b;
  };
  sb.prototype.setAutoBatchEnabled = function(b) {
    this._allowAutoBatching && (this._autoBatchEnabled = b);
  };
  sb.prototype.invokeBatch = function(b) {
    this._backend.handleInvocation(JSON.stringify(b.getBatch()).replace(sb._doubleRegExp, "$1"));
  };
  sb.prototype.invokeCallback = function(b, a, c) {
    for (var d = [], e = 2; e < arguments.length; ++e) {
      d[e - 2] = arguments[e];
    }
    this._backend.handleCallback(b, a, JSON.stringify(d));
  };
  sb._doubleRegExp = /"(\d+\.\d+)=double"/g;
  ve.prototype.handleInvocation = function(b) {
    var a = new XMLHttpRequest;
    a.open("POST", ve._nativeUrl + "/handleInvocation", !1);
    a.send(b);
  };
  ve.prototype.handleCallback = function(b, a, c) {
    var d = new XMLHttpRequest;
    d.open("POST", ve._nativeUrl + "/handleCallback", !1);
    d.send('{"id":"' + b + '","status":"' + a + '","parameters":' + c + "}");
  };
  ve._nativeUrl = "https://webviewbridge.unityads.unity3d.com";
  gg.prototype.handleInvocation = function(b) {
    window.webkit.messageHandlers.handleInvocation.postMessage(b);
  };
  gg.prototype.handleCallback = function(b, a, c) {
    window.webkit.messageHandlers.handleCallback.postMessage({id:b, status:a, parameters:c});
  };
  y.applyEncode = function(b, a) {
    if (b) {
      for (var c = "", d = 0; d < b.length;) {
        "%" === b[d] && 3 <= b.length - d && y.isNumber(b[d + 1]) && y.isNumber(b[d + 2]) ? (c += b[d++], c += b[d++], c += b[d++]) : (c += a(b[d]), d++);
      }
      return c;
    }
    return b;
  };
  y.encode = function(b) {
    return this.applyEncode(b, function(a) {
      return encodeURI(a);
    });
  };
  y.encodeParam = function(b) {
    return this.applyEncode(b, function(a) {
      return encodeURIComponent(a);
    });
  };
  y.encodeUrlWithQueryParams = function(b) {
    if (-1 === b.indexOf("?")) {
      return y.encode(b);
    }
    var a = b.split("?");
    b = a[0];
    var c = a[1].split("&");
    a = [];
    c = h.makeIterator(c);
    for (var d = c.next(); !d.done; d = c.next()) {
      d = d.value.split("="), a.push(y.encodeParam(d[0]) + "=" + y.encodeParam(d[1]));
    }
    return y.encode(b) + "?" + a.join("&");
  };
  y.parse = function(b) {
    var a = document.createElement("a");
    a.href = b;
    return {protocol:a.protocol, host:a.host, hostname:a.hostname, port:parseInt(a.port, 10), pathname:a.pathname, search:a.search, hash:a.hash};
  };
  y.addParameters = function(b, a) {
    b = b.toString();
    b = -1 !== b.indexOf("?") ? b + "&" : b + "?";
    var c = [], d;
    for (d in a) {
      if (a.hasOwnProperty(d)) {
        var e = a[d];
        void 0 !== e && c.push(encodeURIComponent(d) + "=" + encodeURIComponent(e));
      }
    }
    return b += c.join("&");
  };
  y.getQueryParameter = function(b, a) {
    if (-1 === b.indexOf("?")) {
      return null;
    }
    b = b.split("?")[1].split("&");
    b = h.makeIterator(b);
    for (var c = b.next(); !c.done; c = b.next()) {
      if (c = c.value.split("="), c[0] === a) {
        return c[1];
      }
    }
    return null;
  };
  y.removeQueryParameter = function(b, a) {
    var c = y.getQueryParameter(b, a);
    return null == c ? b : b.replace(new RegExp("&?" + a + "=" + c), "");
  };
  y.isValid = function(b) {
    return b && (b.match(/^http:./i) || b.match(/^https:./i) && b.match(/^([!\$#&-;=\?-\[\]_a-z~{}|\\^`]|[\u00A1-\uFFFF]|%[0-9a-fA-F]{2})+$/i)) ? !0 : !1;
  };
  y.isProtocolWhitelisted = function(b, a) {
    var c = [];
    switch(a) {
      case m.IOS:
        c = this.iosWhitelistedProtocols;
        break;
      case m.ANDROID:
        c = this.androidWhitelistedProtocols;
    }
    a = h.makeIterator(c);
    for (c = a.next(); !c.done; c = a.next()) {
      if (0 === b.indexOf(c.value)) {
        return !0;
      }
    }
    return !1;
  };
  y.isNumber = function(b) {
    return null !== b.match(/^[0-9a-fA-F]$/);
  };
  y.iosWhitelistedProtocols = ["itunes", "itms", "itmss", "http", "https"];
  y.androidWhitelistedProtocols = ["market", "http", "https"];
  var ub;
  (function(b) {
    b[b.EMPTY = 0] = "EMPTY";
    b[b.ANONYMOUS = 1] = "ANONYMOUS";
    b[b.PERSONAL = 2] = "PERSONAL";
  })(ub || (ub = {}));
  I.setRequest = function(b) {
    I._request = b;
  };
  I.setPlatform = function(b) {
    I._platform = b;
  };
  I.setClientInfo = function(b) {
    I._clientInfo = b;
  };
  I.setDeviceInfo = function(b) {
    I._deviceInfo = b;
  };
  I.setConfiguration = function(b) {
    I._configuration = b;
  };
  I.sendEvent = function(b, a, c) {
    var d = [];
    d.push({type:b, msg:c});
    return I.createCommonObject(a, this._platform, this._clientInfo, this._deviceInfo, this._configuration).then(function(a) {
      a && d.unshift(a);
      a = d.map(function(a) {
        return JSON.stringify(a);
      }).join("\n");
      if (I._request) {
        return I._request.post(I.KafkaBaseUrl, a);
      }
      console.log(JSON.stringify(c));
      return Promise.resolve({});
    });
  };
  I.setTestBaseUrl = function(b) {
    I.KafkaBaseUrl = b + "/v1/events";
  };
  I.createCommonObject = function(b, a, c, d, e) {
    if (b === ub.EMPTY) {
      return Promise.resolve({common:{client:null, device:null, country:null}});
    }
    var f = {common:{client:c ? c.getDTO() : null, device:null, country:e ? e.getCountry() : null}};
    f.common.client && (f.common.client.platform = "undefined" !== typeof a ? m[a].toLowerCase() : null);
    if (d && !I._deviceInfoUpdating) {
      return I._deviceInfoUpdating = !0, b === ub.PERSONAL ? d.getDTO().then(function(a) {
        "undefined" !== typeof navigator && navigator.userAgent && (a.userAgent = navigator.userAgent);
        I._deviceInfoUpdating = !1;
        f.common.device = a;
        return f;
      }).catch(function() {
        I._deviceInfoUpdating = !1;
        f.common.device = d.getStaticDTO();
        return f;
      }) : d.getAnonymousDTO().then(function(a) {
        "undefined" !== typeof navigator && navigator.userAgent && (a.userAgent = navigator.userAgent);
        I._deviceInfoUpdating = !1;
        f.common.device = a;
        return f;
      }).catch(function() {
        I._deviceInfoUpdating = !1;
        f.common.device = d.getAnonymousStaticDTO();
        return f;
      });
    }
    d && (f.common.device = b === ub.PERSONAL ? d.getStaticDTO() : d.getAnonymousStaticDTO());
    return Promise.resolve(f);
  };
  I.KafkaBaseUrl = "https://httpkafka.unityads.unity3d.com/v1/events";
  I._deviceInfoUpdating = !1;
  ua.trigger = function(b, a, c) {
    if (!a || "object" !== typeof a || Array.isArray(a)) {
      a = {value:a};
    }
    var d = {};
    d.type = b;
    d[b] = a;
    d.timestamp = Date.now();
    void 0 !== c.getAdPlan() && (d.adPlan = c.getAdPlan());
    return I.sendEvent("ads.sdk2.diagnostics", ub.ANONYMOUS, d);
  };
  F.trigger = function(b, a) {
    if (!a || "object" !== typeof a || Array.isArray(a)) {
      a = {value:a};
    }
    var c = {};
    c.type = b;
    c[b] = a;
    c.timestamp = Date.now();
    return I.sendEvent("ads.sdk2.diagnostics", ub.ANONYMOUS, c);
  };
  A.prototype.toJSON = function() {
    return JSON.stringify(this._data, this.serializeFilter);
  };
  A.prototype.set = function(b, a) {
    b in this._schema || this.handleError(new pb("model: " + this._name + " key:" + b + " not in schema", "SchemaError"));
    this.checkValue(a, this._schema[b]) ? this._data[b] = a : this.handleError(new pb("model: " + this._name + " key: " + b + " with value: " + a + ": " + this.getTypeOf(a) + " is not in: " + this._schema[b], "CheckValueError"));
  };
  A.prototype.setModelValues = function(b) {
    for (var a in b) {
      b.hasOwnProperty(a) && this.set(a, b[a]);
    }
  };
  A.prototype.get = function(b) {
    return this._data[b];
  };
  A.prototype.handleError = function(b) {
    F.trigger("set_model_value_failed", b);
    throw b;
  };
  A.prototype.serializeFilter = function(b, a) {
    return a;
  };
  A.prototype.getTypeOf = function(b) {
    var a = typeof b;
    Array.isArray(b) ? a = "array" : null === b ? a = "null" : "number" === a && Number.isInteger(b) && (a = "integer");
    return a;
  };
  A.prototype.checkValue = function(b, a) {
    a = h.makeIterator(a);
    for (var c = a.next(); !c.done; c = a.next()) {
      c = c.value;
      var d = this.getTypeOf(b);
      if (d === c || "number" === c && "integer" === d) {
        return !0;
      }
    }
    return !1;
  };
  h.inherits(Z, A);
  Z.prototype.getId = function() {
    return this.get("id");
  };
  Z.prototype.getSession = function() {
    return this.get("session");
  };
  Z.prototype.getAdType = function() {
    return this.get("adType");
  };
  Z.prototype.getContentType = function() {
    return this.get("contentType");
  };
  Z.prototype.getCorrelationId = function() {
    return this.get("correlationId");
  };
  Z.prototype.getCreativeId = function() {
    return this.get("creativeId");
  };
  Z.prototype.getSeatId = function() {
    return this.get("seatId");
  };
  Z.prototype.getMeta = function() {
    return this.get("meta");
  };
  Z.prototype.getWillExpireAt = function() {
    return this.get("willExpireAt");
  };
  Z.prototype.isExpired = function() {
    var b = this.get("willExpireAt");
    return void 0 !== b && Date.now() > b;
  };
  Z.prototype.setMediaId = function(b) {
    this.set("mediaId", b);
  };
  Z.prototype.getMediaId = function() {
    return this.get("mediaId");
  };
  Z.prototype.setTrackingUrls = function(b) {
    this.set("trackingUrls", b);
  };
  Z.prototype.getTrackingUrls = function() {
    return this.get("trackingUrls");
  };
  Z.prototype.getTrackingUrlsForEvent = function(b) {
    var a = this.getTrackingUrls();
    return a ? a[b] || [] : [];
  };
  Z.prototype.getDTO = function() {
    return {id:this.getId(), willExpireAt:this.getWillExpireAt(), mediaId:this.getMediaId()};
  };
  Z.prototype.handleError = function(b) {
    ua.trigger("set_model_value_failed", b, this.getSession());
    throw b;
  };
  Z.Schema = {id:["string"], willExpireAt:["number", "undefined"], contentType:["string"], adType:["string", "undefined"], correlationId:["string", "undefined"], creativeId:["string", "undefined"], seatId:["number", "undefined"], meta:["string", "undefined"], session:["object"], mediaId:["string"], trackingUrls:["object"]};
  h.inherits(eb, Z);
  eb.prototype.getUseWebViewUserAgentForTracking = function() {
    return !!this.get("useWebViewUserAgentForTracking");
  };
  eb.Schema = Object.assign({}, Z.Schema, {useWebViewUserAgentForTracking:["boolean"]});
  h.inherits(Ld, A);
  Ld.prototype.getMediaFileURL = function() {
    return this.get("mediaFileURL");
  };
  Ld.prototype.getVideo = function() {
    return this.get("video");
  };
  Ld.prototype.getExtension = function() {
    return this.get("extension");
  };
  Ld.prototype.getDTO = function() {
    return {mediaFileUrl:this.getMediaFileURL(), video:this.getVideo().getDTO()};
  };
  h.inherits(ed, eb);
  ed.prototype.getDynamicMarkup = function() {
    return this.get("dynamicMarkup");
  };
  ed.prototype.getVideo = function() {
    return this.get("video");
  };
  ed.prototype.getRequiredAssets = function() {
    return [];
  };
  ed.prototype.getOptionalAssets = function() {
    var b = [], a = this.get("video");
    a && b.push(a.getVideo());
    return b;
  };
  ed.prototype.isConnectionNeeded = function() {
    return !0;
  };
  var pa;
  (function(b) {
    b[b.NONE = 0] = "NONE";
    b[b.PORTRAIT = 1] = "PORTRAIT";
    b[b.LANDSCAPE = 2] = "LANDSCAPE";
  })(pa || (pa = {}));
  var Pc;
  (function(b) {
    b[b.MEMORY_WARNING = 0] = "MEMORY_WARNING";
    b[b.AUDIO_SESSION_INTERRUPT_BEGAN = 1] = "AUDIO_SESSION_INTERRUPT_BEGAN";
    b[b.AUDIO_SESSION_INTERRUPT_ENDED = 2] = "AUDIO_SESSION_INTERRUPT_ENDED";
    b[b.AUDIO_SESSION_ROUTE_CHANGED = 3] = "AUDIO_SESSION_ROUTE_CHANGED";
    b[b.AUDIO_SESSION_CATEGORY_CHANGED = 4] = "AUDIO_SESSION_CATEGORY_CHANGED";
  })(Pc || (Pc = {}));
  hc.setForcedOrientation = function(b) {
    hc._forcedOrientation = b;
  };
  hc.getForcedOrientation = function() {
    return hc._forcedOrientation;
  };
  hc.prototype.getLockedOrientation = function() {
    return this._lockedOrientation;
  };
  hc.prototype.addEventHandler = function(b) {
    this._handlers.push(b);
    return b;
  };
  hc.prototype.removeEventHandler = function(b) {
    this._handlers.length && (this._handlers = "undefined" !== typeof b ? this._handlers.filter(function(a) {
      return a !== b;
    }) : []);
  };
  h.inherits(Ka, A);
  Ka.prototype.getUrl = function() {
    var b = this.getCachedUrl();
    return b ? b : this.getOriginalUrl();
  };
  Ka.prototype.getOriginalUrl = function() {
    return this.get("url");
  };
  Ka.prototype.isCached = function() {
    return "undefined" !== typeof this.getCachedUrl();
  };
  Ka.prototype.getCachedUrl = function() {
    return this.get("cachedUrl");
  };
  Ka.prototype.setCachedUrl = function(b) {
    this.set("cachedUrl", b);
  };
  Ka.prototype.setFileId = function(b) {
    this.set("fileId", b);
  };
  Ka.prototype.getFileId = function() {
    return this.get("fileId");
  };
  Ka.prototype.getSession = function() {
    return this.get("session");
  };
  Ka.prototype.getCreativeId = function() {
    return this.get("creativeId");
  };
  Ka.prototype.getDTO = function() {
    return {url:this.getOriginalUrl(), cachedUrl:this.getCachedUrl(), fileId:this.getFileId()};
  };
  Ka.prototype.handleError = function(b) {
    ua.trigger("set_model_value_failed", b, this.getSession());
    throw b;
  };
  Ka.prototype.serializeFilter = function(b, a) {
    if ("session" !== b) {
      return a;
    }
  };
  Ka.Schema = {url:["string"], cachedUrl:["string", "undefined"], fileId:["string", "undefined"], session:["object"], creativeId:["string", "undefined"]};
  h.inherits(fe, Ka);
  fe.prototype.getDescription = function() {
    return "MRAID";
  };
  h.inherits(V, eb);
  V.prototype.getResourceUrl = function() {
    return this.get("resourceAsset");
  };
  V.prototype.setResourceUrl = function(b) {
    this.set("resourceAsset", new fe(b, this.getSession()));
  };
  V.prototype.setResource = function(b) {
    this.set("resource", b);
  };
  V.prototype.getResource = function() {
    return this.get("resource");
  };
  V.prototype.getGameName = function() {
    return this.get("gameName");
  };
  V.prototype.getGameIcon = function() {
    return this.get("gameIcon");
  };
  V.prototype.getRating = function() {
    return this.get("rating");
  };
  V.prototype.getRatingCount = function() {
    return this.get("ratingCount");
  };
  V.prototype.getPortrait = function() {
    return this.get("portraitImage");
  };
  V.prototype.getLandscape = function() {
    return this.get("landscapeImage");
  };
  V.prototype.getPlayableConfiguration = function() {
    return this.get("playableConfiguration");
  };
  V.prototype.getRequiredAssets = function() {
    var b = this.getResourceUrl();
    return b ? [b] : [];
  };
  V.prototype.getOptionalAssets = function() {
    var b = [], a = this.getGameIcon();
    a && b.push(a);
    (a = this.getPortrait()) && b.push(a);
    (a = this.getLandscape()) && b.push(a);
    return b;
  };
  V.prototype.getDynamicMarkup = function() {
    return this.get("dynamicMarkup");
  };
  V.prototype.getClickAttributionUrl = function() {
    return this.get("clickAttributionUrl");
  };
  V.prototype.getClickAttributionUrlFollowsRedirects = function() {
    return this.get("clickAttributionUrlFollowsRedirects");
  };
  V.prototype.getClickUrl = function() {
    return this.get("clickUrl");
  };
  V.prototype.getBypassAppSheet = function() {
    return this.get("bypassAppSheet");
  };
  V.prototype.getStore = function() {
    return this.get("store");
  };
  V.prototype.getAppStoreId = function() {
    return this.get("appStoreId");
  };
  V.prototype.getVideoEventUrls = function() {
    return this.get("videoEventUrls");
  };
  V.prototype.getVideoEventUrl = function(b) {
    var a = this.get("videoEventUrls");
    return a ? a[b] : void 0;
  };
  V.prototype.setPlayableConfiguration = function(b) {
    this.set("playableConfiguration", b);
  };
  V.prototype.isConnectionNeeded = function() {
    var b = this.getResourceUrl();
    return b && b.getOriginalUrl().match(/playables\/production\/unity/) ? !1 : !0;
  };
  V.prototype.getDTO = function() {
    var b, a = this.getResourceUrl();
    a && (b = a.getDTO());
    return {campaign:eb.prototype.getDTO.call(this), resourceUrl:b, resource:this.getResource(), dynamicMarkup:this.getDynamicMarkup()};
  };
  var kc;
  (function(b) {
    b[b.APPLE = 0] = "APPLE";
    b[b.GOOGLE = 1] = "GOOGLE";
    b[b.XIAOMI = 2] = "XIAOMI";
    b[b.STANDALONE_ANDROID = 3] = "STANDALONE_ANDROID";
  })(kc || (kc = {}));
  h.inherits(D, Z);
  D.prototype.getStore = function() {
    return this.get("store");
  };
  D.prototype.getAppStoreId = function() {
    return this.get("appStoreId");
  };
  D.prototype.getGameId = function() {
    return this.get("gameId");
  };
  D.prototype.getGameName = function() {
    return this.get("gameName");
  };
  D.prototype.getGameIcon = function() {
    return this.get("gameIcon");
  };
  D.prototype.getRating = function() {
    return this.get("rating");
  };
  D.prototype.getRatingCount = function() {
    return this.get("ratingCount");
  };
  D.prototype.getPortrait = function() {
    return this.get("portraitImage");
  };
  D.prototype.getLandscape = function() {
    return this.get("landscapeImage");
  };
  D.prototype.getSquare = function() {
    return this.get("squareImage");
  };
  D.prototype.getVideo = function() {
    return this.get("video");
  };
  D.prototype.getStreamingVideo = function() {
    return this.get("streamingVideo");
  };
  D.prototype.getPortraitVideo = function() {
    return this.get("videoPortrait");
  };
  D.prototype.getStreamingPortraitVideo = function() {
    return this.get("streamingPortraitVideo");
  };
  D.prototype.getClickAttributionUrl = function() {
    return this.get("clickAttributionUrl");
  };
  D.prototype.getClickAttributionUrlFollowsRedirects = function() {
    return this.get("clickAttributionUrlFollowsRedirects");
  };
  D.prototype.getClickUrl = function() {
    return this.get("clickUrl");
  };
  D.prototype.getVideoEventUrls = function() {
    return this.get("videoEventUrls");
  };
  D.prototype.getVideoEventUrl = function(b) {
    return this.get("videoEventUrls")[b];
  };
  D.prototype.getBypassAppSheet = function() {
    return this.get("bypassAppSheet");
  };
  D.prototype.getTimeoutInSeconds = function() {
    return 0;
  };
  D.prototype.getRequiredAssets = function() {
    return [];
  };
  D.prototype.getOptionalAssets = function() {
    var b = [];
    b.push(this.getGameIcon());
    var a = this.getSquare();
    a && b.push(a);
    (a = this.getLandscape()) && b.push(a);
    (a = this.getPortrait()) && b.push(a);
    return b;
  };
  D.prototype.getAppDownloadUrl = function() {
    return this.get("appDownloadUrl");
  };
  D.prototype.isConnectionNeeded = function() {
    return !1;
  };
  D.prototype.getAdUnitStyle = function() {
    return this.get("adUnitStyle");
  };
  D.prototype.getDTO = function() {
    var b, a = this.getGameIcon();
    a && (b = a.getDTO());
    var c;
    (a = this.getSquare()) && (c = a.getDTO());
    var d;
    (a = this.getLandscape()) && (d = a.getDTO());
    var e;
    (a = this.getPortrait()) && (e = a.getDTO());
    var f;
    (a = this.getVideo()) && (f = a.getDTO());
    var g;
    (a = this.getStreamingVideo()) && (g = a.getDTO());
    return {campaign:Z.prototype.getDTO.call(this), appStoreId:this.getAppStoreId(), gameId:this.getGameId(), gameName:this.getGameName(), gameIcon:b, rating:this.getRating(), ratingCount:this.getRatingCount(), squareImage:c, landscapeImage:d, portraitImage:e, video:f, streamingVideo:g, clickAttributionUrl:this.getClickAttributionUrl(), clickAttributionUrlFollowsRedirects:this.getClickAttributionUrlFollowsRedirects(), bypassAppSheet:this.getBypassAppSheet(), store:kc[this.getStore()].toLowerCase(), 
    appDownloadUrl:this.getAppDownloadUrl()};
  };
  h.inherits(ta, Ka);
  ta.prototype.getDescription = function() {
    return "VIDEO";
  };
  ta.prototype.getSize = function() {
    return this.get("size");
  };
  ta.prototype.hasStarted = function() {
    return this.get("started");
  };
  ta.prototype.setStarted = function(b) {
    this.set("started", b);
  };
  ta.prototype.getDuration = function() {
    return this.get("duration");
  };
  ta.prototype.setDuration = function(b) {
    this.set("duration", b);
  };
  ta.prototype.getPosition = function() {
    return this.get("position");
  };
  ta.prototype.setPosition = function(b) {
    this.set("position", b);
    (b = this.get("duration")) && this.set("quartile", Math.floor(4 * this.get("position") / b));
  };
  ta.prototype.getPositionRepeats = function() {
    return this.get("positionRepeats");
  };
  ta.prototype.setPositionRepeats = function(b) {
    this.set("positionRepeats", b);
  };
  ta.prototype.getQuartile = function() {
    return this.get("quartile");
  };
  ta.prototype.setQuartile = function(b) {
    this.set("quartile", b);
  };
  ta.prototype.getDTO = function() {
    return {asset:Ka.prototype.getDTO.call(this), size:this.getSize(), duration:this.getDuration(), position:this.getPosition(), positionRepeats:this.getPositionRepeats(), quartile:this.getQuartile()};
  };
  h.inherits(la, eb);
  la.prototype.getVast = function() {
    return this.get("vast");
  };
  la.prototype.getVideo = function() {
    this.get("video") || this.set("video", new ta(this.get("vast").getVideoUrl(), this.getSession()));
    return this.get("video");
  };
  la.prototype.getRequiredAssets = function() {
    return [this.get("video")];
  };
  la.prototype.getOptionalAssets = function() {
    return [];
  };
  la.prototype.hasEndscreen = function() {
    return this.get("hasEndscreen");
  };
  la.prototype.getLandscape = function() {
    return this.get("landscape");
  };
  la.prototype.getPortrait = function() {
    return this.get("portrait");
  };
  la.prototype.isConnectionNeeded = function() {
    return !1;
  };
  la.prototype.getCategory = function() {
    return this.get("appCategory");
  };
  la.prototype.getSubcategory = function() {
    return this.get("appSubcategory");
  };
  la.prototype.getBuyerId = function() {
    return this.get("buyerId");
  };
  la.prototype.getAdvertiserDomain = function() {
    return this.get("advertiserDomain");
  };
  la.prototype.getAdvertiserCampaignId = function() {
    return this.get("advertiserCampaignId");
  };
  la.prototype.getAdvertiserBundleId = function() {
    return this.get("advertiserBundleId");
  };
  la.prototype.getImpressionUrls = function() {
    return this.get("impressionUrls");
  };
  la.prototype.isMoatEnabled = function() {
    return this.get("isMoatEnabled");
  };
  la.prototype.getDTO = function() {
    var b, a = this.get("portrait");
    a && (b = a.getDTO());
    var c;
    (a = this.get("landscape")) && (c = a.getDTO());
    return {campaign:eb.prototype.getDTO.call(this), vast:this.getVast().getDTO(), video:this.getVast().getDTO(), hasEndscreen:this.hasEndscreen(), portrait:b, landscape:c};
  };
  la.prototype.processCustomTracking = function(b) {
    var a = this;
    if (b) {
      var c = {}, d;
      for (d in b) {
        c.trackingEventName = d;
        if (b.hasOwnProperty(c.trackingEventName)) {
          var e = b[c.trackingEventName];
          e && e.forEach(function(b) {
            return function(c) {
              a.getVast().addTrackingEventUrl(b.trackingEventName, c);
            };
          }(c));
        }
        c = {trackingEventName:c.trackingEventName};
      }
    }
  };
  var qg;
  (function(b) {
    b[b.APPLE = 0] = "APPLE";
    b[b.GOOGLE = 1] = "GOOGLE";
    b[b.XIAOMI = 2] = "XIAOMI";
    b[b.STANDALONE_ANDROID = 3] = "STANDALONE_ANDROID";
  })(qg || (qg = {}));
  h.inherits(L, Z);
  L.prototype.getStore = function() {
    return this.get("store");
  };
  L.prototype.getAppStoreId = function() {
    return this.get("appStoreId");
  };
  L.prototype.getGameId = function() {
    return this.get("gameId");
  };
  L.prototype.getGameName = function() {
    return this.get("gameName");
  };
  L.prototype.getGameIcon = function() {
    return this.get("gameIcon");
  };
  L.prototype.getRating = function() {
    return this.get("rating");
  };
  L.prototype.getRatingCount = function() {
    return this.get("ratingCount");
  };
  L.prototype.getPortrait = function() {
    return this.get("portraitImage");
  };
  L.prototype.getLandscape = function() {
    return this.get("landscapeImage");
  };
  L.prototype.getSquare = function() {
    return this.get("squareImage");
  };
  L.prototype.getVideo = function() {
    return this.get("video");
  };
  L.prototype.getStreamingVideo = function() {
    return this.get("streamingVideo");
  };
  L.prototype.getPortraitVideo = function() {
    return this.get("videoPortrait");
  };
  L.prototype.getStreamingPortraitVideo = function() {
    return this.get("streamingPortraitVideo");
  };
  L.prototype.getClickAttributionUrl = function() {
    return this.get("clickAttributionUrl");
  };
  L.prototype.getClickAttributionUrlFollowsRedirects = function() {
    return this.get("clickAttributionUrlFollowsRedirects");
  };
  L.prototype.getBypassAppSheet = function() {
    return this.get("bypassAppSheet");
  };
  L.prototype.getVideoEventUrl = function(b) {
    return this.get("videoEventUrls")[b];
  };
  L.prototype.getTimeoutInSeconds = function() {
    return 0;
  };
  L.prototype.getRequiredAssets = function() {
    return [];
  };
  L.prototype.getOptionalAssets = function() {
    var b = [];
    b.push(this.getGameIcon());
    var a = this.getSquare();
    a && b.push(a);
    (a = this.getLandscape()) && b.push(a);
    (a = this.getPortrait()) && b.push(a);
    return b;
  };
  L.prototype.isConnectionNeeded = function() {
    return !1;
  };
  L.prototype.getDTO = function() {
    var b, a = this.getGameIcon();
    a && (b = a.getDTO());
    var c;
    (a = this.getSquare()) && (c = a.getDTO());
    var d;
    (a = this.getLandscape()) && (d = a.getDTO());
    var e;
    (a = this.getPortrait()) && (e = a.getDTO());
    var f;
    (a = this.getVideo()) && (f = a.getDTO());
    var g;
    (a = this.getStreamingVideo()) && (g = a.getDTO());
    return {campaign:Z.prototype.getDTO.call(this), appStoreId:this.getAppStoreId(), gameId:this.getGameId(), gameName:this.getGameName(), gameIcon:b, rating:this.getRating(), ratingCount:this.getRatingCount(), squareImage:c, landscapeImage:d, portraitImage:e, video:f, streamingVideo:g, clickAttributionUrl:this.getClickAttributionUrl(), clickAttributionUrlFollowsRedirects:this.getClickAttributionUrlFollowsRedirects(), bypassAppSheet:this.getBypassAppSheet(), store:qg[this.getStore()].toLowerCase()};
  };
  var xa;
  (function(b) {
    b[b.READY = 0] = "READY";
    b[b.NOT_AVAILABLE = 1] = "NOT_AVAILABLE";
    b[b.DISABLED = 2] = "DISABLED";
    b[b.WAITING = 3] = "WAITING";
    b[b.NO_FILL = 4] = "NO_FILL";
  })(xa || (xa = {}));
  h.inherits(Ha, A);
  Ha.prototype.getId = function() {
    return this.get("id");
  };
  Ha.prototype.getName = function() {
    return this.get("name");
  };
  Ha.prototype.isDefault = function() {
    return this.get("default");
  };
  Ha.prototype.allowSkip = function() {
    return this.get("allowSkip");
  };
  Ha.prototype.allowSkipInSeconds = function() {
    return this.get("skipInSeconds");
  };
  Ha.prototype.disableBackButton = function() {
    return this.get("disableBackButton");
  };
  Ha.prototype.muteVideo = function() {
    return this.get("muteVideo");
  };
  Ha.prototype.skipEndCardOnClose = function() {
    return this.get("skipEndCardOnClose");
  };
  Ha.prototype.disableVideoControlsFade = function() {
    return this.get("disableVideoControlsFade");
  };
  Ha.prototype.getAdTypes = function() {
    return this.get("adTypes");
  };
  Ha.prototype.getState = function() {
    return this.get("state");
  };
  Ha.prototype.getAuctionType = function() {
    return this.get("auctionType");
  };
  Ha.prototype.setState = function(b) {
    this.getState() !== b && (this.set("previousState", this.getState()), this.setPlacementStateChanged(!0));
    this.set("state", b);
  };
  Ha.prototype.getPlacementStateChanged = function() {
    return this.get("placementStateChanged");
  };
  Ha.prototype.setPlacementStateChanged = function(b) {
    this.set("placementStateChanged", b);
  };
  Ha.prototype.getPreviousState = function() {
    return this.get("previousState");
  };
  Ha.prototype.getCurrentCampaign = function() {
    return this.get("currentCampaign");
  };
  Ha.prototype.setCurrentCampaign = function(b) {
    this.set("currentCampaign", b);
  };
  Ha.prototype.getCurrentTrackingUrls = function() {
    return this.get("currentTrackingUrls");
  };
  Ha.prototype.setCurrentTrackingUrls = function(b) {
    this.set("currentTrackingUrls", b);
  };
  Ha.prototype.getRealtimeData = function() {
    return this.get("realtimeData");
  };
  Ha.prototype.setRealtimeData = function(b) {
    this.set("realtimeData", b);
  };
  Ha.prototype.getDTO = function() {
    return {id:this.getId(), name:this.getName(), "default":this.isDefault(), allowSkip:this.allowSkip(), skipInSeconds:this.allowSkipInSeconds(), disableBackButton:this.disableBackButton(), muteVideo:this.muteVideo(), skipEndCardOnClose:this.skipEndCardOnClose(), disableVideoControlsFade:this.disableVideoControlsFade(), adTypes:this.getAdTypes(), state:xa[this.getState()].toLowerCase()};
  };
  h.inherits(td, A);
  td.prototype.getId = function() {
    return this.get("id");
  };
  td.prototype.getProductType = function() {
    return this.get("productType");
  };
  td.prototype.getIsoCurrencyCode = function() {
    return this.get("isoCurrencyCode");
  };
  td.prototype.getLocalizedPrice = function() {
    return this.get("localizedPrice");
  };
  td.prototype.getPrice = function() {
    return this.get("price");
  };
  td.prototype.getLocalizedTitle = function() {
    return this.get("localizedTitle");
  };
  td.prototype.getDTO = function() {
    return {id:this.getId(), price:this.getPrice(), localizedTitle:this.getLocalizedTitle()};
  };
  h.inherits(ue, A);
  ue.prototype.getProducts = function() {
    return this.get("products");
  };
  ue.prototype.getSize = function() {
    return Object.keys(this.getProducts()).length;
  };
  ue.prototype.getDTO = function() {
    return {purchases:this.getProducts()};
  };
  jb.prototype.getProgrammaticCampaignId = function(b) {
    switch(b) {
      case m.IOS:
        return "00005472656d6f7220694f53";
      case m.ANDROID:
        return "005472656d6f7220416e6472";
      default:
        return "UNKNOWN";
    }
  };
  jb.prototype.validateAndEncodeUrl = function(b, a) {
    if (y.isValid(b)) {
      return y.encode(b);
    }
    ua.trigger("invalid_url", {url:b}, a);
    throw Error("Invalid url: " + b);
  };
  jb.prototype.validateAndEncodeUrls = function(b, a) {
    var c = [];
    if (b && 0 < b.length) {
      b = h.makeIterator(b);
      for (var d = b.next(); !d.done; d = b.next()) {
        c.push(this.validateAndEncodeUrl(d.value, a));
      }
    }
    return c;
  };
  jb.prototype.validateAndEncodeTrackingUrls = function(b, a) {
    if (b && null !== b) {
      for (var c in b) {
        if (b.hasOwnProperty(c)) {
          for (var d = [], e = h.makeIterator(b[c]), f = e.next(); !f.done; f = e.next()) {
            d.push(this.validateAndEncodeUrl(f.value, a));
          }
          b[c] = d;
        }
      }
    }
    return b;
  };
  h.inherits(te, A);
  te.prototype.isExpired = function() {
    var b = this.getFirstImpression();
    if (void 0 === b) {
      return !0;
    }
    var a = new Date;
    b.setSeconds(b.getSeconds() + this.getDuration());
    return a >= b;
  };
  te.prototype.getDuration = function() {
    return this.get("duration");
  };
  te.prototype.getFirstImpression = function() {
    return this.get("firstImpression");
  };
  te.prototype.getDTO = function() {
    return {duration:this.getDuration(), firstImpression:this.getFirstImpression()};
  };
  var Ze;
  (function(b) {
    b.VIRTUAL = "VIRTUAL";
    b.PREMIUM = "PREMIUM";
  })(Ze || (Ze = {}));
  h.inherits(se, A);
  se.prototype.getDTO = function() {
    return {itemId:this.getId(), type:this.getType(), quantity:this.getQuantity()};
  };
  se.prototype.getId = function() {
    return this.get("productId");
  };
  se.prototype.getType = function() {
    return this.get("type");
  };
  se.prototype.getQuantity = function() {
    return this.get("quantity");
  };
  h.inherits(Uc, jb);
  Uc.prototype.parse = function(b, a, c, d, e) {
    b = d.getJsonContent();
    c = b.expiry ? parseInt(b.expiry, 10) : d.getCacheTTL();
    a = this.getProductInfo(b);
    d = {id:a.getId(), contentType:Uc.ContentType, willExpireAt:c ? Date.now() + 1000 * c : void 0, adType:b.contentType || d.getContentType(), correlationId:void 0, creativeId:void 0, seatId:void 0, meta:b.meta, session:e, mediaId:d.getMediaId(), trackingUrls:d.getTrackingUrls() || {}};
    e = Object.assign({}, d, {dynamicMarkup:b.dynamicMarkup, creativeAsset:b.creativeUrl ? new fe(b.creativeUrl, e) : void 0, rewardedPromo:b.rewardedPromo || !1, limitedTimeOffer:this.getLimitedTimeOffer(b), costs:this.getProductInfoList(b.costs), payouts:this.getProductInfoList(b.payouts), premiumProduct:a});
    var f = new nb(e);
    e = Promise.resolve();
    ka.isInitialized() && !ka.isCatalogValid() && (e = ka.refreshCatalog());
    return e.then(function() {
      return Promise.resolve(f);
    });
  };
  Uc.prototype.getLimitedTimeOffer = function(b) {
    if (b.limitedTimeOffer) {
      var a = b.limitedTimeOffer.firstImpression;
      if (a) {
        var c = new Date(0);
        c.setUTCSeconds(a);
      }
      a = new te({duration:b.limitedTimeOffer.duration, firstImpression:c});
    }
    return a;
  };
  Uc.prototype.getProductInfoList = function(b) {
    var a = [];
    if (void 0 === b) {
      return a;
    }
    b = h.makeIterator(b);
    for (var c = b.next(); !c.done; c = b.next()) {
      a.push(this.getProductInfo(c.value));
    }
    return a;
  };
  Uc.prototype.getProductInfo = function(b) {
    b.premiumProduct ? (b = b.premiumProduct, b = {productId:b.productId, type:"PREMIUM" === b.type ? Ze.PREMIUM : Ze.VIRTUAL, quantity:b.quantity}) : b = {productId:b.iapProductId, quantity:1, type:Ze.PREMIUM};
    return new se(b);
  };
  Uc.ContentType = "purchasing/iap";
  Qb.prototype.subscribe = function(b) {
    this._observers.push(b);
    return b;
  };
  Qb.prototype.unsubscribe = function(b) {
    this._observers.length && (this._observers = "undefined" !== typeof b ? this._observers.filter(function(a) {
      return a !== b;
    }) : []);
  };
  h.inherits(ma, Qb);
  ma.prototype.trigger = function() {
    this._observers.forEach(function(b) {
      return b();
    });
  };
  h.inherits(S, Qb);
  S.prototype.trigger = function(b) {
    this._observers.forEach(function(a) {
      return a(b);
    });
  };
  h.inherits(mc, Qb);
  mc.prototype.trigger = function(b, a) {
    this._observers.forEach(function(c) {
      return c(b, a);
    });
  };
  h.inherits(jd, Qb);
  jd.prototype.trigger = function(b, a, c) {
    this._observers.forEach(function(d) {
      return d(b, a, c);
    });
  };
  h.inherits(Ee, Qb);
  Ee.prototype.trigger = function(b, a, c, d) {
    this._observers.forEach(function(e) {
      return e(b, a, c, d);
    });
  };
  h.inherits(Td, Qb);
  Td.prototype.trigger = function(b, a, c, d, e) {
    this._observers.forEach(function(f) {
      return f(b, a, c, d, e);
    });
  };
  h.inherits(nf, Qb);
  nf.prototype.trigger = function(b, a, c, d, e, f) {
    this._observers.forEach(function(g) {
      return g(b, a, c, d, e, f);
    });
  };
  Mg.trigger = function(b, a) {
    if (!a || "object" !== typeof a || Array.isArray(a)) {
      a = {value:a};
    }
    return I.sendEvent("ads.sdk2.analytics", ub.ANONYMOUS, a);
  };
  h.inherits(fb, pb);
  h.inherits(sd, pb);
  x.getHeader = function(b, a) {
    b = h.makeIterator(b);
    for (var c = b.next(); !c.done; c = b.next()) {
      var d = c.value;
      c = d[0];
      d = d[1];
      if (c && c.match(new RegExp(a, "i"))) {
        return d;
      }
    }
    return null;
  };
  x.is2xxSuccessful = function(b) {
    return 200 <= b && 300 > b;
  };
  x.is3xxRedirect = function(b) {
    return 300 <= b && 400 > b;
  };
  x.getDefaultRequestOptions = function() {
    return {retries:0, retryDelay:0, followRedirects:!1, retryWithConnectionEvents:!1};
  };
  x.setAuthorizationHeaderForHost = function(b, a) {
    x._authorizations.push({host:new RegExp(b), authorizationHeader:a.trim()});
  };
  x.clearAllAuthorization = function() {
    x._authorizations = [];
  };
  x.applyAuthorizationHeader = function(b, a) {
    a = void 0 === a ? [] : a;
    if (0 === this._authorizations.length) {
      return a;
    }
    for (var c = "", d = h.makeIterator(x._authorizations), e = d.next(); !e.done; e = d.next()) {
      if (e = e.value, e.host.test(b)) {
        c = e.authorizationHeader;
        break;
      }
    }
    return 0 === c.length ? a : [].concat(h.arrayFromIterable(a), [["Authorization", c]]);
  };
  x.prototype.get = function(b, a, c) {
    a = void 0 === a ? [] : a;
    if ("file://" === b.substring(0, 7)) {
      return F.trigger("rejected_get_file_url", {url:b}), Promise.reject(1);
    }
    var d = x._callbackId++, e = this.registerCallback(d);
    this.invokeRequest(d, {method:0, url:b, headers:x.applyAuthorizationHeader(b, a), retryCount:0, options:this.getOptions(c)});
    return e;
  };
  x.prototype.post = function(b, a, c, d) {
    a = void 0 === a ? "" : a;
    c = void 0 === c ? [] : c;
    if ("file://" === b.substring(0, 7)) {
      return F.trigger("rejected_post_file_url", {url:b}), Promise.reject(1);
    }
    c.push(["Content-Type", "application/json"]);
    var e = x._callbackId++, f = this.registerCallback(e);
    this.invokeRequest(e, {method:1, url:b, data:a, headers:x.applyAuthorizationHeader(b, c), retryCount:0, options:this.getOptions(d)});
    return f;
  };
  x.prototype.head = function(b, a, c) {
    a = void 0 === a ? [] : a;
    if ("file://" === b.substring(0, 7)) {
      return F.trigger("rejected_head_file_url", {url:b}), Promise.reject(1);
    }
    this._platform === m.ANDROID && 16 > this._deviceInfo.getApiLevel() && a.push(["Accept-Encoding", ""]);
    var d = x._callbackId++, e = this.registerCallback(d);
    this.invokeRequest(d, {method:2, url:b, headers:a, retryCount:0, options:this.getOptions(c)});
    return e;
  };
  x.prototype.followRedirectChain = function(b, a) {
    var c = this;
    a = void 0 === a ? !1 : a;
    var d = 0;
    return new Promise(function(e, f) {
      function g(b) {
        d++;
        b = b.trim();
        d >= x._redirectLimit ? f(Error("redirect limit reached")) : -1 === b.indexOf("http") ? e(b) : c.head(b).then(function(c) {
          if (x.is3xxRedirect(c.responseCode)) {
            var d = x.getHeader(c.headers, "location");
            d ? g(d) : f(Error(c.responseCode + ' response did not have a "Location" header'));
          } else {
            x.is2xxSuccessful(c.responseCode) ? e(b) : a ? e(b) : f(Error("Request to " + b + " failed with status " + c.responseCode));
          }
        }).catch(f);
      }
      g(b);
    });
  };
  x.prototype.getOptions = function(b) {
    return b ? b : x.getDefaultRequestOptions();
  };
  x.prototype.registerCallback = function(b) {
    return new Promise(function(a, c) {
      x._callbacks[b] = new hg(a, c);
    });
  };
  x.prototype.invokeRequest = function(b, a) {
    var c = x._connectTimeout, d = x._readTimeout;
    a.options.timeout && (d = c = a.options.timeout);
    x._requests[b] = a;
    switch(a.method) {
      case 0:
        return this._core.Request.get(b.toString(), a.url, a.headers, c, d);
      case 1:
        return this._core.Request.post(b.toString(), a.url, a.data || "", a.headers, c, d);
      case 2:
        return this._core.Request.head(b.toString(), a.url, a.headers, c, d);
      default:
        throw Error('Unsupported request method "' + a.method + '"');
    }
  };
  x.prototype.finishRequest = function(b, a, c) {
    for (var d = [], e = 2; e < arguments.length; ++e) {
      d[e - 2] = arguments[e];
    }
    if (e = x._callbacks[b]) {
      0 === a ? e.resolve.apply(e, h.arrayFromIterable(d)) : e.reject.apply(e, h.arrayFromIterable(d)), delete x._callbacks[b], delete x._requests[b];
    }
  };
  x.prototype.handleFailedRequest = function(b, a, c, d) {
    var e = this;
    a.retryCount < a.options.retries ? (a.retryCount++, setTimeout(function() {
      e.invokeRequest(b, a);
    }, a.options.retryDelay)) : a.options.retryWithConnectionEvents || this.finishRequest(b, 1, new sd(c, a, d));
  };
  x.prototype.onRequestComplete = function(b, a, c, d, e) {
    b = parseInt(b, 10);
    a = {url:a, response:c, responseCode:d, headers:e};
    if (c = x._requests[b]) {
      x.AllowedResponseCodes.exec(d.toString()) ? this.finishRequest(b, 0, a) : x.RedirectResponseCodes.exec(d.toString()) ? c.options.followRedirects ? (d = x.getHeader(e, "location")) && this.followRedirects(d) ? (c.url = d, this.invokeRequest(b, c)) : this.finishRequest(b, 0, a) : this.finishRequest(b, 0, a) : x.ErrorResponseCodes.exec(d.toString()) ? this.finishRequest(b, 1, new sd("FAILED_WITH_ERROR_RESPONSE", c, a)) : this.finishRequest(b, 1, new sd("FAILED_WITH_UNKNOWN_RESPONSE_CODE", c, a));
    }
  };
  x.prototype.followRedirects = function(b) {
    return !b.match(/^https?/i) || b.match(/^https:\/\/itunes\.apple\.com/i) || b.match(/\.apk$/i) ? !1 : !0;
  };
  x.prototype.onRequestFailed = function(b, a, c) {
    b = parseInt(b, 10);
    (a = x._requests[b]) && this.handleFailedRequest(b, a, c);
  };
  x.prototype.onNetworkConnected = function() {
    for (var b in x._requests) {
      if (x._requests.hasOwnProperty(b)) {
        var a = x._requests[b];
        a.options.retryWithConnectionEvents && a.options.retries === a.retryCount && this.invokeRequest(parseInt(b, 10), a);
      }
    }
  };
  x.AllowedResponseCodes = /2[0-9]{2}/;
  x.RedirectResponseCodes = /30[0-8]/;
  x.ErrorResponseCodes = /[4-5][0-9]{2}/;
  x._connectTimeout = 30000;
  x._readTimeout = 30000;
  x._redirectLimit = 10;
  x._callbackId = 1;
  x._callbacks = {};
  x._requests = {};
  x._authorizations = [];
  var $e;
  (function(b) {
    b[b.POST = 0] = "POST";
    b[b.GET = 1] = "GET";
  })($e || ($e = {}));
  zc.replaceUrlTemplateValues = function(b, a) {
    var c = [];
    b = h.makeIterator(b);
    for (var d = b.next(); !d.done; d = b.next()) {
      if (d = d.value) {
        for (var e in a) {
          if (a.hasOwnProperty(e)) {
            var f = d.replace(e, a[e]);
            c.push(f);
          }
        }
      }
    }
    return c;
  };
  zc.prototype.clickAttributionEvent = function(b, a, c) {
    var d = [];
    "undefined" !== typeof navigator && navigator.userAgent && c && d.push(["User-Agent", navigator.userAgent]);
    return this._request.get(b, d, {retries:0, retryDelay:0, followRedirects:a, retryWithConnectionEvents:!1});
  };
  zc.prototype.sendWithPost = function(b, a, c, d, e, f) {
    return this.sendEvent($e.POST, b, a, c, d, e, f);
  };
  zc.prototype.sendWithGet = function(b, a, c, d, e) {
    return this.sendEvent($e.GET, b, a, c, void 0, d, e);
  };
  zc.prototype.sendEvent = function(b, a, c, d, e, f, g) {
    g = g || [];
    x.getHeader(g, "User-Agent") || "undefined" !== typeof navigator && navigator.userAgent && !0 === f && g.push(["User-Agent", navigator.userAgent]);
    d = this.getUrl(d);
    this._core.Sdk.logDebug("Unity Ads third party event: sending " + a + " event to " + d + " with headers " + g + " (session " + c + ")");
    f = {retries:0, retryDelay:0, followRedirects:!0, retryWithConnectionEvents:!1};
    switch(b) {
      case $e.POST:
        b = this._request.post(d, e, g, f);
        break;
      default:
        b = this._request.get(d, g, f);
    }
    return b.catch(function(b) {
      var e = y.parse(d);
      b instanceof sd && (b = new fb(Error(b.message), {request:b.nativeRequest, event:a, sessionId:c, url:d, response:b.nativeResponse, host:e.host, protocol:e.protocol}));
      return Mg.trigger("third_party_event_failed", b);
    });
  };
  zc.prototype.setTemplateValues = function(b) {
    this._templateValues = b;
  };
  zc.prototype.setTemplateValue = function(b, a) {
    this._templateValues[b] = a;
  };
  zc.prototype.sendPerformanceTrackingEvent = function(b, a) {
    if (b instanceof D) {
      var c = b.getTrackingUrls();
      if (c && c[a] && 0 !== Object.keys(c[a]).length) {
        c = h.makeIterator(c[a]);
        for (var d = c.next(); !d.done; d = c.next()) {
          (d = d.value) ? this.sendWithGet(a, b.getSession().getId(), d) : ua.trigger("invalid_tracking_url", {eventUrl:d, event:a}, b.getSession());
        }
      }
    }
    return Promise.resolve();
  };
  zc.prototype.getUrl = function(b) {
    if (b) {
      for (var a in this._templateValues) {
        this._templateValues.hasOwnProperty(a) && (b = b.replace(a, this._templateValues[a]));
      }
    }
    return b;
  };
  var rg;
  (function(b) {
    b[b.PurchasingUnavailable = 0] = "PurchasingUnavailable";
    b[b.ExistingPurchasePending = 1] = "ExistingPurchasePending";
    b[b.ProductUnavailable = 2] = "ProductUnavailable";
    b[b.SignatureInvalid = 3] = "SignatureInvalid";
    b[b.UserCancelled = 4] = "UserCancelled";
    b[b.PaymentDeclined = 5] = "PaymentDeclined";
    b[b.DuplicateTransaction = 6] = "DuplicateTransaction";
    b[b.Unknown = 7] = "Unknown";
  })(rg || (rg = {}));
  var Ed;
  (function(b) {
    b[b.STREAM_ALARM = 4] = "STREAM_ALARM";
    b[b.STREAM_DTMF = 8] = "STREAM_DTMF";
    b[b.STREAM_MUSIC = 3] = "STREAM_MUSIC";
    b[b.STREAM_NOTIFICATION = 5] = "STREAM_NOTIFICATION";
    b[b.STREAM_RING = 2] = "STREAM_RING";
    b[b.STREAM_SYSTEM = 1] = "STREAM_SYSTEM";
    b[b.STREAM_VOICE_CALL = 0] = "STREAM_VOICE_CALL";
  })(Ed || (Ed = {}));
  h.inherits(H, A);
  H.prototype.fetch = function() {
    var b = this, a = [];
    a.push(this._core.DeviceInfo.getAdvertisingTrackingId().then(function(a) {
      return b.set("advertisingIdentifier", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getLimitAdTrackingFlag().then(function(a) {
      return b.set("limitAdTracking", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getOsVersion().then(function(a) {
      return b.set("osVersion", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getModel().then(function(a) {
      return b.set("model", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getScreenWidth().then(function(a) {
      return b.set("screenWidth", Math.floor(a));
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getScreenHeight().then(function(a) {
      return b.set("screenHeight", Math.floor(a));
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getSystemLanguage().then(function(a) {
      return b.set("language", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.isRooted().then(function(a) {
      return b.set("rooted", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getTimeZone(!1).then(function(a) {
      return b.set("timeZone", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getTotalMemory().then(function(a) {
      return b.set("totalMemory", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    a.push(this._core.DeviceInfo.getCPUCount().then(function(a) {
      return b.set("cpuCount", a);
    }).catch(function(a) {
      return b.handleDeviceInfoError(a);
    }));
    return Promise.all(a);
  };
  H.prototype.getAdvertisingIdentifier = function() {
    return this.get("advertisingIdentifier");
  };
  H.prototype.getLimitAdTracking = function() {
    return this.get("limitAdTracking");
  };
  H.prototype.getModel = function() {
    return this.get("model");
  };
  H.prototype.getNetworkType = function() {
    var b = this;
    return this._core.DeviceInfo.getNetworkType().then(function(a) {
      b.set("networkType", a);
      return b.get("networkType");
    });
  };
  H.prototype.getNetworkOperator = function() {
    var b = this;
    return this._platform === m.IOS || this._platform === m.ANDROID ? this._core.DeviceInfo.getNetworkOperator().then(function(a) {
      b.set("networkOperator", a);
      return b.get("networkOperator");
    }) : Promise.resolve(this.get("networkOperator"));
  };
  H.prototype.getNetworkOperatorName = function() {
    var b = this;
    return this._platform === m.IOS || this._platform === m.ANDROID ? this._core.DeviceInfo.getNetworkOperatorName().then(function(a) {
      b.set("networkOperatorName", a);
      return b.get("networkOperatorName");
    }) : Promise.resolve(this.get("networkOperatorName"));
  };
  H.prototype.getOsVersion = function() {
    return this.get("osVersion");
  };
  H.prototype.getScreenWidth = function() {
    var b = this;
    return this._core.DeviceInfo.getScreenWidth().then(function(a) {
      a = Math.floor(a);
      b.set("screenWidth", a);
      return a;
    });
  };
  H.prototype.getScreenHeight = function() {
    var b = this;
    return this._core.DeviceInfo.getScreenHeight().then(function(a) {
      a = Math.floor(a);
      b.set("screenHeight", a);
      return a;
    });
  };
  H.prototype.isRooted = function() {
    return this.get("rooted");
  };
  H.prototype.getConnectionType = function() {
    var b = this;
    return this._core.DeviceInfo.getConnectionType().then(function(a) {
      b.set("connectionType", a);
      return b.get("connectionType");
    });
  };
  H.prototype.getTimeZone = function() {
    return this.get("timeZone");
  };
  H.prototype.getTotalSpace = function() {
    return this.get("totalInternalSpace");
  };
  H.prototype.getLanguage = function() {
    return this.get("language");
  };
  H.prototype.getHeadset = function() {
    var b = this;
    return this._core.DeviceInfo.getHeadset().then(function(a) {
      b.set("headset", a);
      return b.get("headset");
    });
  };
  H.prototype.getDeviceVolume = function(b) {
    var a = this;
    b = void 0 === b ? Ed.STREAM_SYSTEM : b;
    return this._platform === m.IOS ? this._core.DeviceInfo.Ios.getDeviceVolume().then(function(b) {
      a.set("volume", b);
      return a.get("volume");
    }) : this._platform === m.ANDROID ? this._core.DeviceInfo.Android.getDeviceVolume(b).then(function(b) {
      a.set("volume", b);
      return a.get("volume");
    }) : Promise.resolve(this.get("volume"));
  };
  H.prototype.getScreenBrightness = function() {
    var b = this;
    return this._core.DeviceInfo.getScreenBrightness().then(function(a) {
      b.set("screenBrightness", a);
      return b.get("screenBrightness");
    });
  };
  H.prototype.getBatteryLevel = function() {
    var b = this;
    return this._core.DeviceInfo.getBatteryLevel().then(function(a) {
      b.set("batteryLevel", a);
      return b.get("batteryLevel");
    });
  };
  H.prototype.getBatteryStatus = function() {
    var b = this;
    return this._core.DeviceInfo.getBatteryStatus().then(function(a) {
      b.set("batteryStatus", a);
      return b.get("batteryStatus");
    });
  };
  H.prototype.getFreeMemory = function() {
    var b = this;
    return this._core.DeviceInfo.getFreeMemory().then(function(a) {
      b.set("freeMemory", a);
      return b.get("freeMemory");
    });
  };
  H.prototype.getTotalMemory = function() {
    return this.get("totalMemory");
  };
  H.prototype.getDTO = function() {
    var b = this;
    return this.getAnonymousDTO().then(function(a) {
      b.getAdvertisingIdentifier() && (a.advertisingTrackingId = b.getAdvertisingIdentifier(), a.limitAdTracking = b.getLimitAdTracking());
      return a;
    });
  };
  H.prototype.getAnonymousDTO = function() {
    var b = this;
    return Promise.all([this.getConnectionType().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getNetworkType().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getNetworkOperator().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getNetworkOperatorName().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getHeadset().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getDeviceVolume().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getScreenWidth().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getScreenHeight().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getScreenBrightness().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getFreeSpace().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getBatteryLevel().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getBatteryStatus().catch(function(a) {
      return b.handleDeviceInfoError(a);
    }), this.getFreeMemory().catch(function(a) {
      return b.handleDeviceInfoError(a);
    })]).then(function(a) {
      var c = h.makeIterator(a);
      a = c.next().value;
      var d = c.next().value, e = c.next().value, f = c.next().value, g = c.next().value, k = c.next().value, v = c.next().value, l = c.next().value, n = c.next().value, m = c.next().value, p = c.next().value, q = c.next().value;
      c = c.next().value;
      return {osVersion:b.getOsVersion(), deviceModel:b.getModel(), connectionType:a, networkType:d, screenWidth:v, screenHeight:l, networkOperator:e, networkOperatorName:f, timeZone:b.getTimeZone(), headset:g, language:b.getLanguage(), deviceVolume:k, screenBrightness:n, freeSpaceInternal:m, totalSpaceInternal:b.getTotalSpace(), batteryLevel:p, batteryStatus:q, freeMemory:c, totalMemory:b.getTotalMemory(), rooted:b.isRooted()};
    });
  };
  H.prototype.getStaticDTO = function() {
    var b = this.getAnonymousStaticDTO();
    this.getAdvertisingIdentifier() && (b.advertisingTrackingId = this.getAdvertisingIdentifier(), b.limitAdTracking = this.getLimitAdTracking());
    return b;
  };
  H.prototype.getAnonymousStaticDTO = function() {
    return {osVersion:this.getOsVersion(), deviceModel:this.getModel(), timeZone:this.getTimeZone(), language:this.getLanguage(), totalSpaceInternal:this.getTotalSpace(), totalMemory:this.getTotalMemory(), rooted:this.isRooted()};
  };
  H.prototype.handleDeviceInfoError = function(b) {
    this._core.Sdk.logWarning(JSON.stringify(b));
  };
  H.Schema = {advertisingIdentifier:["string", "undefined", "null"], connectionType:["string"], timeZone:["string"], volume:["number"], networkOperator:["string", "null"], networkOperatorName:["string", "null"], screenWidth:["integer"], screenHeight:["integer"], screenBrightness:["number"], limitAdTracking:["boolean", "undefined"], osVersion:["string"], model:["string"], rooted:["boolean"], language:["string"], freeInternalSpace:["number"], totalInternalSpace:["number"], networkType:["number"], batteryLevel:["number"], 
  batteryStatus:["number"], freeMemory:["number"], totalMemory:["number"], cpuCount:["number"], maxVolume:["number"], headset:["boolean"]};
  w.prototype.handleEvent = function(b) {
    throw Error(this._apiClass + " event " + b + " does not have an observable");
  };
  var we;
  (function(b) {
    b[b.VOLUME_CHANGED = 0] = "VOLUME_CHANGED";
  })(we || (we = {}));
  var Md;
  (function(b) {
    b[b.EXTERNAL = 0] = "EXTERNAL";
    b[b.INTERNAL = 1] = "INTERNAL";
  })(Md || (Md = {}));
  h.inherits(U, w);
  U.prototype.getAndroidId = function() {
    return this._nativeBridge.invoke(this._apiClass, "getAndroidId");
  };
  U.prototype.getApiLevel = function() {
    return this._nativeBridge.invoke(this._apiClass, "getApiLevel");
  };
  U.prototype.getManufacturer = function() {
    return this._nativeBridge.invoke(this._apiClass, "getManufacturer");
  };
  U.prototype.getScreenLayout = function() {
    return this._nativeBridge.invoke(this._apiClass, "getScreenLayout");
  };
  U.prototype.getScreenDensity = function() {
    return this._nativeBridge.invoke(this._apiClass, "getScreenDensity");
  };
  U.prototype.isAppInstalled = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "isAppInstalled", [b]);
  };
  U.prototype.getInstalledPackages = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "getInstalledPackages", [b]);
  };
  U.prototype.getPackageInfo = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "getPackageInfo", [b]);
  };
  U.prototype.getSystemProperty = function(b, a) {
    return this._nativeBridge.invoke(this._apiClass, "getSystemProperty", [b, a]);
  };
  U.prototype.getRingerMode = function() {
    return this._nativeBridge.invoke(this._apiClass, "getRingerMode");
  };
  U.prototype.getDeviceVolume = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "getDeviceVolume", [b]);
  };
  U.prototype.getDeviceMaxVolume = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "getDeviceMaxVolume", [b]);
  };
  U.prototype.registerVolumeChangeListener = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "registerVolumeChangeListener", [b]);
  };
  U.prototype.unregisterVolumeChangeListener = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "unregisterVolumeChangeListener", [b]);
  };
  U.prototype.getFreeSpace = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "getFreeSpace", [Md[b]]);
  };
  U.prototype.getTotalSpace = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "getTotalSpace", [Md[b]]);
  };
  U.prototype.getSensorList = function() {
    return this._nativeBridge.invoke(this._apiClass, "getSensorList");
  };
  U.prototype.getBoard = function() {
    return this._nativeBridge.invoke(this._apiClass, "getBoard");
  };
  U.prototype.getBootloader = function() {
    return this._nativeBridge.invoke(this._apiClass, "getBootloader");
  };
  U.prototype.getBrand = function() {
    return this._nativeBridge.invoke(this._apiClass, "getBrand");
  };
  U.prototype.getDevice = function() {
    return this._nativeBridge.invoke(this._apiClass, "getDevice");
  };
  U.prototype.getHardware = function() {
    return this._nativeBridge.invoke(this._apiClass, "getHardware");
  };
  U.prototype.getHost = function() {
    return this._nativeBridge.invoke(this._apiClass, "getHost");
  };
  U.prototype.getProduct = function() {
    return this._nativeBridge.invoke(this._apiClass, "getProduct");
  };
  U.prototype.getFingerprint = function() {
    return this._nativeBridge.invoke(this._apiClass, "getFingerprint");
  };
  U.prototype.getSupportedAbis = function() {
    return this._nativeBridge.invoke(this._apiClass, "getSupportedAbis");
  };
  U.prototype.getUptime = function() {
    return this._nativeBridge.invoke(this._apiClass, "getUptime");
  };
  U.prototype.getElapsedRealtime = function() {
    return this._nativeBridge.invoke(this._apiClass, "getElapsedRealtime");
  };
  U.prototype.isUSBConnected = function() {
    return this._nativeBridge.invoke(this._apiClass, "isUSBConnected");
  };
  U.prototype.isAdbEnabled = function() {
    return this._nativeBridge.invoke(this._apiClass, "isAdbEnabled");
  };
  U.prototype.getApkDigest = function() {
    return this._nativeBridge.invoke(this._apiClass, "getApkDigest");
  };
  U.prototype.getCertificateFingerprint = function() {
    return this._nativeBridge.invoke(this._apiClass, "getCertificateFingerprint");
  };
  U.prototype.getBuildId = function() {
    return this._nativeBridge.invoke(this._apiClass, "getBuildId");
  };
  U.prototype.getBuildVersionIncremental = function() {
    return this._nativeBridge.invoke(this._apiClass, "getBuildVersionIncremental");
  };
  U.prototype.handleEvent = function(b, a) {
    switch(b) {
      case we[we.VOLUME_CHANGED]:
        this.onVolumeChanged.trigger(a[0], a[1], a[2]);
        break;
      default:
        w.prototype.handleEvent.call(this, b, a);
    }
  };
  h.inherits(E, H);
  E.prototype.fetch = function() {
    var b = this;
    return H.prototype.fetch.call(this).then(function() {
      var a = [];
      a.push(b._core.DeviceInfo.Android.getAndroidId().then(function(a) {
        return b.set("androidId", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getApiLevel().then(function(a) {
        return b.set("apiLevel", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getTotalSpace(Md.INTERNAL).then(function(a) {
        return b.set("totalInternalSpace", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getTotalSpace(Md.EXTERNAL).then(function(a) {
        return b.set("totalExternalSpace", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getManufacturer().then(function(a) {
        return b.set("manufacturer", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getScreenDensity().then(function(a) {
        return b.set("screenDensity", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getScreenLayout().then(function(a) {
        return b.set("screenLayout", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.isAppInstalled(E.GooglePlayPackageName).then(function(a) {
        return b.set("isGoogleStoreInstalled", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.isAppInstalled(E.XiaomiPackageName).then(function(a) {
        return b.set("isXiaomiStoreInstalled", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.isAppInstalled(E.GoogleMapsPackageName).then(function(a) {
        return b.set("isGoogleMapsInstalled", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.isAppInstalled(E.TelephonyPackageName).then(function(a) {
        return b.set("isTelephonyInstalled", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getDeviceMaxVolume(Ed.STREAM_MUSIC).then(function(a) {
        return b.set("maxVolume", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getCertificateFingerprint().then(function(a) {
        return b.set("certificateFingerPrint", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getBoard().then(function(a) {
        return b.set("board", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getBootloader().then(function(a) {
        return b.set("bootLoader", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getBrand().then(function(a) {
        return b.set("brand", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getDevice().then(function(a) {
        return b.set("device", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getHardware().then(function(a) {
        return b.set("hardware", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getHost().then(function(a) {
        return b.set("host", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getProduct().then(function(a) {
        return b.set("product", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getFingerprint().then(function(a) {
        return b.set("fingerPrint", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Android.getSupportedAbis().then(function(a) {
        return b.set("supportedAbis", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      return Promise.all(a);
    });
  };
  E.prototype.getStores = function() {
    var b = "";
    this.isGoogleStoreInstalled() && (b = "google");
    this.isXiaomiStoreInstalled() && (b = "xiaomi");
    this.isXiaomiStoreInstalled() && this.isGoogleStoreInstalled() && (b = "xiaomi,google");
    this.isXiaomiStoreInstalled() || this.isGoogleStoreInstalled() || (b = "none");
    return b;
  };
  E.prototype.isGoogleStoreInstalled = function() {
    return this.get("isGoogleStoreInstalled");
  };
  E.prototype.isXiaomiStoreInstalled = function() {
    return this.get("isXiaomiStoreInstalled");
  };
  E.prototype.isGoogleMapsInstalled = function() {
    return this.get("isGoogleMapsInstalled");
  };
  E.prototype.isTelephonyInstalled = function() {
    return this.get("isTelephonyInstalled");
  };
  E.prototype.getAndroidId = function() {
    return this.get("androidId");
  };
  E.prototype.getApiLevel = function() {
    return this.get("apiLevel");
  };
  E.prototype.getManufacturer = function() {
    return this.get("manufacturer");
  };
  E.prototype.getScreenLayout = function() {
    return this.get("screenLayout");
  };
  E.prototype.getScreenDensity = function() {
    return this.get("screenDensity");
  };
  E.prototype.getFreeSpaceExternal = function() {
    var b = this;
    return this._core.DeviceInfo.Android.getFreeSpace(Md.EXTERNAL).then(function(a) {
      b.set("freeExternalSpace", a);
      return b.get("freeExternalSpace");
    });
  };
  E.prototype.getTotalSpaceExternal = function() {
    return this.get("totalExternalSpace");
  };
  E.prototype.getRingerMode = function() {
    var b = this;
    return this._core.DeviceInfo.Android.getRingerMode().then(function(a) {
      b.set("ringerMode", a);
      return b.get("ringerMode");
    });
  };
  E.prototype.isUSBConnected = function() {
    var b = this;
    return this._core.DeviceInfo.Android.isUSBConnected().then(function(a) {
      b.set("usbConnected", a);
      return b.get("usbConnected");
    });
  };
  E.prototype.getUptime = function() {
    var b = this;
    return this._core.DeviceInfo.Android.getUptime().then(function(a) {
      b.set("upTime", a);
      return b.get("upTime");
    });
  };
  E.prototype.getElapsedRealtime = function() {
    var b = this;
    return this._core.DeviceInfo.Android.getElapsedRealtime().then(function(a) {
      b.set("elapsedRealtime", a);
      return b.get("elapsedRealtime");
    });
  };
  E.prototype.getApkDigest = function() {
    return this.get("apkDigest");
  };
  E.prototype.getCertificateFingerprint = function() {
    return this.get("certificateFingerPrint");
  };
  E.prototype.getBoard = function() {
    return this.get("board");
  };
  E.prototype.getBootloader = function() {
    return this.get("bootLoader");
  };
  E.prototype.getBrand = function() {
    return this.get("brand");
  };
  E.prototype.getDevice = function() {
    return this.get("device");
  };
  E.prototype.getHardware = function() {
    return this.get("hardware");
  };
  E.prototype.getHost = function() {
    return this.get("host");
  };
  E.prototype.getProduct = function() {
    return this.get("product");
  };
  E.prototype.getFingerprint = function() {
    return this.get("fingerPrint");
  };
  E.prototype.getSupportedAbis = function() {
    return this.get("supportedAbis");
  };
  E.prototype.getSensorList = function() {
    var b = this;
    return this._core.DeviceInfo.Android.getSensorList().then(function(a) {
      b.set("sensorList", a);
      return b.get("sensorList");
    });
  };
  E.prototype.getFreeSpace = function() {
    var b = this;
    return this._core.DeviceInfo.Android.getFreeSpace(Md.INTERNAL).then(function(a) {
      b.set("freeInternalSpace", a);
      return b.get("freeInternalSpace");
    });
  };
  E.prototype.getDTO = function() {
    var b = this;
    return H.prototype.getDTO.call(this).then(function(a) {
      var c = Object.assign({}, a, {apiLevel:b.getApiLevel(), deviceMake:b.getManufacturer(), screenLayout:b.getScreenLayout(), screenDensity:b.getScreenDensity(), totalSpaceExternal:b.getTotalSpaceExternal()});
      b.getAdvertisingIdentifier() || (c.androidId = b.getAndroidId());
      return Promise.all([b.getFreeSpaceExternal().catch(function(a) {
        return b.handleDeviceInfoError(a);
      }), b.getRingerMode().catch(function(a) {
        return b.handleDeviceInfoError(a);
      })]).then(function(a) {
        var b = h.makeIterator(a);
        a = b.next().value;
        b = b.next().value;
        c.freeSpaceExternal = a;
        c.ringerMode = b;
        return c;
      });
    });
  };
  E.prototype.getAnonymousDTO = function() {
    var b = this;
    return H.prototype.getAnonymousDTO.call(this).then(function(a) {
      var c = Object.assign({}, a, {apiLevel:b.getApiLevel(), deviceMake:b.getManufacturer(), screenLayout:b.getScreenLayout(), screenDensity:b.getScreenDensity(), totalSpaceExternal:b.getTotalSpaceExternal()});
      return Promise.all([b.getFreeSpaceExternal().catch(function(a) {
        return b.handleDeviceInfoError(a);
      }), b.getRingerMode().catch(function(a) {
        return b.handleDeviceInfoError(a);
      })]).then(function(a) {
        var b = h.makeIterator(a);
        a = b.next().value;
        b = b.next().value;
        c.freeSpaceExternal = a;
        c.ringerMode = b;
        return c;
      });
    });
  };
  E.prototype.getStaticDTO = function() {
    var b = Object.assign({}, H.prototype.getStaticDTO.call(this), {apiLevel:this.getApiLevel(), deviceMake:this.getManufacturer(), screenLayout:this.getScreenLayout(), screenDensity:this.getScreenDensity(), totalSpaceExternal:this.getTotalSpaceExternal()});
    this.getAdvertisingIdentifier() || (b.androidId = this.getAndroidId());
    return b;
  };
  E.prototype.getAnonymousStaticDTO = function() {
    return Object.assign({}, H.prototype.getAnonymousStaticDTO.call(this), {apiLevel:this.getApiLevel(), deviceMake:this.getManufacturer(), screenLayout:this.getScreenLayout(), screenDensity:this.getScreenDensity(), totalSpaceExternal:this.getTotalSpaceExternal()});
  };
  E.GooglePlayPackageName = "com.android.vending";
  E.XiaomiPackageName = "com.xiaomi.gamecenter";
  E.GoogleMapsPackageName = "com.google.android.gms.maps";
  E.TelephonyPackageName = "com.android.telephony";
  h.inherits(Pa, H);
  Pa.prototype.fetch = function() {
    var b = this;
    return H.prototype.fetch.call(this).then(function() {
      var a = [];
      a.push(b._core.DeviceInfo.Ios.getUserInterfaceIdiom().then(function(a) {
        return b.set("userInterfaceIdiom", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Ios.getScreenScale().then(function(a) {
        return b.set("screenScale", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Ios.isSimulator().then(function(a) {
        return b.set("simulator", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Ios.getTotalSpace().then(function(a) {
        return b.set("totalInternalSpace", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Ios.getStatusBarHeight().then(function(a) {
        return b.set("statusBarHeight", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Ios.getStatusBarWidth().then(function(a) {
        return b.set("statusBarWidth", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      a.push(b._core.DeviceInfo.Ios.getDeviceMaxVolume().then(function(a) {
        return b.set("maxVolume", a);
      }).catch(function(a) {
        return b.handleDeviceInfoError(a);
      }));
      return Promise.all(a);
    });
  };
  Pa.prototype.getStores = function() {
    return "apple";
  };
  Pa.prototype.getScreenScale = function() {
    return this.get("screenScale");
  };
  Pa.prototype.getUserInterfaceIdiom = function() {
    return this.get("userInterfaceIdiom");
  };
  Pa.prototype.isSimulator = function() {
    return this.get("simulator");
  };
  Pa.prototype.getStatusBarHeight = function() {
    return this.get("statusBarHeight");
  };
  Pa.prototype.getStatusBarWidth = function() {
    return this.get("statusBarWidth");
  };
  Pa.prototype.isStatusBarHidden = function() {
    var b = this;
    return this._core.DeviceInfo.Ios.isStatusBarHidden().then(function(a) {
      b.set("statusBarHidden", a);
      return b.get("statusBarHidden");
    });
  };
  Pa.prototype.getSensorList = function() {
    var b = this;
    return this._core.DeviceInfo.Ios.getSensorList().then(function(a) {
      b.set("sensorList", a);
      return b.get("sensorList");
    });
  };
  Pa.prototype.getFreeSpace = function() {
    var b = this;
    return this._core.DeviceInfo.Ios.getFreeSpace().then(function(a) {
      b.set("freeInternalSpace", a);
      return b.get("freeInternalSpace");
    });
  };
  Pa.prototype.getDTO = function() {
    var b = this;
    return H.prototype.getDTO.call(this).then(function(a) {
      return Object.assign({}, a, {screenScale:b.getScreenScale(), userInterfaceIdiom:b.getUserInterfaceIdiom(), simulator:b.isSimulator()});
    });
  };
  Pa.prototype.getAnonymousDTO = function() {
    var b = this;
    return H.prototype.getAnonymousDTO.call(this).then(function(a) {
      return Object.assign({}, a, {screenScale:b.getScreenScale(), userInterfaceIdiom:b.getUserInterfaceIdiom(), simulator:b.isSimulator()});
    });
  };
  Pa.prototype.getStaticDTO = function() {
    return Object.assign({}, H.prototype.getStaticDTO.call(this), {screenScale:this.getScreenScale(), userInterfaceIdiom:this.getUserInterfaceIdiom(), simulator:this.isSimulator()});
  };
  Pa.prototype.getAnonymousStaticDTO = function() {
    return Object.assign({}, H.prototype.getAnonymousStaticDTO.call(this), {screenScale:this.getScreenScale(), userInterfaceIdiom:this.getUserInterfaceIdiom(), simulator:this.isSimulator()});
  };
  Ga.getCommonObject = function(b, a, c, d, e, f) {
    return {common:{appid:f.getUnityProjectId(), userid:a, sessionid:c, platform:b === m.IOS ? "IPhonePlayer" : "AndroidPlayer", platformid:b === m.IOS ? 8 : 11, sdk_ver:d.getSdkVersionName(), adsid:Ga.getAdvertisingIdentifier(e), ads_tracking:e.getLimitAdTracking() ? !1 : !0, ads_coppa:f.isCoppaCompliant(), ads_gameid:d.getGameId(), ads_sdk:!0, iap_ver:"ads sdk", gamer_token:f.getToken()}};
  };
  Ga.getDeviceInfoObject = function(b, a, c, d) {
    return Promise.all([Ga.getScreen(b, a, d), Ga.getDeviceModel(b, a, d)]).then(function(a) {
      var e = h.makeIterator(a);
      a = e.next().value;
      e = e.next().value;
      return {type:"analytics.deviceInfo.v1", msg:{ts:Date.now(), app_ver:c.getApplicationVersion(), adsid:d.getAdvertisingIdentifier(), ads_tracking:d.getLimitAdTracking() ? !1 : !0, os_ver:Ga.getOsVersion(b, d), model:e, app_name:c.getApplicationName(), ram:Math.round(d.getTotalMemory() / 1024), screen:a, lang:d.getLanguage().split("_")[0], rooted_jailbroken:d.isRooted() ? !0 : !1}};
    });
  };
  Ga.getStartObject = function() {
    return {type:"analytics.appStart.v1", msg:{ts:Date.now()}};
  };
  Ga.getInstallObject = function(b) {
    return {type:"analytics.appInstall.v1", msg:{ts:Date.now(), app_ver:b.getApplicationVersion()}};
  };
  Ga.getUpdateObject = function(b) {
    return {type:"analytics.appUpdate.v1", msg:{ts:Date.now(), app_ver:b.getApplicationVersion()}};
  };
  Ga.getRunningObject = function(b) {
    return {type:"analytics.appRunning.v1", msg:{ts:Date.now(), duration:b, local_time_offset:-6E4 * (new Date).getTimezoneOffset()}};
  };
  Ga.getOsVersion = function(b, a) {
    return b === m.IOS ? "iOS " + a.getOsVersion() : b === m.ANDROID && a instanceof E ? "Android OS " + a.getOsVersion() + " / API-" + a.getApiLevel() : "";
  };
  Ga.getAdvertisingIdentifier = function(b) {
    if (b = b.getAdvertisingIdentifier()) {
      return b.toLowerCase();
    }
  };
  Ga.getScreen = function(b, a, c) {
    return b === m.IOS ? Promise.all([c.getScreenWidth(), c.getScreenHeight(), a.DeviceInfo.Ios.isStatusBarHidden(), a.DeviceInfo.Ios.getStatusBarHeight()]).then(function(a) {
      var b = h.makeIterator(a);
      a = b.next().value;
      var d = b.next().value, g = b.next().value;
      b = b.next().value;
      var k = a, v = d;
      g || (v += b);
      v > k && (k = d, v = a);
      c instanceof Pa && (k *= c.getScreenScale(), v *= c.getScreenScale());
      return Promise.resolve(k + " x " + v);
    }) : Promise.all([c.getScreenWidth(), c.getScreenHeight()]).then(function(a) {
      var b = h.makeIterator(a);
      a = b.next().value;
      b = b.next().value;
      var c = a, d = b;
      d > c && (c = b, d = a);
      return Promise.resolve(c + " x " + d);
    });
  };
  Ga.getDeviceModel = function(b, a, c) {
    return b === m.IOS ? Promise.resolve(c.getModel()) : b === m.ANDROID && c instanceof E ? a.DeviceInfo.Android.getDevice().then(function(a) {
      return c.getManufacturer() + "/" + c.getModel() + "/" + a;
    }) : Promise.resolve("");
  };
  pc.prototype.getAppStoreFromReceipt = function(b) {
    if (b) {
      try {
        var a = JSON.parse(b);
        if (a && a.Store) {
          return a.Store;
        }
      } catch (c) {
        this._core.Sdk.logError("PromoEvents.getAppStoreFromReceipt failed to parse json");
      }
    }
    return "unknown";
  };
  pc.prototype.onPurchaseFailed = function(b, a) {
    var c = this;
    return Promise.all([this.deviceInfo.getScreenWidth(), this.deviceInfo.getScreenHeight(), this.analyticsStorage.getSessionId(this.clientInfo.isReinitialized()), this.analyticsStorage.getUserId()]).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      var f = e.next().value, g = e.next().value;
      e = e.next().value;
      return Object.assign({}, b, {appid:c.coreConfiguration.getUnityProjectId(), platform:c._platform === m.IOS ? "Ios" : "Android", platformid:c._platform === m.IOS ? 8 : 11, gameId:c.clientInfo.getGameId(), sdk_ver:"", ads_sdk_ver:c.clientInfo.getSdkVersionName(), gamerToken:c.coreConfiguration.getToken(), game_ver:c.clientInfo.getApplicationVersion(), osv:Ga.getOsVersion(c._platform, c.deviceInfo), orient:c.getOrientation(d, f), w:d, h:f, iap_ver:"ads sdk", sessionid:g, userid:e, trackingOptOut:c.adsConfiguration.isOptOutEnabled(), 
      ppi:c.getPPI(), deviceid:c.getDeviceId(), request:"purchase", iap_service:!1, iapPromo:!0, type:"iap.purchasefailed", purchase:"FAILED", failureJSON:JSON.stringify(a)});
    });
  };
  pc.prototype.onPurchaseSuccess = function(b, a, c) {
    var d = this;
    return Promise.all([this.deviceInfo.getScreenWidth(), this.deviceInfo.getScreenHeight(), this.analyticsStorage.getSessionId(this.clientInfo.isReinitialized()), this.analyticsStorage.getUserId()]).then(function(e) {
      var f = h.makeIterator(e);
      e = f.next().value;
      var g = f.next().value, k = f.next().value;
      f = f.next().value;
      return Object.assign({}, b, {appid:d.coreConfiguration.getUnityProjectId(), platform:d._platform === m.IOS ? "Ios" : "Android", platformid:d._platform === m.IOS ? 8 : 11, gameId:d.clientInfo.getGameId(), sdk_ver:"", ads_sdk_ver:d.clientInfo.getSdkVersionName(), gamerToken:d.coreConfiguration.getToken(), game_ver:d.clientInfo.getApplicationVersion(), osv:Ga.getOsVersion(d._platform, d.deviceInfo), orient:d.getOrientation(e, g), w:e, h:g, iap_ver:"ads sdk", sessionid:k, userid:f, trackingOptOut:d.adsConfiguration.isOptOutEnabled(), 
      ppi:d.getPPI(), deviceid:d.getDeviceId(), request:"purchase", iap_service:!1, iapPromo:!0, type:"iap.purchase", purchase:"OK", productType:a, receipt:{data:c}});
    });
  };
  pc.prototype.onOrganicPurchaseFailed = function(b, a) {
    var c = this;
    return Promise.all([this.deviceInfo.getScreenWidth(), this.deviceInfo.getScreenHeight(), this.analyticsStorage.getSessionId(this.clientInfo.isReinitialized()), this.analyticsStorage.getUserId()]).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      var f = e.next().value, g = e.next().value;
      e = e.next().value;
      return Object.assign({}, b, {appid:c.coreConfiguration.getUnityProjectId(), platform:c._platform === m.IOS ? "Ios" : "Android", platformid:c._platform === m.IOS ? 8 : 11, gameId:c.clientInfo.getGameId(), sdk_ver:"", ads_sdk_ver:c.clientInfo.getSdkVersionName(), gamerToken:c.coreConfiguration.getToken(), game_ver:c.clientInfo.getApplicationVersion(), osv:Ga.getOsVersion(c._platform, c.deviceInfo), orient:c.getOrientation(d, f), w:d, h:f, iap_ver:"ads sdk", sessionid:g, userid:e, trackingOptOut:c.adsConfiguration.isOptOutEnabled(), 
      ppi:c.getPPI(), deviceid:c.getDeviceId(), iap_service:!1, iapPromo:!1, type:"iap.purchasefailed", purchase:"FAILED", failureJSON:JSON.stringify(a)});
    });
  };
  pc.prototype.onOrganicPurchaseSuccess = function(b, a, c) {
    var d = this;
    return Promise.all([this.deviceInfo.getScreenWidth(), this.deviceInfo.getScreenHeight(), this.analyticsStorage.getSessionId(this.clientInfo.isReinitialized()), this.analyticsStorage.getUserId()]).then(function(e) {
      var f = h.makeIterator(e);
      e = f.next().value;
      var g = f.next().value, k = f.next().value;
      f = f.next().value;
      return Object.assign({}, b, {appid:d.coreConfiguration.getUnityProjectId(), platform:d._platform === m.IOS ? "Ios" : "Android", platformid:d._platform === m.IOS ? 8 : 11, gameId:d.clientInfo.getGameId(), sdk_ver:"", ads_sdk_ver:d.clientInfo.getSdkVersionName(), gamerToken:d.coreConfiguration.getToken(), game_ver:d.clientInfo.getApplicationVersion(), osv:Ga.getOsVersion(d._platform, d.deviceInfo), orient:d.getOrientation(e, g), w:e, h:g, iap_ver:"ads sdk", sessionid:k, userid:f, trackingOptOut:d.adsConfiguration.isOptOutEnabled(), 
      ppi:d.getPPI(), deviceid:d.getDeviceId(), iap_service:!1, iapPromo:!1, type:"iap.purchase", purchase:"OK", productType:a, receipt:{data:c}});
    });
  };
  pc.prototype.failureJson = function(b, a, c, d) {
    return {storeSpecificErrorCode:b, message:a, reason:rg[c], productId:d};
  };
  pc.prototype.getPPI = function() {
    return this._platform === m.ANDROID ? this.deviceInfo.getScreenDensity() : this.deviceInfo.getScreenScale();
  };
  pc.prototype.getOrientation = function(b, a) {
    return 1 > b / a ? "Portrait" : "Landscape";
  };
  pc.prototype.getDeviceId = function() {
    if (this.adsConfiguration.isOptOutEnabled() && this.adsConfiguration.isGDPREnabled()) {
      if (this.deviceInfo instanceof E) {
        return this.deviceInfo.getDevice();
      }
      if (this.deviceInfo instanceof Pa) {
        var b = this.deviceInfo.getAdvertisingIdentifier();
        if (b) {
          return b;
        }
      }
    }
    return "";
  };
  pc.purchasePathRegex = /events\/v1\/purchase/;
  pc.purchaseHostnameRegex = /events.iap.unity3d.com/;
  var xe;
  (function(b) {
    b.SETIDS = "setids";
    b.PURCHASE = "purchase";
    b.CLOSE = "close";
  })(xe || (xe = {}));
  jc.prototype.initialize = function() {
    var b = this;
    this.configurationIncludesPromoPlacement() ? this._initPromise = this.initializeIAPPromo().then(function() {
      return b.checkPromoVersion();
    }).then(function() {
      return b.sendPurchasingCommand(b.getInitializationPayload());
    }) : this._initPromise = Promise.resolve();
    return this._initPromise;
  };
  jc.prototype.purchaseItem = function(b, a, c, d) {
    b = a.getTrackingUrlsForEvent("purchase");
    c = zc.replaceUrlTemplateValues(b, {"%ZONE%":c}).map(function(a) {
      return pc.purchaseHostnameRegex.test(a) ? y.addParameters(a, {"native":d, iap_service:!0}) : a;
    });
    a = {productId:a.getIapProductId(), iapPromo:!0, request:xe.PURCHASE, purchaseTrackingUrls:c, native:d};
    this.sendPromoPayload(a);
    return Promise.resolve({});
  };
  jc.prototype.onPromoClosed = function(b, a) {
    b = b.getTrackingUrlsForEvent("purchase");
    a = zc.replaceUrlTemplateValues(b, {"%ZONE%":a});
    a = {gamerToken:this._coreConfiguration.getToken(), trackingOptOut:this._adsConfiguration.isOptOutEnabled(), iapPromo:!0, gameId:this._clientInfo.getGameId() + "|" + this._coreConfiguration.getToken(), abGroup:this._coreConfiguration.getAbGroup().toNumber(), request:xe.CLOSE, purchaseTrackingUrls:a};
    this.sendPromoPayload(a);
  };
  jc.prototype.refreshCatalog = function() {
    var b = this;
    return new Promise(function(a, c) {
      var d = b._promo.Purchasing.onGetPromoCatalog.subscribe(function(e) {
        b._promo.Purchasing.onGetPromoCatalog.unsubscribe(d);
        "" === e && c(b.logIssue("catalog_json_empty", "Promo catalog JSON is empty"));
        try {
          var f = JSON.parse(e);
          a(f);
        } catch (g) {
          c(b.logIssue("catalog_json_parse_failure", "Promo catalog JSON failed to parse with the following string: " + e));
        }
      });
      b._promo.Purchasing.getPromoCatalog().catch(function() {
        b._promo.Purchasing.onGetPromoCatalog.unsubscribe(d);
        c(b.logIssue("catalog_refresh_failed", "Purchasing Catalog failed to refresh"));
      });
    });
  };
  jc.prototype.logIssue = function(b, a) {
    this._core.Sdk.logError(a);
    F.trigger(b, {message:a});
    return Error(a);
  };
  jc.prototype.getInitializationPayload = function() {
    return {iapPromo:!0, abGroup:this._coreConfiguration.getAbGroup().toNumber(), gameId:this._clientInfo.getGameId() + "|" + this._coreConfiguration.getToken(), trackingOptOut:this._adsConfiguration.isOptOutEnabled(), gamerToken:this._coreConfiguration.getToken(), request:xe.SETIDS};
  };
  jc.prototype.configurationIncludesPromoPlacement = function() {
    if (this._coreConfiguration) {
      var b = this._adsConfiguration.getPlacements(), a = this._adsConfiguration.getPlacementIds();
      a = h.makeIterator(a);
      for (var c = a.next(); !c.done; c = a.next()) {
        if ((c = b[c.value].getAdTypes()) && -1 < c.indexOf("IAP")) {
          return !0;
        }
      }
    }
    return !1;
  };
  jc.prototype.handleSendIAPEvent = function(b) {
    var a = this;
    return "CatalogUpdated" === JSON.parse(b).type ? this.refreshCatalog().then(function(b) {
      return a.onCatalogRefreshed.trigger(b);
    }) : Promise.reject(this.logIssue("handle_send_event_failure", "IAP Payload is incorrect"));
  };
  jc.prototype.initializeIAPPromo = function() {
    var b = this;
    return new Promise(function(a, c) {
      var d = b._promo.Purchasing.onInitialize.subscribe(function(e) {
        b._promo.Purchasing.onInitialize.unsubscribe(d);
        "True" !== e ? c(b.logIssue("purchasingsdk_not_detected", "Purchasing SDK not detected. You have likely configured a promo placement but have not included the Unity Purchasing SDK in your game.")) : a();
      });
      b._promo.Purchasing.initializePurchasing().catch(function() {
        b._promo.Purchasing.onInitialize.unsubscribe(d);
        c(b.logIssue("purchase_initialization_failed", "Purchase initialization failed"));
      });
    });
  };
  jc.prototype.checkPromoVersion = function() {
    var b = this;
    return new Promise(function(a, c) {
      var d = b._promo.Purchasing.onGetPromoVersion.subscribe(function(e) {
        b._promo.Purchasing.onGetPromoVersion.unsubscribe(d);
        b.isPromoVersionSupported(e) ? a() : c(b.logIssue("promo_version_not_supported", "Promo version: " + e + " is not supported. Initialize UnityPurchasing 1.16+ to ensure Promos are marked as ready"));
      });
      b._promo.Purchasing.getPromoVersion().catch(function() {
        b._promo.Purchasing.onGetPromoVersion.unsubscribe(d);
        c(b.logIssue("promo_version_check_failed", "Promo version check failed"));
      });
    });
  };
  jc.prototype.isPromoVersionSupported = function(b) {
    b = b.split(".", 2);
    return 1 < b.length ? 2 <= parseInt(b[0], 10) || 1 <= parseInt(b[0], 10) && 16 <= parseInt(b[1], 10) : !1;
  };
  jc.prototype.sendPurchasingCommand = function(b) {
    var a = this;
    return new Promise(function(c, d) {
      var e = a._promo.Purchasing.onCommandResult.subscribe(function(e) {
        "True" === e ? (b.request === xe.SETIDS && (a._isInitialized = !0), c()) : d(a.logIssue("purchase_command_attempt_failed", "Purchase command attempt failed with command " + e));
      });
      a._promo.Purchasing.initiatePurchasingCommand(JSON.stringify(b)).catch(function() {
        a._promo.Purchasing.onCommandResult.unsubscribe(e);
        d(a.logIssue("send_purchase_event_failed", "Purchase event failed to send"));
      });
    });
  };
  jc.prototype.sendPromoPayload = function(b) {
    var a = this;
    return this._isInitialized ? this.sendPurchasingCommand(b) : this.initialize().then(function() {
      return a.sendPurchasingCommand(b);
    });
  };
  var Ug;
  (function(b) {
    b.SETIDS = "setids";
    b.PURCHASE = "purchase";
    b.CLOSE = "close";
  })(Ug || (Ug = {}));
  ka.initialize = function(b, a, c, d, e, f, g, k, v, l) {
    var n = this;
    this._clientInfo = c;
    this._coreConfig = d;
    this._adsConfig = e;
    this._core = b;
    this._promo = a;
    this._placementManager = f;
    this._analyticsManager = l;
    this._promoEvents = k;
    this._request = v;
    g.onAdPlanReceived.subscribe(function() {
      return n._placementManager.clear();
    });
    return this.getPurchasingAdapter().then(function(a) {
      n._purchasingAdapter = a;
      n._purchasingAdapter.onCatalogRefreshed.subscribe(function(a) {
        n.updateCatalog(a);
        n.setProductPlacementStates();
      });
      return n._purchasingAdapter.initialize();
    }).then(function() {
      return n._isInitialized = !0;
    });
  };
  ka.isInitialized = function() {
    return this._isInitialized;
  };
  ka.onPurchase = function(b, a, c, d) {
    return this._purchasingAdapter.purchaseItem(b, a, c, void 0 === d ? !1 : d);
  };
  ka.onPromoClosed = function(b, a) {
    this._purchasingAdapter.onPromoClosed(b, a);
  };
  ka.refreshCatalog = function() {
    var b = this;
    this._refreshPromise || (this._refreshPromise = this._purchasingAdapter.refreshCatalog().then(function(a) {
      return b.updateCatalog(a);
    }).then(function() {
      return b.setProductPlacementStates();
    }).then(function() {
      b._refreshPromise = null;
    }).catch(function(a) {
      b._refreshPromise = null;
      throw a;
    }));
    return this._refreshPromise;
  };
  ka.getProductPrice = function(b) {
    if (this.isProductAvailable(b)) {
      return this._catalog.getProducts()[b].getPrice();
    }
  };
  ka.getProductName = function(b) {
    if (this.isProductAvailable(b)) {
      return this._catalog.getProducts()[b].getLocalizedTitle();
    }
  };
  ka.getProductType = function(b) {
    if (this.isProductAvailable(b)) {
      return this._catalog.getProducts()[b].getProductType();
    }
  };
  ka.getProductLocalizedPrice = function(b) {
    if (this.isProductAvailable(b)) {
      return this._catalog.getProducts()[b].getLocalizedPrice();
    }
  };
  ka.getProductIsoCurrencyCode = function(b) {
    if (this.isProductAvailable(b)) {
      return this._catalog.getProducts()[b].getIsoCurrencyCode();
    }
  };
  ka.isProductAvailable = function(b) {
    return this.isCatalogValid() ? b in this._catalog.getProducts() : !1;
  };
  ka.isCatalogValid = function() {
    return void 0 !== this._catalog && void 0 !== this._catalog.getProducts() && 0 !== this._catalog.getSize();
  };
  ka.addCampaignPlacementIds = function(b, a) {
    this._placementManager.addCampaignPlacementIds(b, a);
  };
  ka.setProductPlacementStates = function() {
    var b = this._placementManager.getPlacementCampaignMap(Uc.ContentType), a = Object.keys(b);
    a = h.makeIterator(a);
    for (var c = a.next(); !c.done; c = a.next()) {
      c = c.value;
      var d = b[c];
      d instanceof nb && this.isProductAvailable(d.getIapProductId()) ? this._placementManager.setPlacementReady(c, d) : this._placementManager.setPlacementState(c, xa.NO_FILL);
    }
  };
  ka.getPurchasingAdapter = function() {
    return Promise.resolve(new jc(this._core, this._promo, this._coreConfig, this._adsConfig, this._clientInfo));
  };
  ka.updateCatalog = function(b) {
    try {
      this._catalog = new ue(b);
    } catch (a) {
      this._core.Sdk.logInfo("Error, cannot create catalog: " + JSON.stringify(a));
    }
  };
  ka._catalog = new ue([]);
  ka._isInitialized = !1;
  h.inherits(nb, Z);
  nb.prototype.isConnectionNeeded = function() {
    var b = this.getCreativeResource();
    return b ? !b.getFileId() : !1;
  };
  nb.prototype.createTrackingEventUrlsWithProductType = function(b) {
    var a = this.get("trackingUrls"), c = {};
    if (void 0 !== a) {
      for (var d in a) {
        if (a.hasOwnProperty(d)) {
          c[d] = [];
          for (var e = h.makeIterator(a[d]), f = e.next(); !f.done; f = e.next()) {
            if (f = f.value) {
              var g = -1 !== f.indexOf("events-iap.staging.unityads.unity3d.com"), k = -1 !== f.indexOf("events.iap.unity3d.com");
              g || k ? c[d].push(f + "&productType=" + b) : c[d].push(f);
            }
          }
        }
      }
    }
    return c;
  };
  nb.prototype.getTrackingEventUrls = function() {
    var b = this.getIapProductId();
    b = ka.getProductType(b);
    return void 0 === b ? this.get("trackingUrls") : this.createTrackingEventUrlsWithProductType(b);
  };
  nb.prototype.getTrackingUrlsForEvent = function(b) {
    var a = this.getTrackingEventUrls();
    return a ? a[b] || [] : [];
  };
  nb.prototype.getCreativeResource = function() {
    return this.get("creativeAsset");
  };
  nb.prototype.getDynamicMarkup = function() {
    return this.get("dynamicMarkup");
  };
  nb.prototype.getIapProductId = function() {
    return this.get("premiumProduct").getId();
  };
  nb.prototype.getRequiredAssets = function() {
    var b = this.getCreativeResource();
    return b ? [b] : [];
  };
  nb.prototype.getPayouts = function() {
    return this.get("payouts");
  };
  nb.prototype.getCosts = function() {
    return this.get("costs");
  };
  nb.prototype.getOptionalAssets = function() {
    return [];
  };
  nb.prototype.getRewardedPromo = function() {
    return this.get("rewardedPromo");
  };
  nb.prototype.getLimitedTimeOffer = function() {
    return this.get("limitedTimeOffer");
  };
  var ud;
  (function(b) {
    b[b.CACHE = 0] = "CACHE";
    b[b.STREAM = 1] = "STREAM";
  })(ud || (ud = {}));
  Sa.isCached = function(b) {
    if (b instanceof D || b instanceof L) {
      var a = b.getVideo();
      b = b.getPortraitVideo();
      if (a && a.isCached() || b && b.isCached()) {
        return !0;
      }
    } else {
      if (b instanceof la) {
        return b.getVideo().isCached();
      }
      if (b instanceof V) {
        if ((a = b.getResourceUrl()) && a.isCached() || b.getResource()) {
          return !0;
        }
      } else {
        if (b instanceof nb) {
          if (b = b.getCreativeResource()) {
            return b.isCached();
          }
        } else {
          if (b instanceof ed && (b = b.getVideo()) && b.getVideo() && b.getVideo().isCached()) {
            return !0;
          }
        }
      }
    }
    return !1;
  };
  Sa.getCachedVideoOrientation = function(b) {
    if (b instanceof D || b instanceof L) {
      var a = b.getVideo();
      b = b.getPortraitVideo();
      if (a && a.isCached()) {
        return "landscape";
      }
      if (b && b.isCached()) {
        return "portrait";
      }
    } else {
      if (b instanceof la && (a = b.getVideo()) && a.isCached()) {
        return "landscape";
      }
    }
  };
  Sa.getOrientedVideo = function(b, a, c) {
    if (b instanceof D || b instanceof L || b instanceof la) {
      var d = Sa.getLandscapeVideo(b, c);
      b = Sa.getPortraitVideo(b, c);
      if (a === pa.LANDSCAPE) {
        if (d) {
          return d;
        }
        if (b) {
          return b;
        }
      }
      if (a === pa.PORTRAIT) {
        if (b) {
          return b;
        }
        if (d) {
          return d;
        }
      }
    }
  };
  Sa.getLandscapeVideo = function(b, a) {
    if (b instanceof D || b instanceof L) {
      var c = b.getVideo();
      b = b.getStreamingVideo();
      if (c && c.isCached() && a !== ud.STREAM) {
        return c;
      }
      if (b && a !== ud.CACHE) {
        return b;
      }
    } else {
      if (b instanceof la) {
        return c = b.getVideo(), a !== ud.CACHE || c.isCached() ? c : void 0;
      }
    }
  };
  Sa.getPortraitVideo = function(b, a) {
    if (b instanceof D || b instanceof L) {
      var c = b.getPortraitVideo();
      b = b.getStreamingPortraitVideo();
      if (c && c.isCached() && a !== ud.STREAM) {
        return c;
      }
      if (b && a !== ud.CACHE) {
        return b;
      }
    }
  };
  Sa.getCachedAsset = function(b) {
    if (b instanceof D || b instanceof L || b instanceof la) {
      return Sa.getOrientedVideo(b, pa.LANDSCAPE, ud.CACHE);
    }
    if (b instanceof V && (b = b.getResourceUrl()) && b.isCached()) {
      return b;
    }
  };
  var M;
  (function(b) {
    b[b.COMPLETED = 0] = "COMPLETED";
    b[b.SKIPPED = 1] = "SKIPPED";
    b[b.ERROR = 2] = "ERROR";
  })(M || (M = {}));
  K.setAutoClose = function(b) {
    K._autoClose = b;
  };
  K.getAutoClose = function() {
    return K._autoClose;
  };
  K.setAutoCloseDelay = function(b) {
    K._autoCloseDelay = b;
  };
  K.getAutoCloseDelay = function() {
    return K._autoCloseDelay;
  };
  K.prototype.isCached = function() {
    return Sa.isCached(this._baseCampaign);
  };
  K.prototype.isShowing = function() {
    return this._showing;
  };
  K.prototype.setShowing = function(b) {
    this._showing = b;
  };
  K.prototype.getContainer = function() {
    return this._container;
  };
  K.prototype.getForceOrientation = function() {
    return this._forceOrientation;
  };
  K.prototype.getFinishState = function() {
    return this._finishState;
  };
  K.prototype.setFinishState = function(b) {
    this._finishState !== M.COMPLETED && (this._finishState = b);
  };
  K.prototype.markAsSkipped = function() {
    this._finishState = M.SKIPPED;
  };
  K._autoClose = !1;
  K._autoCloseDelay = 0;
  var Zb;
  (function(b) {
    b[b.FORCED = 0] = "FORCED";
    b[b.ALLOWED = 1] = "ALLOWED";
    b[b.DISABLED = 2] = "DISABLED";
    b[b.ADAPTIVE = 3] = "ADAPTIVE";
  })(Zb || (Zb = {}));
  h.inherits(Pb, A);
  Pb.prototype.isEnabled = function() {
    return this.get("enabled");
  };
  Pb.prototype.getCountry = function() {
    return this.get("country");
  };
  Pb.prototype.isCoppaCompliant = function() {
    return this.get("coppaCompliant");
  };
  Pb.prototype.isAnalyticsEnabled = function() {
    return this.get("analytics");
  };
  Pb.prototype.isJaegerTracingEnabled = function() {
    return this.get("jaegerTracing");
  };
  Pb.prototype.getAbGroup = function() {
    return this.get("abGroup");
  };
  Pb.prototype.getProperties = function() {
    return this.get("properties");
  };
  Pb.prototype.getToken = function() {
    return this.get("token");
  };
  Pb.prototype.getUnityProjectId = function() {
    return this.get("projectId");
  };
  Pb.prototype.getDTO = function() {
    return {enabled:this.isEnabled(), country:this.getCountry(), coppaCompliant:this.isCoppaCompliant(), abGroup:this.getAbGroup().toNumber(), gamerToken:this.getToken(), projectId:this.getUnityProjectId()};
  };
  Pb.prototype.getTestMode = function() {
    return this.get("test");
  };
  Pb.prototype.getOrganizationId = function() {
    return this.get("organizationId");
  };
  Pb.Schema = {enabled:["boolean"], country:["string"], coppaCompliant:["boolean"], abGroup:["object"], properties:["string"], analytics:["boolean"], test:["boolean"], projectId:["string"], token:["string"], jaegerTracing:["boolean"], organizationId:["string", "undefined"]};
  var t;
  (function(b) {
    b[b.PRIVATE = 0] = "PRIVATE";
    b[b.PUBLIC = 1] = "PUBLIC";
  })(t || (t = {}));
  var vb;
  (function(b) {
    b[b.COULDNT_SET_VALUE = 0] = "COULDNT_SET_VALUE";
    b[b.COULDNT_GET_VALUE = 1] = "COULDNT_GET_VALUE";
    b[b.COULDNT_WRITE_STORAGE_TO_CACHE = 2] = "COULDNT_WRITE_STORAGE_TO_CACHE";
    b[b.COULDNT_CLEAR_STORAGE = 3] = "COULDNT_CLEAR_STORAGE";
    b[b.COULDNT_GET_STORAGE = 4] = "COULDNT_GET_STORAGE";
    b[b.COULDNT_DELETE_VALUE = 5] = "COULDNT_DELETE_VALUE";
  })(vb || (vb = {}));
  var tf;
  (function(b) {
    b[b.SET = 0] = "SET";
  })(tf || (tf = {}));
  h.inherits(Rc, w);
  Rc.prototype.read = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "read", [t[b]]);
  };
  Rc.prototype.write = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "write", [t[b]]);
  };
  Rc.prototype.get = function(b, a) {
    return this._nativeBridge.invoke(this._apiClass, "get", [t[b], a]);
  };
  Rc.prototype.set = function(b, a, c) {
    return this._nativeBridge.invoke(this._apiClass, "set", [t[b], a, c]);
  };
  Rc.prototype.delete = function(b, a) {
    return this._nativeBridge.invoke(this._apiClass, "delete", [t[b], a]);
  };
  Rc.prototype.clear = function(b) {
    return this._nativeBridge.invoke(this._apiClass, "clear", [t[b]]);
  };
  Rc.prototype.getKeys = function(b, a, c) {
    return this._nativeBridge.invoke(this._apiClass, "getKeys", [t[b], a, c]);
  };
  Rc.prototype.handleEvent = function(b, a) {
    switch(b) {
      case tf[tf.SET]:
        this.onSet.trigger(a[0], a[1]);
    }
  };
  Te.prototype.get = function(b, a) {
    var c = this;
    return this._core.Storage.get(t.PUBLIC, b + ".value").then(function(d) {
      a && (c._core.Storage.delete(t.PUBLIC, b), c._core.Storage.write(t.PUBLIC));
      return Promise.resolve([!0, d]);
    }).catch(function(a) {
      a = h.makeIterator(a).next().value;
      switch(a) {
        case vb[vb.COULDNT_GET_VALUE]:
          return Promise.resolve([!1, null]);
        case vb[vb.COULDNT_GET_STORAGE]:
          return Promise.resolve([!1, null]);
        default:
          throw Error(a);
      }
    });
  };
  Te.prototype.getKeys = function(b) {
    return this._core.Storage.getKeys(t.PUBLIC, b, !1).then(function(a) {
      return a;
    }).catch(function(a) {
      a = h.makeIterator(a).next().value;
      switch(a) {
        case vb[vb.COULDNT_GET_STORAGE]:
          return [];
        default:
          throw Error(a);
      }
    });
  };
  Te.prototype.hasCategory = function(b) {
    return this._core.Storage.getKeys(t.PUBLIC, b, !1).then(function(a) {
      return 0 < a.length;
    }).catch(function(a) {
      a = h.makeIterator(a).next().value;
      switch(a) {
        case vb[vb.COULDNT_GET_STORAGE]:
          return !1;
        default:
          throw Error(a);
      }
    });
  };
  h.inherits(ab, A);
  ab.prototype.getCategory = function() {
    return this.get("category");
  };
  ab.prototype.getKeys = function() {
    return this.get("keys");
  };
  ab.prototype.fetch = function(b, a, c) {
    var d = this, e = [];
    e = c ? c : this.getKeys();
    return this.getValues(b, a, e).then(function(a) {
      return d.setValues(a);
    });
  };
  ab.prototype.setValues = function(b) {
    var a = !1, c;
    for (c in b) {
      if (b.hasOwnProperty(c)) {
        try {
          this.set(c, b[c]);
        } catch (d) {
          return !1;
        }
        a = !0;
      }
    }
    return a;
  };
  ab.prototype.getValues = function(b, a, c) {
    var d = this, e = {}, f = new Te(b, a);
    return f.hasCategory(this.getCategory()).then(function(a) {
      return a ? Promise.all(c.map(function(a) {
        return f.get(d.getCategory() + "." + a, !1).then(function(b) {
          var c = h.makeIterator(b);
          b = c.next().value;
          c = c.next().value;
          b && (e[a] = c);
        });
      })) : Promise.resolve([]);
    }).then(function() {
      return e;
    });
  };
  ab.Schema = {category:["string"], keys:["array"]};
  h.inherits(dd, ab);
  dd.prototype.getName = function() {
    return this.get("name");
  };
  dd.prototype.getVersion = function() {
    return this.get("version");
  };
  dd.prototype.setOrdinal = function(b) {
    this.set("ordinal", b);
  };
  dd.prototype.getOrdinal = function() {
    return this.get("ordinal");
  };
  dd.prototype.getDTO = function() {
    return {mediationName:this.getName(), mediationVersion:this.getVersion(), mediationOrdinal:this.getOrdinal()};
  };
  h.inherits(rd, eb);
  rd.prototype.getDynamicMarkup = function() {
    return this.get("dynamicMarkup");
  };
  rd.prototype.getRequiredAssets = function() {
    return [];
  };
  rd.prototype.getOptionalAssets = function() {
    return [];
  };
  rd.prototype.isConnectionNeeded = function() {
    return !1;
  };
  rd.prototype.getWidth = function() {
    return this.get("width");
  };
  rd.prototype.getHeight = function() {
    return this.get("height");
  };
  h.inherits(Fa, eb);
  Fa.prototype.hasEndScreen = function() {
    return this.getVPAID().hasEndScreen();
  };
  Fa.prototype.getCompanionAd = function() {
    return this.getVPAID().getCompanion();
  };
  Fa.prototype.getCompanionClickThroughURL = function() {
    return this.getVPAID().getCompanionClickThroughURL();
  };
  Fa.prototype.getCompanionLandscapeUrl = function() {
    return this.getVPAID().getCompanionLandscapeUrl();
  };
  Fa.prototype.getCompanionPortraitUrl = function() {
    return this.getVPAID().getCompanionPortraitUrl();
  };
  Fa.prototype.hasCompanionAd = function() {
    return this.getVPAID().hasCompanionAd();
  };
  Fa.prototype.getVPAID = function() {
    return this.get("vpaid");
  };
  Fa.prototype.getRequiredAssets = function() {
    return [];
  };
  Fa.prototype.getOptionalAssets = function() {
    return [];
  };
  Fa.prototype.getTrackingUrlsForEvent = function(b) {
    return this.getVPAID().getTrackingEventUrls(b);
  };
  Fa.prototype.getVideoClickTrackingURLs = function() {
    return this.getVPAID().getVideoClickTrackingURLs();
  };
  Fa.prototype.getVideoClickThroughURL = function() {
    return this.getVPAID().getVideoClickThroughURL();
  };
  Fa.prototype.isConnectionNeeded = function() {
    return !0;
  };
  Fa.prototype.getImpressionUrls = function() {
    return this.getVPAID().getImpressionUrls();
  };
  Fa.prototype.getCategory = function() {
    return this.get("appCategory");
  };
  Fa.prototype.getSubcategory = function() {
    return this.get("appSubcategory");
  };
  Fa.prototype.getBuyerId = function() {
    return this.get("buyerId");
  };
  Fa.prototype.getAdvertiserDomain = function() {
    return this.get("advertiserDomain");
  };
  Fa.prototype.getAdvertiserCampaignId = function() {
    return this.get("advertiserCampaignId");
  };
  Fa.prototype.getAdvertiserBundleId = function() {
    return this.get("advertiserBundleId");
  };
  Fa.prototype.addTrackingToVAST = function(b) {
    var a = this;
    if (b) {
      var c = {}, d;
      for (d in b) {
        c.trackingEventName = d;
        if (b.hasOwnProperty(c.trackingEventName)) {
          var e = b[c.trackingEventName];
          e && e.forEach(function(b) {
            return function(c) {
              a.getVPAID().addTrackingEventUrl(b.trackingEventName, c);
            };
          }(c));
        }
        c = {trackingEventName:c.trackingEventName};
      }
    }
  };
  p.initialize = function(b, a, c, d, e, f, g, k, v) {
    p._core = b;
    p._request = a;
    p._coreConfig = c;
    p._adsConfig = d;
    p._sessionManager = e;
    p._campaignManager = f;
    p._metaDataManager = g;
    p._clientInfo = k;
    v.onFinish.subscribe(function(a) {
      return p.setCachingFinishTimestamp(a.fileId);
    });
    v.onStart.subscribe(function(a, b) {
      0 === b && p.setCachingStartTimestamp(a.fileId);
    });
    p._initialized = !0;
  };
  p.sendReadyEvent = function(b) {
    p._initialized && p.isTestActive() && p.getSdkStatsEvent("ready", b).then(function(a) {
      I.sendEvent(p._topic, ub.ANONYMOUS, a);
    });
  };
  p.sendShowEvent = function(b) {
    p._initialized && p.isTestActive() && p.getSdkStatsEvent("show", b).then(function(a) {
      I.sendEvent(p._topic, ub.ANONYMOUS, a);
    });
  };
  p.increaseAdRequestOrdinal = function() {
    p._adRequestOrdinal++;
  };
  p.getAdRequestOrdinal = function() {
    return p._adRequestOrdinal;
  };
  p.setInitTimestamp = function() {
    p._initTimestamp = Date.now();
  };
  p.setAdRequestTimestamp = function() {
    p._latestAdRequestTimestamp = Date.now();
    p._parseDuration = {};
  };
  p.getAdRequestTimestamp = function() {
    return p._latestAdRequestTimestamp;
  };
  p.setAdRequestDuration = function(b) {
    p._latestAdRequestDuration = b;
  };
  p.setReadyEventTimestamp = function(b) {
    p._readyEventSent[b] = Date.now();
  };
  p.getReadyEventTimestamp = function(b) {
    return p._readyEventSent[b];
  };
  p.getRequestToReadyTime = function(b) {
    return p.getReadyEventTimestamp(b) - p.getAdRequestTimestamp();
  };
  p.setCachingStartTimestamp = function(b) {
    p._cachingStarted[b] = Date.now();
  };
  p.setCachingFinishTimestamp = function(b) {
    p._cachingFinished[b] = Date.now();
  };
  p.setParseDuration = function(b, a) {
    p._parseDuration[b] = a;
  };
  p.setFrameSetStartTimestamp = function(b) {
    p._frameSetStarted[b] = Date.now();
  };
  p.getFrameSetStartTimestamp = function(b) {
    return p._frameSetStarted[b];
  };
  p.isTestActive = function() {
    var b = p._sessionManager.getGameSessionId();
    return "number" === typeof b && 0 === b % 1000 ? !0 : !1;
  };
  p.getSdkStatsEvent = function(b, a) {
    var c = p._adsConfig.getPlacement(a), d = c.getCurrentCampaign(), e = Date.now();
    return Promise.all([p._campaignManager.getFullyCachedCampaigns(), p.getAssetSize(d), p._metaDataManager.fetch(dd)]).then(function(f) {
      f = h.makeIterator(f);
      var g = f.next().value, k = f.next().value, v = f.next().value;
      f = {abGroup:p._coreConfig.getAbGroup().toNumber()};
      var l = {auctionId:d.getSession().getId(), gameSessionId:p._sessionManager.getGameSessionId(), placementId:a, allowSkipVideoInSeconds:c.allowSkip() ? c.allowSkipInSeconds() : void 0}, n = {campaignId:d.getId(), targetGameId:void 0, campaignType:p.getCampaignType(d)};
      g = {cachedCampaigns:g, isVideoCached:p.isCampaignCached(d), cachingMode:Zb[p._adsConfig.getCacheMode()], videoCachedMsAgo:p.getCachedMsAgo(d), cacheDuration:p.getCachingDuration(d), size:0 < k ? k : void 0};
      var m;
      v && (m = {mediationName:v.getName(), mediationVersion:v.getVersion(), mediationOrdinal:v.getOrdinal()});
      k = {eventType:b, adRequestOrdinal:p._adRequestOrdinal, delayInitToRequest:p._latestAdRequestTimestamp - p._initTimestamp, parseDuration:p._parseDuration[a], requestDuration:p._latestAdRequestDuration, delayInitToReady:p._readyEventSent[a] - p._initTimestamp, delaySDKInitToWebViewInit:p._initTimestamp - p._clientInfo.getInitTimestamp(), reinitializedSDK:p._clientInfo.isReinitialized()};
      "show" === b && (k.delayReadyToShow = e - p._readyEventSent[a], k.delayInitToShow = e - p._initTimestamp);
      return {eventTimestamp:e, userInfo:f, placementInfo:l, campaignInfo:n, cacheInfo:g, mediationInfo:m, eventInfo:k};
    });
  };
  p.getCampaignType = function(b) {
    return b instanceof D ? "perf" : b instanceof la ? "vast" : b instanceof V ? "mraid" : b instanceof rd ? "display" : b instanceof Fa ? "vpaid" : "unknown";
  };
  p.isCampaignCached = function(b) {
    return (b = Sa.getCachedAsset(b)) && b.isCached() ? !0 : !1;
  };
  p.getAssetSize = function(b) {
    return p.isCampaignCached(b) ? (b = Sa.getCachedAsset(b)) ? p._core.Cache.getFileInfo(b.getFileId()).then(function(a) {
      return a.found ? a.size : 0;
    }).catch(function() {
      return 0;
    }) : Promise.resolve(0) : Promise.resolve(0);
  };
  p.getCachedMsAgo = function(b) {
    if ((b = Sa.getCachedAsset(b)) && (b = b.getFileId()) && p._cachingStarted[b] && p._cachingFinished[b]) {
      return Date.now() - p._cachingFinished[b];
    }
  };
  p.getCachingDuration = function(b) {
    if ((b = Sa.getCachedAsset(b)) && (b = b.getFileId()) && p._cachingStarted[b] && p._cachingFinished[b]) {
      return p._cachingFinished[b] - p._cachingStarted[b];
    }
  };
  p._topic = "ads.sdk2.events.sdktimeline.json";
  p._initialized = !1;
  p._adRequestOrdinal = 0;
  p._parseDuration = {};
  p._readyEventSent = {};
  p._cachingStarted = {};
  p._cachingFinished = {};
  p._frameSetStarted = {};
  $b.setRequestCount = function(b, a) {
    b && (a.Storage.set(t.PRIVATE, "user.requestCount", b), a.Storage.write(t.PRIVATE));
  };
  $b.setClickCount = function(b, a) {
    b && (a.Storage.set(t.PRIVATE, "user.clickCount", b), a.Storage.write(t.PRIVATE));
  };
  $b.setPriorRequestToReadyTime = function(b, a) {
    b && (a.Storage.set(t.PRIVATE, "user.requestToReadyTime", b), a.Storage.write(t.PRIVATE));
  };
  $b.getRequestCount = function(b) {
    return b.Storage.get(t.PRIVATE, "user.requestCount").then(function(a) {
      return a;
    }).catch(function() {
      return 0;
    });
  };
  $b.getClickCount = function(b) {
    return b.Storage.get(t.PRIVATE, "user.clickCount").then(function(a) {
      return a;
    }).catch(function() {
      return 0;
    });
  };
  $b.getPriorRequestToReadyTime = function(b) {
    return b.Storage.get(t.PRIVATE, "user.requestToReadyTime").then(function(a) {
      return a;
    }).catch(function() {
      return 0;
    });
  };
  fa.isExampleGameId = function(b) {
    return "14850" === b || "14851" === b;
  };
  fa.isTimehopApp = function(b) {
    return "1300023" === b || "1300024" === b;
  };
  fa.isSonicPlayable = function(b) {
    return "109455881" === b || "109455877" === b || "109091853" === b || "109091754" === b || "114617576" === b || "114617336" === b;
  };
  fa.isTencentAdvertisement = function(b) {
    return 9107 === b;
  };
  fa.isPlayableConfigurationEnabled = function(b) {
    return b.match(/playables\/production\/unity/);
  };
  fa.isSimejiJapaneseKeyboardApp = function(b) {
    return "1795561" === b;
  };
  fa.isCheetahGame = function(b) {
    return "1196341" === b || "1594775" === b || "2755671" === b || "1451510" === b || "1585102" === b || "2808037" === b || "2755670" === b || "2625701" === b || "2625703" === b || "2845426" === b;
  };
  var sg;
  (function(b) {
    b[b.SENSOR_DELAY_FASTEST = 0] = "SENSOR_DELAY_FASTEST";
    b[b.SENSOR_DELAY_GAME = 1] = "SENSOR_DELAY_GAME";
    b[b.SENSOR_DELAY_NORMAL = 3] = "SENSOR_DELAY_NORMAL";
    b[b.SENSOR_DELAY_UI = 2] = "SENSOR_DELAY_UI";
  })(sg || (sg = {}));
  Ya.prototype.toJSON = function() {
    return this._value.toFixed(20) + "=double";
  };
  h.inherits(sa, K);
  sa.prototype.show = function() {
    var b = this;
    this._requestToViewTime = Date.now() - p.getAdRequestTimestamp();
    this.setShowing(!0);
    this.sendTrackingEvent("show");
    this._platform === m.ANDROID && this._ads.Android.AdUnit.onKeyDown.subscribe(this._keyDownListener);
    this._container.addEventHandler(this);
    return this._container.open(this, ["webview"], !0, this._forceOrientation, !0, !1, !0, !1, this._options).then(function() {
      b.onStart.trigger();
      0 === b._startTime && (b._startTime = Date.now());
      b._foregroundTime = Date.now();
      b.startAccelerometerUpdates();
      b.showView();
    });
  };
  sa.prototype.hide = function() {
    this.onHide();
    this.hideView();
    this._container.removeEventHandler(this);
    return this._container.close();
  };
  sa.prototype.description = function() {
    return "AdMob";
  };
  sa.prototype.sendImpressionEvent = function() {
    this.sendTrackingEvent("impression");
  };
  sa.prototype.sendClickEvent = function() {
    var b = this;
    this.sendTrackingEvent("click");
    this._operativeEventManager.sendClick(this.getOperativeEventParams());
    $b.getClickCount(this._core).then(function(a) {
      "number" === typeof a && $b.setClickCount(a + 1, b._core);
    }).catch(function() {
      F.trigger("request_count_failure", {signal:"requestCount"});
    });
  };
  sa.prototype.sendStartEvent = function() {
    this._ads.Listener.sendStartEvent(this._placement.getId());
    this.sendTrackingEvent("start");
    this._operativeEventManager.sendStart(this.getOperativeEventParams());
  };
  sa.prototype.sendSkipEvent = function() {
    this.sendTrackingEvent("skip");
    this._operativeEventManager.sendSkip(this.getOperativeEventParams());
  };
  sa.prototype.sendCompleteEvent = function() {
    this.sendTrackingEvent("complete");
  };
  sa.prototype.sendRewardEvent = function() {
    var b = this.getOperativeEventParams();
    this._operativeEventManager.sendThirdQuartile(b);
    this._operativeEventManager.sendView(b);
  };
  sa.prototype.sendOpenableIntentsResponse = function(b) {
    this._view.sendOpenableIntentsResponse(b);
  };
  sa.prototype.getTimeOnScreen = function() {
    return Date.now() - this._foregroundTime;
  };
  sa.prototype.getStartTime = function() {
    return this._startTime;
  };
  sa.prototype.sendTrackingEvent = function(b) {
    var a = this._campaign.getTrackingUrlsForEvent(b);
    a = h.makeIterator(a);
    for (var c = a.next(); !c.done; c = a.next()) {
      c = c.value, this._thirdPartyEventManager.sendWithGet("admob " + b, this._campaign.getSession().getId(), c);
    }
  };
  sa.prototype.sendClickSignalResponse = function(b) {
    this._view.sendClickSignalResponse(b);
  };
  sa.prototype.getRequestToViewTime = function() {
    return this._requestToViewTime;
  };
  sa.prototype.onContainerShow = function() {
    this._platform === m.IOS && this._core.SensorInfo.Ios.startAccelerometerUpdates(new Ya(0.01));
  };
  sa.prototype.onContainerForeground = function() {
    this._foregroundTime = Date.now();
    this.startAccelerometerUpdates();
  };
  sa.prototype.onContainerBackground = function() {
    this._core.SensorInfo.stopAccelerometerUpdates();
    this.isShowing() && fa.isSimejiJapaneseKeyboardApp(this._clientInfo.getGameId()) && (this.setFinishState(M.SKIPPED), this.hide());
  };
  sa.prototype.onContainerDestroy = function() {
    this.isShowing() && (this.setFinishState(M.SKIPPED), this.hide());
  };
  sa.prototype.onContainerSystemMessage = function() {
  };
  sa.prototype.startAccelerometerUpdates = function() {
    this._platform === m.ANDROID ? (this._core.SensorInfo.Android.startAccelerometerUpdates(sg.SENSOR_DELAY_FASTEST), this._ads.Android.AdUnit.startMotionEventCapture(10000)) : this._core.SensorInfo.Ios.startAccelerometerUpdates(new Ya(0.01));
  };
  sa.prototype.showView = function() {
    this._view.show();
    document.body.appendChild(this._view.container());
  };
  sa.prototype.onHide = function() {
    this.setShowing(!1);
    this._ads.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
    this.onClose.trigger();
    this._platform === m.ANDROID && this._ads.Android.AdUnit.onKeyDown.unsubscribe(this._keyDownListener);
    this._core.SensorInfo.stopAccelerometerUpdates();
    this._platform === m.ANDROID && (this._ads.Android.AdUnit.endMotionEventCapture(), this._ads.Android.AdUnit.clearMotionEventCapture());
    this.getFinishState() === M.SKIPPED ? this.sendSkipEvent() : this.getFinishState() === M.COMPLETED && this.sendCompleteEvent();
  };
  sa.prototype.hideView = function() {
    this._view.hide();
    document.body.removeChild(this._view.container());
  };
  sa.prototype.onKeyDown = function(b) {
    if (4 === b) {
      this._view.onBackPressed();
    }
  };
  sa.prototype.getOperativeEventParams = function() {
    return {placement:this._placement};
  };
  qd.parse = function(b, a) {
    try {
      return JSON.parse(b, a);
    } catch (c) {
      throw new fb(c, {json:b});
    }
  };
  var af;
  (function(b) {
    b.METADATA = "metadata";
    b.USER = "user";
  })(af || (af = {}));
  var fd;
  (function(b) {
    b.SKIP = "skip";
    b.CONSENT = "consent";
    b.OPTOUT = "optout";
    b.OPTIN = "optin";
  })(fd || (fd = {}));
  Ob.prototype.sendGDPREvent = function(b, a) {
    b = {adid:this._deviceInfo.getAdvertisingIdentifier(), action:b, projectId:this._coreConfig.getUnityProjectId(), platform:m[this._platform].toLowerCase(), gameId:this._clientInfo.getGameId()};
    a && (b = Object.assign({}, b, {source:a}));
    return I.sendEvent("ads.events.optout.v1.json", ub.EMPTY, b).then(function() {
      return Promise.resolve();
    });
  };
  Ob.prototype.getConsentAndUpdateConfiguration = function() {
    var b = this;
    return this._adsConfig.isGDPREnabled() ? this.getConsent().then(function(a) {
      b._adsConfig.isGDPREnabled() && (b.updateConfigurationWithConsent(a), b.pushConsent(a));
      return a;
    }) : Promise.reject(Error("Configuration gdpr is not enabled"));
  };
  Ob.prototype.retrievePersonalInformation = function() {
    var b = this, a = "https://tracking.adsx.unityads.unity3d.com/user-summary?gameId=" + this._clientInfo.getGameId() + "&adid=" + this._deviceInfo.getAdvertisingIdentifier() + "&projectId=" + this._coreConfig.getUnityProjectId() + "&storeId=" + this._deviceInfo.getStores(), c = {deviceModel:this._deviceInfo.getModel(), country:this._coreConfig.getCountry()};
    return this._request.get(a).then(function(a) {
      return Object.assign({}, qd.parse(a.response), c);
    }).catch(function(c) {
      F.trigger("gdpr_request_failed", {url:a});
      b._core.Sdk.logError("Gdpr request failed" + c);
      throw c;
    });
  };
  Ob.prototype.isOptOutEnabled = function() {
    return this._adsConfig.isOptOutEnabled();
  };
  Ob.prototype.pushConsent = function(b) {
    var a = this;
    return this._core.Storage.get(t.PRIVATE, Ob.GdprLastConsentValueStorageKey).then(function(c) {
      if (c !== b) {
        return a.sendGdprConsentEvent(b);
      }
    }).catch(function() {
      return a.sendGdprConsentEvent(b);
    });
  };
  Ob.prototype.getConsent = function() {
    var b = this;
    return this._core.Storage.get(t.PUBLIC, Ob.GdprConsentStorageKey).then(function(a) {
      a = b.getConsentTypeHack(a);
      if ("undefined" !== typeof a) {
        return Promise.resolve(a);
      }
      throw Error("gdpr.consent.value is undefined");
    });
  };
  Ob.prototype.updateConfigurationWithConsent = function(b) {
    this._adsConfig.setOptOutEnabled(!b);
    this._adsConfig.setOptOutRecorded(!0);
  };
  Ob.prototype.onStorageSet = function(b, a) {
    this._adsConfig.isGDPREnabled() && a && a.gdpr && a.gdpr.consent && (b = this.getConsentTypeHack(a.gdpr.consent.value), "undefined" !== typeof b && (this.updateConfigurationWithConsent(b), this.pushConsent(b)));
  };
  Ob.prototype.getConsentTypeHack = function(b) {
    if ("boolean" === typeof b) {
      return b;
    }
    if ("string" === typeof b) {
      if ("true" === b) {
        return !0;
      }
      if ("false" === b) {
        return !1;
      }
    }
  };
  Ob.prototype.sendGdprConsentEvent = function(b) {
    var a = this;
    return (b ? this.sendGDPREvent(fd.CONSENT) : this.sendGDPREvent(fd.OPTOUT, af.METADATA)).then(function() {
      return a._core.Storage.set(t.PRIVATE, Ob.GdprLastConsentValueStorageKey, b).then(function() {
        return a._core.Storage.write(t.PRIVATE);
      });
    });
  };
  Ob.GdprLastConsentValueStorageKey = "gdpr.consentlastsent";
  Ob.GdprConsentStorageKey = "gdpr.consent.value";
  oc.prototype.onGDPRPopupSkipped = function() {
    this._adsConfig.isOptOutRecorded() || (this._adsConfig.setOptOutRecorded(!0), this._gdprManager.sendGDPREvent(fd.SKIP));
  };
  h.inherits(fg, Error);
  qf.withTimeout = function(b, a) {
    var c, d = new Promise(function(b, d) {
      c = window.setTimeout(function() {
        d(new fg("Operation timed out after " + a + " ms"));
      }, a);
    });
    return Promise.race([b, d]).then(function(a) {
      window.clearTimeout(c);
      return a;
    });
  };
  qf.voidResult = function(b) {
    return b.then(function() {
    });
  };
  ke.prototype.start = function() {
    var b = this;
    -1 === this._handle && (this._handle = window.setTimeout(function() {
      b._func();
    }, this._duration));
  };
  ke.prototype.reset = function() {
    this.stop();
    this.start();
  };
  ke.prototype.stop = function() {
    window.clearTimeout(this._handle);
    this._handle = -1;
  };
  h.inherits(Xa, oc);
  Xa.setLoadTimeout = function(b) {
    Xa._loadTimeout = b;
  };
  Xa.prototype.onClose = function() {
    this._adUnit.hide();
  };
  Xa.prototype.onOpenURL = function(b) {
    -1 === b.indexOf("mobile-about") && this._adUnit.sendClickEvent();
    this._platform === m.IOS ? this._core.iOS.UrlScheme.open(b) : this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:b});
  };
  Xa.prototype.onAttribution = function(b, a) {
    var c = this, d = [["User-Agent", this.getUserAgentHeader()]];
    return (y.getQueryParameter(b, "ms") ? Promise.resolve(b) : this.createClickUrl(b, a)).then(function(a) {
      return qf.voidResult(c._thirdPartyEventManager.sendWithGet("admob click", c._session.getId(), a, !0, d));
    });
  };
  Xa.prototype.onGrantReward = function() {
    this._adUnit.sendRewardEvent();
    this._adUnit.setFinishState(M.COMPLETED);
  };
  Xa.prototype.onVideoStart = function() {
    this._adUnit.sendStartEvent();
  };
  Xa.prototype.onShow = function() {
  };
  Xa.prototype.onSetOrientationProperties = function(b, a) {
    this._platform === m.IOS ? this._adUnit.getContainer().reorient(!0, a) : this._adUnit.getContainer().reorient(b, a);
  };
  Xa.prototype.onOpenableIntentsRequest = function(b) {
    var a = this;
    this._core.Android.Intent.canOpenIntents(b.intents).then(function(c) {
      a._adUnit.sendOpenableIntentsResponse({id:b.id, results:c});
    });
  };
  Xa.prototype.onTrackingEvent = function(b, a) {
    this._adUnit.sendTrackingEvent(b);
    "error" === b && ua.trigger("admob_ad_error", a, this._campaign.getSession());
  };
  Xa.prototype.onClickSignalRequest = function(b) {
    var a = this;
    return this.getClickSignal(b).then(function(b) {
      b = {encodedClickSignal:b.getBase64ProtoBufNonEncoded(), rvdt:a._adUnit.getRequestToViewTime()};
      a._adUnit.sendClickSignalResponse(b);
    });
  };
  Xa.prototype.getClickSignal = function(b) {
    return this._adMobSignalFactory.getClickSignal(b, this._adUnit).then(function(a) {
      return a;
    });
  };
  Xa.prototype.getOptionalSignal = function() {
    return this._adMobSignalFactory.getOptionalSignal().then(function(b) {
      return b;
    });
  };
  Xa.prototype.getUserAgentHeader = function() {
    return (navigator.userAgent || "Unknown ") + " (Unity " + this._clientInfo.getSdkVersion() + ")";
  };
  Xa.prototype.onFailureToLoad = function() {
    this._adUnit.setFinishState(M.ERROR);
    this._adUnit.hide();
  };
  Xa.prototype.createClickUrl = function(b, a) {
    var c = this;
    return this.getClickSignal(a).then(function(a) {
      return y.addParameters(b, {ms:a.getBase64ProtoBufNonEncoded(), rvdt:c._adUnit.getRequestToViewTime()});
    });
  };
  Xa._loadTimeout = 5000;
  var Nb;
  (function(b) {
    b.OPEN_URL = "openUrl";
    b.CLOSE = "close";
    b.FORCE_ORIENTATION = "forceOrientation";
    b.CLICK = "click";
    b.VIDEO_START = "videoStart";
    b.GRANT_REWARD = "grantReward";
    b.DISABLE_BACK_BUTTON = "disableBackButton";
    b.OPEN_STORE_OVERLAY = "openStoreOverlay";
    b.OPEN_IN_APP_STORE = "openInAppStore";
    b.FETCH_APP_STORE_OVERLAY = "fetchAppStoreOverlay";
    b.OPEN_INTENTS_REQUEST = "openableIntents";
    b.TRACKING = "tracking";
    b.GET_CLICK_SIGNAL = "getClickSignal";
    b.USER_SEEKED = "seeked";
  })(Nb || (Nb = {}));
  Jd.prototype.connect = function(b) {
    this._iframe = b;
    window.addEventListener("message", this._messageListener);
  };
  Jd.prototype.disconnect = function() {
    window.removeEventListener("message", this._messageListener);
  };
  Jd.prototype.onBackPressed = function() {
    this.postMessage("back");
  };
  Jd.prototype.sendOpenableIntentsResult = function(b) {
    this.postMessage("openableIntentsResponse", b);
  };
  Jd.prototype.sendClickSignalResponse = function(b) {
    this.postMessage("clickSignal", b);
  };
  Jd.prototype.onMessage = function(b) {
    b = b.data;
    if ("afma" === b.type && (this._core.Sdk.logInfo("afma: event=" + b.event + ", data=" + JSON.stringify(b.data)), b.event in this._afmaHandlers)) {
      (0,this._afmaHandlers[b.event])(b);
    }
  };
  Jd.prototype.postMessage = function(b, a) {
    this._iframe.contentWindow.postMessage({type:"afma", event:b, data:a}, "*");
  };
  var tg;
  (tg || (tg = {})).TooLargeFile = "too_large_file";
  var bf;
  (function(b) {
    b.AdmobUsedCachedVideo = "admob_used_cached_video";
    b.AdmobUsedStreamedVideo = "admob_used_streamed_video";
    b.AdmobUserVideoSeeked = "admob_user_video_seeked";
  })(bf || (bf = {}));
  Ad.prototype.reportMetric = function(b) {
    var a = Ad.productionMetricServiceUrl;
    b = JSON.stringify({event:b});
    var c = [];
    c.push(["Content-Type", "application/json"]);
    return this._request.post(a, b, c);
  };
  Ad.prototype.reportError = function(b) {
    var a = Ad.productionErrorServiceUrl;
    b = JSON.stringify(b);
    var c = [];
    c.push(["Content-Type", "application/json"]);
    return this._request.post(a, b, c);
  };
  Ad.prototype.buildErrorData = function(b, a, c) {
    var d = this._platform, e = this._deviceInfo.getOsVersion(), f = this._clientInfo.getSdkVersionName();
    return {event:b, platform:m[d], osVersion:e, sdkVersion:f, adType:a, seatId:c};
  };
  Ad.productionErrorServiceUrl = "https://tracking.adsx.unityads.unity3d.com/tracking/sdk/error";
  Ad.productionMetricServiceUrl = "https://tracking.adsx.unityads.unity3d.com/tracking/sdk/metric";
  va.prototype.render = function(b) {
    var a = this;
    b.t = this._localization ? function(b) {
      return a._localization.translate(b);
    } : function(a) {
      return a;
    };
    return this._templateFunction(b);
  };
  va._matcher = /<%=([\s\S]+?)%>|<%([\s\S]+?)%>|$/g;
  va._escapes = {"'":"'", "\\":"\\", "\r":"r", "\n":"n", "\u2028":"u2028", "\u2029":"u2029"};
  va._escapeRegExp = /\\|'|\r|\n|\u2028|\u2029/g;
  va._escapeChar = function(b) {
    return "\\" + va._escapes[b];
  };
  ee.prototype.onTouchStart = function(b) {
    var a = this;
    this._onTouchEndListener = function(b) {
      return a.onTouchEnd(b);
    };
    this._onTouchCancelListener = function(b) {
      return a.onTouchCancel(b);
    };
    this._onTouchMoveListener = function(b) {
      return a.onTouchMove(b);
    };
    this._element.addEventListener("touchend", this._onTouchEndListener, !1);
    this._element.addEventListener("touchcancel", this._onTouchCancelListener, !1);
    this._element.addEventListener("touchmove", this._onTouchMoveListener, !1);
    this._startX = b.touches[0].clientX;
    this._startY = b.touches[0].clientY;
  };
  ee.prototype.onTouchEnd = function(b) {
    this._element.removeEventListener("touchend", this._onTouchEndListener, !1);
    this._element.removeEventListener("touchcancel", this._onTouchCancelListener, !1);
    this._element.removeEventListener("touchmove", this._onTouchMoveListener, !1);
    var a = this._startX - b.changedTouches[0].clientX;
    Math.abs(a) > Math.abs(this._startY - b.changedTouches[0].clientY) && Math.abs(a) > ee._moveTolerance && (a = document.createEvent("MouseEvent"), a.initMouseEvent("swipe", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), b.stopPropagation(), b.target && !b.target.dispatchEvent(a) && b.preventDefault());
    this._startY = this._startX = 0;
  };
  ee.prototype.onTouchCancel = function() {
    this._startY = this._startX = 0;
  };
  ee.prototype.onTouchMove = function(b) {
    b.preventDefault();
  };
  ee._moveTolerance = 75;
  Kd.prototype.onTouchStart = function(b) {
    var a = this;
    b.stopPropagation();
    b.preventDefault();
    this._onTouchMoveListener = function(b) {
      return a.onTouchMove(b);
    };
    this._onTouchEndListener = function(b) {
      return a.onTouchEnd(b);
    };
    this._onTouchCancelListener = function(b) {
      return a.onTouchCancel(b);
    };
    this._element.addEventListener("touchmove", this._onTouchMoveListener, !1);
    this._element.addEventListener("touchend", this._onTouchEndListener, !1);
    this._element.addEventListener("touchcancel", this._onTouchCancelListener, !1);
    this._moved = !1;
    this._startX = b.touches[0].clientX;
    this._startY = b.touches[0].clientY;
  };
  Kd.prototype.onTouchMove = function(b) {
    var a = b.touches[0].clientY;
    if (Math.abs(b.touches[0].clientX - this._startX) > Kd._moveTolerance || Math.abs(a - this._startY) > Kd._moveTolerance) {
      this._moved = !0;
    }
  };
  Kd.prototype.onTouchEnd = function(b) {
    this._onTouchMoveListener && this._onTouchEndListener && this._onTouchCancelListener && (this._element.removeEventListener("touchmove", this._onTouchMoveListener, !1), this._element.removeEventListener("touchend", this._onTouchEndListener, !1), this._element.removeEventListener("touchcancel", this._onTouchCancelListener, !1));
    this._onTouchCancelListener = this._onTouchEndListener = this._onTouchMoveListener = void 0;
    if (!this._moved) {
      var a = new MouseEvent("click", {view:window, bubbles:!0, cancelable:!0});
      b.stopPropagation();
      b.target && !b.target.dispatchEvent(a) && b.preventDefault();
    }
  };
  Kd.prototype.onTouchCancel = function() {
    this._moved = !1;
    this._startY = this._startX = 0;
  };
  Kd._moveTolerance = 10;
  B.addEventListener = function(b, a, c) {
    "swipe" === b.event && (b.swipe = new ee(a));
    c && "click" === b.event && (b.tap = new Kd(a));
    a.addEventListener(b.event, b.listener, !1);
  };
  B.prototype.addEventHandler = function(b) {
    this._handlers.push(b);
    return b;
  };
  B.prototype.removeEventHandler = function(b) {
    this._handlers.length && (this._handlers = "undefined" !== typeof b ? this._handlers.filter(function(a) {
      return a !== b;
    }) : []);
  };
  B.prototype.render = function() {
    var b = this._container = document.createElement("div");
    b.id = this._id;
    b.innerHTML = this._template.render(this._templateData ? this._templateData : {});
    var a = this._platform === m.IOS;
    this._bindings.forEach(function(c) {
      if (c.selector) {
        for (var d = b.querySelectorAll(c.selector), e = 0; e < d.length; ++e) {
          B.addEventListener(c, d[e], a);
        }
      } else {
        B.addEventListener(c, b, a);
      }
    });
  };
  B.prototype.container = function() {
    return this._container;
  };
  B.prototype.show = function() {
    this._container && (this._container.style.visibility = "visible");
  };
  B.prototype.hide = function() {
    this._container && (this._container.style.visibility = "hidden");
  };
  var eg;
  (eg || (eg = {})).ORIENTATION = "orientation";
  Se.prototype.connect = function() {
    window.addEventListener("message", this._messageListener, !1);
  };
  Se.prototype.disconnect = function() {
    window.removeEventListener("message", this._messageListener);
  };
  Se.prototype.onMessage = function(b) {
    b = b.data;
    if ("mraid" === b.type && (this._core.Sdk.logDebug("mraid: event=" + b.event + ", data=" + b.data), b.event in this._mraidHandlers)) {
      (0,this._mraidHandlers[b.event])(b);
    }
  };
  Se.prototype.handleSetOrientationProperties = function(b) {
    var a = pa.NONE;
    if (b.forceOrientation) {
      switch(b.forceOrientation) {
        case "landscape":
          a = pa.LANDSCAPE;
          break;
        case "portrait":
          a = pa.PORTRAIT;
          break;
        case "none":
          a = pa.NONE;
      }
    }
    this._handler.onSetOrientationProperties(b.allowOrientation, a);
  };
  h.inherits(da, B);
  da.prototype.render = function() {
    B.prototype.render.call(this);
    this.setupIFrame();
    this._gdprBanner = this._container.querySelector(".gdpr-pop-up");
    this._privacyButton = this._container.querySelector(".privacy-button");
  };
  da.prototype.show = function() {
    B.prototype.show.call(this);
    this._afmaBridge.connect(this._iframe);
    this._mraidBridge.connect(this._iframe);
    this._handlers.forEach(function(b) {
      return b.onShow();
    });
    this.choosePrivacyShown();
  };
  da.prototype.hide = function() {
    this._mraidBridge.disconnect();
    this._afmaBridge.disconnect();
    B.prototype.hide.call(this);
    this._privacy && (this._privacy.removeEventHandler(this), this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()));
    this._showGDPRBanner && !this._gdprPopupClicked && this._handlers.forEach(function(b) {
      return b.onGDPRPopupSkipped();
    });
  };
  da.prototype.onPrivacy = function() {
  };
  da.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
  };
  da.prototype.onGDPROptOut = function() {
  };
  da.prototype.onBackPressed = function() {
    this._afmaBridge.onBackPressed();
  };
  da.prototype.sendOpenableIntentsResponse = function(b) {
    this._afmaBridge.sendOpenableIntentsResult(b);
  };
  da.prototype.sendClickSignalResponse = function(b) {
    this._afmaBridge.sendClickSignalResponse(b);
  };
  da.prototype.choosePrivacyShown = function() {
    this._showGDPRBanner && !this._gdprPopupClicked ? (this._gdprBanner.style.visibility = "visible", this._privacyButton.style.pointerEvents = "1", this._privacyButton.style.visibility = "hidden") : (this._privacyButton.style.visibility = "visible", this._gdprBanner.style.pointerEvents = "1", this._gdprBanner.style.visibility = "hidden");
  };
  da.prototype.setupIFrame = function() {
    var b = this._iframe = this._container.querySelector("#admob-iframe");
    this._iframe = b;
    this.getIFrameSrcDoc().then(function(a) {
      b.srcdoc = a;
    });
  };
  da.prototype.getIFrameSrcDoc = function() {
    var b = this._campaign.getDynamicMarkup(), a = (new DOMParser).parseFromString(b, "text/html");
    if (!a) {
      return Promise.reject(Error("Not a valid HTML document => " + b));
    }
    this.removeScriptTags(a);
    this.injectVideoURL(a);
    return this.injectScripts(a).then(function() {
      return a.documentElement.outerHTML;
    });
  };
  da.prototype.injectVideoURL = function(b) {
    var a = this._campaign.getVideo();
    if (a) {
      b = b.querySelector("body script");
      var c = this.encodeURLForHTML(a.getMediaFileURL());
      a = a.getVideo().getCachedUrl();
      b && b.textContent && (a ? (a = this.encodeURLForHTML(a), a = b.textContent.replace(c, a), b.textContent = a, this._programmaticTrackingService.reportMetric(bf.AdmobUsedCachedVideo).catch()) : this._programmaticTrackingService.reportMetric(bf.AdmobUsedStreamedVideo).catch());
    }
  };
  da.prototype.encodeURLForHTML = function(b) {
    return b.replace(/[&=]/g, function(a) {
      return "\\x" + a.charCodeAt(0).toString(16);
    });
  };
  da.prototype.removeScriptTags = function(b) {
    this.removeScriptTag(b, "mraid.js");
    this.removeScriptTag(b, "afma_unity_stub.js");
    return b.documentElement.outerHTML;
  };
  da.prototype.removeScriptTag = function(b, a) {
    (b = b.querySelector('script[src^="' + a + '"]')) && b.parentNode && b.parentNode.removeChild(b);
  };
  da.prototype.injectScripts = function(b) {
    b = b.head || document.body;
    this.injectScript(b, "<script>(function() {\n        var MRAID = function() {\n            var state = 'loading';\n\n            var listeners = {\n                ready: [],\n                error: [],\n                stateChange: [],\n                viewableChange: [],\n                sizeChange: []\n            };\n\n            var viewable = false;\n\n            var orientationProperties = {\n                allowOrientationChange: true,\n                forceOrientation: 'none'\n            };\n\n            var trigger = function(event, parameters) {\n                if(!parameters) {\n                    parameters = [];\n                }\n                if(event in listeners) {\n                    listeners[event].forEach(function(listener) {\n                        listener.apply(window, parameters);\n                    });\n                }\n            };\n\n            var width = window.innerWidth;\n            var height = window.innerHeight;\n\n            var setState = function(newState) {\n                state = newState;\n                trigger('stateChange', [newState]);\n            };\n\n            window.addEventListener('message', function(event) {\n                if (event.data.type && event.data.type === 'mraid') {\n                    switch(event.data.event) {\n                    case 'viewable':\n                        viewable = event.data.value;\n                        trigger('viewableChange', [viewable]);\n                        break;\n\n                    case 'resize':\n                        window.innerWidth = width = event.data.width;\n                        window.innerHeight = height = event.data.height;\n                        trigger('sizeChange', [width, height]);\n                        break;\n\n                    default:\n                        break;\n                    }\n                }\n            }, false);\n\n            window.addEventListener('resize', function(e) {\n                width = window.innerWidth;\n                height = window.innerHeight;\n                trigger('sizeChange', [width, height]);\n            });\n\n            window.addEventListener('DOMContentLoaded', function() {\n                window.mraid.postMessage('loaded');\n                setState('default');\n                trigger('ready');\n            }, false);\n\n            this.postMessage = function(event, data) {\n                window.parent.postMessage({\n                    type: 'mraid',\n                    event: event,\n                    data: data\n                }, '*');\n            };\n\n            this.addEventListener = function(event, listener) {\n                if(event in listeners) {\n                    listeners[event].push(listener);\n                }\n            };\n\n            this.createCalendarEvent = function() {\n                trigger('error', ['not implemented', 'createCalendarEvent']);\n            };\n\n            this.close = function() {\n                setState('hidden');\n                this.postMessage('close');\n            };\n\n            this.expand = function() {\n                trigger('error', ['not implemented', 'expand']);\n            };\n\n            this.getCurrentPosition = this.getDefaultPosition = function() {\n                return {\n                    x: 0,\n                    y: 0,\n                    width: width,\n                    height: height\n                };\n            };\n\n            this.getExpandProperties = function() {\n                trigger('error', ['not implemented', 'getExpandProperties']);\n            };\n\n            this.getMaxSize = this.getScreenSize = function() {\n                return {\n                    width: width,\n                    height: height\n                };\n            };\n\n            this.getOrientationProperties = function() {\n                return orientationProperties;\n            };\n\n            this.getPlacementType = function() {\n                return 'interstitial';\n            };\n\n            this.getResizeProperties = function() {\n                trigger('error', ['not implemented', 'getResizeProperties']);\n            };\n\n            this.getState = function() {\n                return state;\n            };\n\n            this.getVersion = function() {\n                return '2.0';\n            };\n\n            this.isViewable = function() {\n                return viewable;\n            };\n\n            this.open = function(url) {\n                this.postMessage('open', {\n                    url: url,\n                });\n            };\n\n            this.playVideo = function() {\n                trigger('error', ['not implemented', 'playVideo']);\n            };\n\n            this.removeEventListener = function(event, listener) {\n                if(event in listeners) {\n                    var index = listeners[event].indexOf(listener);\n                    if(index !== -1) {\n                        listeners[event].splice(index, 1);\n                    }\n                }\n            };\n\n            this.resize = function() {\n                trigger('error', ['not implemented', 'resize']);\n            };\n\n            this.setExpandProperties = function() {\n                trigger('error', ['not implemented', 'setExpandProperties']);\n            };\n\n            this.setOrientationProperties = function(properties) {\n                orientationProperties = properties;\n                this.postMessage('orientation', {\n                    properties: properties,\n                });\n            };\n\n            this.setResizeProperties = function() {\n                trigger('error', ['not implemented', 'setResizeProperties']);\n            };\n\n            this.storePicture = function() {\n                trigger('error', ['not implemented', 'storePicture']);\n            };\n\n            this.useCustomClose = function() {\n                trigger('error', ['not implemented', 'useCustomClose']);\n            };\n\n            this.sendAnalyticsEvent = function(event, eventData) {\n                this.postMessage('analyticsEvent', {\n                    event: event,\n                    eventData: eventData,\n                });\n            };\n\n            this.setCustomMraidState = function(state) {\n                this.postMessage('customMraidState', {\n                    state: state,\n                });\n            };\n        };\n        window.mraid = new MRAID();\n    })();\x3c/script>");
    this.injectScript(b, '<script>function getQueryParams(f) {\n  var d = document.createElement("a");\n  d.href = f;\n  f = {};\n  if (d.search) {\n    d = d.search.substring(1).split(/&/);\n    for (var g = 0; g < d.length; g++) {\n      var h = d[g].split(/=/), k = h[0];\n      h = h[1];\n      f[k] ? f[k].push(h) : f[k] = [h];\n    }\n  }\n  return f;\n}\nfunction isObjectEmpty(f) {\n  for (var d in f) {\n    if (f.hasOwnProperty(d)) {\n      return !1;\n    }\n  }\n  return !0;\n}\n(function() {\n  window.addEventListener("pageshow", function() {\n    AFMA_ReceiveMessage("onshow");\n  });\n  var f, d, g, h = 0, k = 0, n = 0, p = 0, l;\n  document.addEventListener("touchstart", function(b) {\n    g = Date.now();\n    f = b.touches[0];\n    k++;\n  });\n  document.addEventListener("touchend", function(b) {\n    l = Date.now() - g;\n    d = b.changedTouches[0];\n    h++;\n  });\n  document.addEventListener("touchmove", function(b) {\n    n++;\n  });\n  document.addEventListener("touchcancel", function(b) {\n    p++;\n  });\n  window.unity = window.unity || {};\n  window.unity.afma = new function() {\n    var b = this;\n    this.intentCallbacks = {};\n    this.intentCallbackId = 0;\n    this.sentQuartiles = {};\n    var g = [], m = 0, q = !1, r = !1;\n    document.addEventListener("DOMContentLoaded", function() {\n      b.postMessage("tracking", {event:"impression"});\n      var a = document.querySelector("video");\n      null === a ? b.postMessage("tracking", {event:"error", data:JSON.stringify("videoEl for admob is not found")}) : (a.addEventListener("error", function() {\n        b.postMessage("tracking", {event:"error", data:JSON.stringify(a.error)});\n      }), a.addEventListener("timeupdate", function() {\n        if (!a.seeking) {\n          m = a.currentTime;\n          var c = Math.floor(a.currentTime / a.duration * 4);\n          if (0 !== c && !(c in b.sentQuartiles)) {\n            b.sentQuartiles[c] = !0;\n            switch(c) {\n              case 1:\n                var e = "firstQuartile";\n                break;\n              case 2:\n                e = "midpoint";\n                break;\n              case 3:\n                e = "thirdQuartile";\n            }\n            e && b.postMessage("tracking", {event:e});\n          }\n        }\n      }), a.addEventListener("stalled", function() {\n        b.postMessage("tracking", {event:"stalled"});\n      }), a.addEventListener("canplay", function() {\n        b.postMessage("tracking", {event:"loaded"});\n      }), a.addEventListener("seeking", function() {\n        0.01 < Math.abs(a.currentTime - m) && (a.currentTime = m);\n        q || (q = !0, b.postMessage("seeked"));\n      }), a.addEventListener("playing", function() {\n        r || (r = !0, b.postMessage("videoStart"));\n      }));\n    });\n    this.forceOrientation = function(a, c, b) {\n      this.postMessage("forceOrientation", {orientation:a, override:c, animationDuration:b});\n    };\n    this.click = function(a) {\n      var c = b.getTouchInfo();\n      this.postMessage("click", {url:a, touch:c});\n    };\n    this.getClickSignals = function(a) {\n      return null;\n    };\n    this.appendClickSignals = function(a, c) {\n      return a;\n    };\n    this.getClickSignalsAsync = function(a) {\n      return new Promise(function(a, e) {\n        b.requestClickSignal(a);\n      });\n    };\n    this.appendClickSignalsAsync = function(a, c) {\n      return (c ? Promise.resolve(c) : this.getClickSignalsAsync(a)).then(function(c) {\n        var b = c.encodedClickSignal, e = getQueryParams(a);\n        e.ms || (a = isObjectEmpty(e) ? a + "?ms=" + b : a + "&ms=" + b);\n        return a = a + "&rvdt=" + c.rvdt;\n      });\n    };\n    this.requestClickSignal = function(a) {\n      g.push(a);\n      a = this.getTouchInfo();\n      this.postMessage("getClickSignal", a);\n    };\n    this.getTouchInfo = function() {\n      var a = {counts:{up:h, down:k, move:n, cancel:p}};\n      f && (a.start = {x:f.clientX || 0.0, y:f.clientY || 0.0});\n      d && (a.end = {x:d.clientX || 0.0, y:d.clientY || 0.0}, a.diameter = 2 * d.radiusX, a.pressure = d.force || 0.0);\n      l && (a.duration = l);\n      return a;\n    };\n    this.onReceiveClickSignal = function(a) {\n      for (var c = 0, b = g.length; c < b; c++) {\n        g[c](a);\n      }\n      g = [];\n    };\n    this.notifyRewardedVideoStart = function() {\n    };\n    this.grantReward = function() {\n      this.postMessage("grantReward");\n    };\n    this.close = function(a) {\n      this.postMessage("close");\n    };\n    this.disableBackButton = function(a) {\n      this.postMessage("disableBackButton", {disabled:a});\n    };\n    this.openIntent = function(a, c, b) {\n      this.postMessage("openIntent", {url:a, action:c, mimeType:b});\n      return !1;\n    };\n    this.openIntentExtended = function(a) {\n      return this.openIntent(a.url, a.action, a.mimeType);\n    };\n    this.openUrl = function(a) {\n      this.postMessage("openUrl", {url:a});\n    };\n    this.openDeepLinkUrl = function(a, c, b, d) {\n      this.postMessage("openUrl", {url:a});\n      c();\n    };\n    this.openBrowser = function(a) {\n      this.postMessage("openUrl", {url:a});\n    };\n    this.openNativeApp = function(a) {\n      this.postMessage("openUrl", {url:a});\n    };\n    this.openSystemBrowser = function(a, b) {\n      this.postMessage("openUrl", {url:a});\n    };\n    this.openStoreOverlay = function(a) {\n      this.postMessage("openStoreOverlay", {url:a});\n    };\n    this.openInAppStore = function(a, b, e) {\n      this.postMessage("openInAppStore", {productId:a, url:b});\n    };\n    this.fetchAppStoreOverlay = function(a) {\n      this.postMessage("fetchAppStoreOverlay", {productId:a});\n    };\n    this.canOpenUrls = function(a, b, e, d) {\n      e = {};\n      if (a.length) {\n        for (d = 0; d < a.length; d++) {\n          e[a[d]] = !0;\n        }\n      } else {\n        e[a] = !0;\n      }\n      b("openableURLs", e);\n    };\n    this.canOpenIntents = function(a, c, d, f) {\n      var e = b.intentCallbackId++;\n      b.intentCallbacks[e] = {callback:c, timer:setTimeout(function() {\n        d();\n        delete b.intentCallbacks[e];\n      }, f)};\n      this.postMessage("openableIntents", {id:e, intents:a});\n    };\n    this.postMessage = function(a, b) {\n      window.parent.postMessage({type:"afma", event:a, data:b}, "*");\n    };\n    this.handleOpenableIntentResponse = function(a) {\n      var c = a.id;\n      a = a.results;\n      if (c in b.intentCallbacks) {\n        var d = b.intentCallbacks[c].callback;\n        d("openableIntents", a);\n        clearTimeout(b.intentCallbacks[c].timer);\n        delete b.intentCallbacks[c];\n      }\n    };\n    this.setOrienationProperties = function(a) {\n      window.mraid.setOrienationProperties(a);\n    };\n    this.useCustomClose = function(a) {\n    };\n    window.addEventListener("message", function(a) {\n      "afma" === a.data.type && ("back" === a.data.event ? (console.log("calling AFMA back function", a), AFMA_ReceiveMessage("onbackblocked")) : "openableIntentsResponse" === a.data.event ? b.handleOpenableIntentResponse(a.data.data) : "clickSignal" === a.data.event && (console.log("recieved click signal", a), b.onReceiveClickSignal(a.data.data)));\n    });\n  };\n})();\x3c/script>');
    return Promise.resolve();
  };
  da.prototype.injectScript = function(b, a) {
    b.innerHTML = a + b.innerHTML;
  };
  da.prototype.onClose = function() {
    this._handlers.forEach(function(b) {
      return b.onClose();
    });
  };
  da.prototype.onAttribution = function(b, a) {
    this._handlers.forEach(function(c) {
      return c.onAttribution(b, a);
    });
  };
  da.prototype.onOpenURL = function(b) {
    this._handlers.forEach(function(a) {
      return a.onOpenURL(b);
    });
  };
  da.prototype.onGrantReward = function() {
    this._handlers.forEach(function(b) {
      return b.onGrantReward();
    });
  };
  da.prototype.onVideoStart = function() {
    this._handlers.forEach(function(b) {
      return b.onVideoStart();
    });
  };
  da.prototype.onSetOrientationProperties = function(b, a) {
    this._handlers.forEach(function(c) {
      return c.onSetOrientationProperties(b, a);
    });
  };
  da.prototype.onResolveOpenableIntents = function(b) {
    this._handlers.forEach(function(a) {
      return a.onOpenableIntentsRequest(b);
    });
  };
  da.prototype.onClickSignalRequest = function(b) {
    this._handlers.forEach(function(a) {
      return a.onClickSignalRequest(b);
    });
  };
  da.prototype.onTrackingEvent = function(b, a) {
    this._handlers.forEach(function(c) {
      return c.onTrackingEvent(b, a);
    });
  };
  da.prototype.onUserSeeked = function() {
    this._programmaticTrackingService.reportMetric(bf.AdmobUserVideoSeeked).catch();
  };
  da.prototype.onGDPRPopupEvent = function(b) {
    b.preventDefault();
    this._gdprPopupClicked || (this._gdprPopupClicked = !0, this.choosePrivacyShown());
    this._privacy.show();
  };
  da.prototype.onPrivacyEvent = function(b) {
    b.preventDefault();
    this._privacy.show();
  };
  Re.isAppSheetBroken = function(b, a) {
    return !a.match(/ipad/i) && b.match(/^11\.[0-2]/) ? !0 : b.match(/^8\.[0-3]/) ? !0 : b.match(/^7\.[0-9]/) ? !0 : !1;
  };
  Re.hasVideoStallingApi = function(b) {
    return b.match(/^1/) ? !0 : !1;
  };
  var ca;
  (function(b) {
    b[b.NOT_READY = 0] = "NOT_READY";
    b[b.PREPARING = 1] = "PREPARING";
    b[b.READY = 2] = "READY";
    b[b.PLAYING = 3] = "PLAYING";
    b[b.PAUSED = 4] = "PAUSED";
    b[b.COMPLETED = 5] = "COMPLETED";
    b[b.SKIPPED = 6] = "SKIPPED";
    b[b.ERRORED = 7] = "ERRORED";
  })(ca || (ca = {}));
  h.inherits(O, K);
  O.prototype.show = function() {
    var b = this;
    this.setShowing(!0);
    this.setActive(!0);
    this._container.addEventHandler(this);
    return this._container.open(this, ["videoplayer", "webview"], !0, this.getForceOrientation(), this._placement.disableBackButton(), !1, !0, !1, this._options).then(function() {
      b.onStart.trigger();
    });
  };
  O.prototype.hide = function() {
    var b = this;
    if (!this.isShowing()) {
      return Promise.resolve();
    }
    this.setShowing(!1);
    this.hideChildren();
    this.unsetReferences();
    this._ads.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
    this._container.removeEventHandler(this);
    return this._container.close().then(function() {
      b.onClose.trigger();
    });
  };
  O.prototype.setVideoState = function(b) {
    this._videoState = b;
  };
  O.prototype.getVideoState = function() {
    return this._videoState;
  };
  O.prototype.canShowVideo = function() {
    return this.getVideoState() !== ca.ERRORED && this.getVideoState() !== ca.COMPLETED && this.getVideoState() !== ca.SKIPPED;
  };
  O.prototype.canPlayVideo = function() {
    return this.getVideoState() === ca.READY || this.getVideoState() === ca.PLAYING || this.getVideoState() === ca.PAUSED;
  };
  O.prototype.canPrepareVideo = function() {
    return this.canShowVideo() && this.getVideoState() === ca.NOT_READY;
  };
  O.prototype.getOverlay = function() {
    return this._overlay;
  };
  O.prototype.getProgressInterval = function() {
    return O._progressInterval;
  };
  O.prototype.getVideo = function() {
    return this._video;
  };
  O.prototype.isActive = function() {
    return this._active;
  };
  O.prototype.setActive = function(b) {
    this._active = b;
  };
  O.prototype.getVideoOrientation = function() {
    var b = "landscape", a = Sa.getPortraitVideo(this._campaign);
    a && this._finalVideoUrl === a.getUrl() && (b = "portrait");
    this._core.Sdk.logDebug("Returning " + b + " as video orientation for locked orientation " + pa[this._container.getLockedOrientation()]);
    return b;
  };
  O.prototype.isLowMemory = function() {
    return this._lowMemory;
  };
  O.prototype.onContainerShow = function() {
    this.isShowing() && this.isActive() && (this._platform === m.IOS && Re.hasVideoStallingApi(this._deviceInfo.getOsVersion()) && (this.getVideo().isCached() ? this._ads.VideoPlayer.setAutomaticallyWaitsToMinimizeStalling(!1) : this._ads.VideoPlayer.setAutomaticallyWaitsToMinimizeStalling(!0)), this.prepareVideo());
  };
  O.prototype.onContainerDestroy = function() {
    this.isShowing() && (this.setActive(!1), this.setFinishState(M.SKIPPED), this.hide());
  };
  O.prototype.onContainerBackground = function() {
    var b = this;
    this.isShowing() && fa.isSimejiJapaneseKeyboardApp(this._clientInfo.getGameId()) ? (this.setActive(!1), this.setFinishState(M.SKIPPED), this.setVideoState(ca.SKIPPED), this.hide()) : this.isShowing() && this.getContainer().isPaused() && (this.setActive(!1), this.canShowVideo() && (this.setVideoState(ca.PAUSED), this._ads.VideoPlayer.pause().catch(function(a) {
      "VIDEOVIEW_NULL" === a && b.setVideoState(ca.NOT_READY);
    })));
  };
  O.prototype.onContainerForeground = function() {
    !this.isShowing() || this.isActive() || this.getContainer().isPaused() || (this.setActive(!0), this.canShowVideo() && this.getVideoState() === ca.PAUSED ? (this.setVideoState(ca.PLAYING), this._ads.VideoPlayer.play()) : this.canPrepareVideo() && this.prepareVideo());
  };
  O.prototype.onContainerSystemMessage = function(b) {
    switch(b) {
      case Pc.MEMORY_WARNING:
        this.isShowing() && (this._lowMemory = !0);
        break;
      case Pc.AUDIO_SESSION_INTERRUPT_BEGAN:
        this.isShowing() && this.isActive() && this.getVideoState() === ca.PLAYING && (this.setVideoState(ca.PAUSED), this._ads.VideoPlayer.pause());
        break;
      case Pc.AUDIO_SESSION_INTERRUPT_ENDED:
      case Pc.AUDIO_SESSION_ROUTE_CHANGED:
        this.isShowing() && this.isActive() && this.canPlayVideo() && (this.setVideoState(ca.PLAYING), this._ads.VideoPlayer.play());
    }
  };
  O.prototype.unsetReferences = function() {
    delete this._overlay;
  };
  O.prototype.prepareOverlay = function() {
    var b = this.getOverlay();
    b && (b.render(), document.body.appendChild(b.container()), this._placement.allowSkip() ? (b.setSkipEnabled(!0), b.setSkipDuration(this._placement.allowSkipInSeconds())) : b.setSkipEnabled(!1));
  };
  O.prototype.hideChildren = function() {
    var b = this.getOverlay();
    b && (b.hide(), (b = b.container()) && b.parentElement && b.parentElement.removeChild(b));
  };
  O.prototype.prepareVideo = function() {
    var b = this;
    this.setVideoState(ca.PREPARING);
    this.getValidVideoUrl().then(function(a) {
      b._finalVideoUrl = a;
      b._ads.VideoPlayer.prepare(a, new Ya(b._placement.muteVideo() ? 0 : 1), 10000);
    });
  };
  O.prototype.getValidVideoUrl = function() {
    var b = this, a = this.getVideo().getOriginalUrl();
    if (this._campaign instanceof D || this._campaign instanceof L) {
      var c = Sa.getOrientedVideo(this._campaign, this.getForceOrientation(), ud.STREAM);
      if (!c) {
        throw new pb("Unable to fallback to an oriented streaming video");
      }
      a = c.getOriginalUrl();
    }
    return Promise.resolve().then(function() {
      return b.getVideo().isCached() && b.getVideo().getFileId() ? b._core.Cache.getFileInfo(b.getVideo().getFileId()).then(function(c) {
        if (c.found) {
          var d = b.getVideo().getSize();
          return d && d !== c.size ? (ua.trigger("video_size_mismatch", {remoteVideoSize:d, localVideoSize:c.size}, b._campaign.getSession()), a) : b.getVideo().getUrl();
        }
        ua.trigger("cached_file_not_found", new fb(Error("File not found"), {url:b.getVideo().getUrl(), originalUrl:b.getVideo().getOriginalUrl(), campaignId:b._campaign.getId()}), b._campaign.getSession());
        b.getVideo().setCachedUrl(void 0);
        return a;
      }).catch(function(c) {
        ua.trigger("cached_file_not_found", new fb(Error(c), {url:b.getVideo().getUrl(), originalUrl:b.getVideo().getOriginalUrl(), campaignId:b._campaign.getId()}), b._campaign.getSession());
        b.getVideo().setCachedUrl(void 0);
        return a;
      }) : b.getVideo().getUrl();
    });
  };
  O._progressInterval = 250;
  var Bc;
  (function(b) {
    b[b.NOT_INITIALIZED = 0] = "NOT_INITIALIZED";
    b[b.INITIALIZE_FAILED = 1] = "INITIALIZE_FAILED";
    b[b.INVALID_ARGUMENT = 2] = "INVALID_ARGUMENT";
    b[b.VIDEO_PLAYER_ERROR = 3] = "VIDEO_PLAYER_ERROR";
    b[b.INIT_SANITY_CHECK_FAIL = 4] = "INIT_SANITY_CHECK_FAIL";
    b[b.AD_BLOCKER_DETECTED = 5] = "AD_BLOCKER_DETECTED";
    b[b.FILE_IO_ERROR = 6] = "FILE_IO_ERROR";
    b[b.DEVICE_ID_ERROR = 7] = "DEVICE_ID_ERROR";
    b[b.SHOW_ERROR = 8] = "SHOW_ERROR";
    b[b.INTERNAL_ERROR = 9] = "INTERNAL_ERROR";
  })(Bc || (Bc = {}));
  $c.prototype.updateViewsOnVideoError = function() {
    this._adUnit.getContainer().reconfigure(0);
  };
  $c.prototype.afterVideoCompleted = function() {
    this._adUnit.getContainer().reconfigure(0);
    var b = this._adUnit.getOverlay();
    b && b.hide();
    this._adUnit.onFinish.trigger();
  };
  $c.prototype.handleVideoError = function(b, a) {
    if (this._adUnit.getVideoState() !== ca.ERRORED) {
      var c = this._adUnit.getVideoState();
      this._adUnit.setVideoState(ca.ERRORED);
      ua.trigger(b, a, this._campaign.getSession());
      this._adUnit.setFinishState(M.ERROR);
      this.updateViewsOnVideoError();
      (b = this._adUnit.getOverlay()) && b.hide();
      this._adUnit.onError.trigger();
      this._adUnit.onFinish.trigger();
      c === ca.NOT_READY || c === ca.PREPARING ? (this._adUnit.hide(), this._ads.Listener.sendErrorEvent(Bc[Bc.VIDEO_PLAYER_ERROR], "Video player prepare error")) : (this._adUnit.onVideoError(), this._ads.Listener.sendErrorEvent(Bc[Bc.VIDEO_PLAYER_ERROR], "Video player error"));
    }
  };
  $c.prototype.getVideoOrientation = function() {
  };
  h.inherits(Id, $c);
  Id.prototype.onInfo = function() {
  };
  Id.prototype.onGenericError = function(b, a, c) {
    this._core.Sdk.logError("Unity Ads video player error  " + a + " " + c + " " + b);
    this.handleVideoError("video_player_generic_error", {url:b, position:this._video.getPosition(), what:a, extra:c});
  };
  Id.prototype.onPrepareError = function(b) {
    this._core.Sdk.logError("Unity Ads video player prepare error " + b);
    this.handleVideoError("video_player_prepare_error", {url:b, position:this._video.getPosition()});
  };
  Id.prototype.onSeekToError = function(b) {
    this._core.Sdk.logError("Unity Ads video player seek to error " + b);
    this.handleVideoError("video_player_seek_to_error", {url:b, position:this._video.getPosition()});
  };
  Id.prototype.onPauseError = function(b) {
    this._core.Sdk.logError("Unity Ads video player pause error " + b);
    this.handleVideoError("video_player_pause_error", {url:b, position:this._video.getPosition()});
  };
  Id.prototype.onIllegalStateError = function() {
    this._core.Sdk.logError("Unity Ads video player illegal state error");
    this.handleVideoError("video_player_illegal_state_error", {position:this._video.getPosition()});
  };
  h.inherits(re, $c);
  re.prototype.onLikelyToKeepUp = function(b, a) {
    !this._adUnit.getContainer().isPaused() && this._adUnit.canPlayVideo() && a && (this._adUnit.setVideoState(ca.PLAYING), this._ads.VideoPlayer.play());
  };
  re.prototype.onBufferEmpty = function() {
  };
  re.prototype.onBufferFull = function() {
  };
  re.prototype.onGenericError = function(b, a) {
    this._core.Sdk.logError("Unity Ads video player generic error " + b + " " + a);
    this.handleVideoError("video_player_generic_error", {url:b, position:this._video.getPosition(), description:a});
  };
  pf.prototype.onPrivacy = function(b) {
    this._platform === m.IOS ? this._core.iOS.UrlScheme.open(b) : this._platform === m.ANDROID && this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:b});
  };
  pf.prototype.onPrivacyClose = function() {
  };
  pf.prototype.onGDPROptOut = function(b) {
    this._configuration.isOptOutRecorded() ? b !== this._configuration.isOptOutEnabled() && (this._configuration.setOptOutEnabled(b), b ? this._gdprManager.sendGDPREvent(fd.OPTOUT, af.USER) : this._gdprManager.sendGDPREvent(fd.OPTIN)) : (this._configuration.setOptOutRecorded(!0), this._configuration.setOptOutEnabled(b), b ? this._gdprManager.sendGDPREvent(fd.OPTOUT, af.USER) : this._gdprManager.sendGDPREvent(fd.SKIP));
  };
  h.inherits(Wa, B);
  Wa.setAutoSkip = function(b) {
    Wa.AutoSkip = b;
  };
  Wa.prototype.setSkipDuration = function(b) {
    this._skipDuration = this._skipRemaining = 1000 * b;
  };
  Wa.prototype.setVideoDuration = function(b) {
    this._videoDuration = b;
  };
  Wa.prototype.isMuted = function() {
    return this._muted;
  };
  Wa.prototype.setFadeEnabled = function(b) {
    this._fadeEnabled !== b && (this._fadeEnabled = b);
  };
  Wa.prototype.isPrivacyShowing = function() {
    return this._isPrivacyShowing;
  };
  Wa.AutoSkip = !1;
  oa.getLanguageMap = function(b, a) {
    var c = oa._languageMap[b];
    if (c) {
      return c[a];
    }
    for (var d in oa._languageMap) {
      if (oa._languageMap.hasOwnProperty(d) && b.match(d)) {
        return oa._languageMap[d][a];
      }
    }
  };
  oa.setLanguageMap = function(b, a, c) {
    oa._languageMap || (oa._languageMap = {});
    oa._languageMap[b] || (oa._languageMap[b] = {});
    oa._languageMap[b][a] = c;
  };
  oa.getLocalizedAbbreviations = function(b) {
    var a = oa._localizedAbbreviations[b];
    if (a) {
      return a;
    }
    for (var c in oa._localizedAbbreviations) {
      if (oa._localizedAbbreviations.hasOwnProperty(c) && b.match(c)) {
        return oa._localizedAbbreviations[c];
      }
    }
  };
  oa.prototype.translate = function(b) {
    var a = oa.getLanguageMap(this._language, this._namespace);
    return a && b in a ? a[b] : b;
  };
  oa.prototype.abbreviate = function(b) {
    var a = oa.getLocalizedAbbreviations(this._language);
    return a ? 1000000 <= b ? Math.floor(b / 1000000).toString() + " " + a.million : 10000 <= b ? Math.floor(b / 1000).toString() + " " + a.thousand : b.toString() : b.toString();
  };
  oa._languageMap = {"en.*":{endscreen:JSON.parse('{\n  "Ratings": "Ratings",\n  "Download For Free": "Download For Free"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Learn More",\n  "Install Now": "Install Now"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Try the playable demo"\n}\n')}, "ru.*":{endscreen:JSON.parse('{\n  "Ratings": "\u041e\u0446\u0435\u043d\u043a\u0438",\n  "Download For Free": "\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"\n}\n'), 
  overlay:JSON.parse('{\n  "Learn More": "\u0423\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",\n  "Install Now": "\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "\u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043c\u043e"\n}\n')}, "ja.*":{endscreen:JSON.parse('{\n  "Ratings": "\u8a55\u4fa1",\n  "Download For Free": "\u7121\u6599\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"\n}\n'), 
  overlay:JSON.parse('{\n  "Learn More": "\u3082\u3063\u3068\u307f\u308b",\n  "Install Now": "\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"\n}\n')}, "ko.*":{endscreen:JSON.parse('{\n  "Ratings": "\ud3c9\uc810",\n  "Download For Free": "\ubb34\ub8cc \ub2e4\uc6b4\ub85c\ub4dc"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "\ub354 \uc54c\uc544\ubcf4\uae30",\n  "Install Now": "\ub2e4\uc6b4\ub85c\ub4dc"\n}\n')}, "it.*":{endscreen:JSON.parse('{\n  "Ratings": "Valutazioni",\n  "Download For Free": "Scarica gratis"\n}\n'), 
  overlay:JSON.parse('{\n  "Learn More": "Altre info",\n  "Install Now": "Installa Ora"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Prova la demo giocabile"\n}\n')}, "de.*":{endscreen:JSON.parse('{\n  "Ratings": "Bewertungen",\n  "Download For Free": "Gratis Download"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Erfahre mehr",\n  "Install Now": "Installieren"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Probier die Demo f\u00fcr"\n}\n')}, "zh(_TW|_HK|_MO|_#?Hant)?(_TW|_HK|_MO|_#?Hant)+$":{endscreen:JSON.parse('{\n  "Ratings": "\u8a55\u5206",\n  "Download For Free": "\u514d\u8cbb\u4e0b\u8f09"\n}\n'), 
  overlay:JSON.parse('{\n  "Learn More": "\u4e86\u89e3\u66f4\u591a",\n  "Install Now": "\u7acb\u5373\u4e0b\u8f7d"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "\u8bd5\u73a9\u4e00\u4e0b\u6e38\u620f"\n}\n')}, "zh(((_#?Hans)?(_\\D\\D)?)|((_\\D\\D)?(_#?Hans)?))$":{endscreen:JSON.parse('{\n  "Ratings": "\u8bc4\u4ef7",\n  "Download For Free": "\u514d\u8d39\u4e0b\u8f7d"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "\u66f4\u591a\u4fe1\u606f",\n  "Install Now": "\u7acb\u5373\u4e0b\u8f09"\n}\n'), 
  loadingscreen:JSON.parse('{\n  "Try the playable demo": "\u8bd5\u73a9\u4e00\u4e0b\u6e38\u620f"\n}\n')}, "fi.*":{endscreen:JSON.parse('{\n  "Ratings": "Suosio",\n  "Download For Free": "Lataa ilmaiseksi"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Lis\u00e4\u00e4 tietoa",\n  "Install Now": "Asenna nyt"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Kokeile pelattavaa demoa"\n}\n')}, "es.*":{endscreen:JSON.parse('{\n  "Ratings": "Valoraciones",\n  "Download For Free": "Descarga gratis"\n}\n'), 
  overlay:JSON.parse('{\n  "Learn More": "M\u00e1s informaci\u00f3n",\n  "Install Now": "Instalar Ahora"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Prueba la demo"\n}\n')}, "fr.*":{endscreen:JSON.parse('{\n  "Ratings": "Notes",\n  "Download For Free": "T\u00e9l\u00e9chargement gratuit"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Plus d\'infos",\n  "Install Now": "Installer"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Essayez la d\u00e9mo jouable"\n}\n')}, 
  "tr.*":{endscreen:JSON.parse('{\n  "Ratings": "Oylar",\n  "Download For Free": "Bedava indir"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Daha fazla bilgi",\n  "Install Now": "\u015eimdi Kur"\n}\n')}, da_DK:{endscreen:JSON.parse('{\n  "Ratings": "Anmeldelser",\n  "Download For Free": "Download gratis"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Mere information",\n  "Install Now": "Install\u00e9r nu"\n}\n')}, "nb.*":{endscreen:JSON.parse('{\n  "Ratings": "Anmeldelser",\n  "Download For Free": "Last ned gratis"\n}\n'), 
  overlay:JSON.parse('{\n  "Learn More": "Les mer",\n  "Install Now": "Installare n\u00e5"\n}\n')}, "lt.*":{endscreen:JSON.parse('{\n  "Ratings": "\u012evertinimai",\n  "Download For Free": "Atsisi\u0173sti nemokamai"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Daugiau informacijos",\n  "Install Now": "Atsisi\u0173sti"\n}\n')}, "is.*":{endscreen:JSON.parse('{\n  "Ratings": "Einkunnir",\n  "Download For Free": "Fr\u00edtt Ni\u00f0urhal"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "L\u00e6ra meira",\n  "Install Now": "Setja upp"\n}\n')}, 
  "ro.*":{endscreen:JSON.parse('{\n  "Ratings": "Note",\n  "Download For Free": "Descarc\u0103 gratis"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Afl\u0103 mai multe",\n  "Install Now": "Descarc\u0103"\n}\n')}, "pt.*":{endscreen:JSON.parse('{\n  "Ratings": "Avalia\u00e7\u00f5es",\n  "Download For Free": "Baixe de Gra\u00e7a"\n}\n'), overlay:JSON.parse('{\n  "Learn More": "Saiba Mais",\n  "Install Now": "Instale Agora"\n}\n'), loadingscreen:JSON.parse('{\n  "Try the playable demo": "Teste o demo"\n}\n')}};
  oa._localizedAbbreviations = {"en.*":{thousand:"k", million:"m"}, "zh.*":{thousand:"\u5343", million:"\u767e\u4e07"}};
  h.inherits(db, Wa);
  db.prototype.render = function() {
    Wa.prototype.render.call(this);
    this._closeElement = this._container.querySelector(".close-region");
    this._spinnerElement = this._container.querySelector(".buffering-spinner");
    this._muteButtonElement = this._container.querySelector(".mute-button");
    this._debugMessageElement = this._container.querySelector(".debug-message-text");
    this._callButtonElement = this._container.querySelector(".call-button");
  };
  db.prototype.setSpinnerEnabled = function(b) {
    this._spinnerEnabled !== b && (this._spinnerEnabled = b, this._spinnerElement.style.display = b ? "block" : "none");
  };
  db.prototype.setSkipEnabled = function() {
  };
  db.prototype.setVideoDurationEnabled = function() {
  };
  db.prototype.setVideoProgress = function(b) {
    var a = this;
    Wa.AutoSkip && this._handlers.forEach(function(a) {
      return a.onOverlaySkip(b);
    });
    this._fadeEnabled && !this._fadeTimer && 0 >= this._skipRemaining && (this._fadeTimer = setTimeout(function() {
      a.fade(!0);
      a._fadeTimer = void 0;
    }, 3000));
    this._skipRemaining = this._skipDuration - b;
    0 < this._skipRemaining ? (this._skipRemaining--, this.updateProgressCircle(this._closeElement, (this._skipDuration - this._skipRemaining) / this._skipDuration)) : (this._canClose = !0, this._closeElement.style.opacity = "1", this.updateProgressCircle(this._closeElement, 1));
  };
  db.prototype.setMuteEnabled = function(b) {
    this._muteEnabled !== b && (this._muteEnabled = b, this._muteButtonElement.style.display = b ? "block" : "none");
  };
  db.prototype.setDebugMessage = function(b) {
    this._debugMessageElement.innerHTML = b;
  };
  db.prototype.setDebugMessageVisible = function(b) {
    this._debugMessageVisible !== b && (this._debugMessageElement.style.display = b ? "block" : "none");
  };
  db.prototype.setCallButtonVisible = function(b) {
    this._campaign instanceof la && this._callButtonVisible !== b && (this._callButtonElement.style.display = b ? "block" : "none");
  };
  db.prototype.setCallButtonEnabled = function() {
  };
  db.prototype.onCloseEvent = function(b) {
    b.preventDefault();
    b.stopPropagation();
    this._canClose && this._handlers.forEach(function(a) {
      return a.onOverlayClose();
    });
  };
  db.prototype.onMuteEvent = function(b) {
    var a = this;
    b.preventDefault();
    b.stopPropagation();
    this.resetFadeTimer();
    this._muted ? (this._muteButtonElement.classList.remove("muted"), this._muted = !1) : (this._muteButtonElement.classList.add("muted"), this._muted = !0);
    this._handlers.forEach(function(b) {
      return b.onOverlayMute(a._muted);
    });
  };
  db.prototype.onCallButtonEvent = function(b) {
    b.preventDefault();
    b.stopPropagation();
    this.resetFadeTimer();
    this._handlers.forEach(function(a) {
      return a.onOverlayCallButton();
    });
  };
  db.prototype.onPauseForTestingEvent = function(b) {
    b.preventDefault();
    b.stopPropagation();
    this.resetFadeTimer();
    this._handlers.forEach(function(a) {
      return a.onOverlayPauseForTesting(!0);
    });
  };
  db.prototype.onClick = function() {
    this.resetFadeTimer();
    this._fadeStatus ? this.fade(!0) : this.fade(!1);
  };
  db.prototype.resetFadeTimer = function() {
    this._fadeTimer && (clearTimeout(this._fadeTimer), this._fadeTimer = void 0);
  };
  db.prototype.fade = function(b) {
    b ? (this._closeElement.classList.remove("slide-back-in-place"), this._closeElement.classList.add("slide-up"), this._muteButtonElement.classList.remove("slide-back-in-place"), this._muteButtonElement.classList.add("slide-down"), this._container.style.pointerEvents = "auto", this._fadeStatus = !1) : (this._container.style.pointerEvents = "none", this._closeElement.classList.remove("slide-up"), this._closeElement.classList.add("slide-back-in-place"), this._muteButtonElement.classList.remove("slide-down"), 
    this._muteButtonElement.classList.add("slide-back-in-place"), this._fadeStatus = !0);
  };
  db.prototype.updateProgressCircle = function(b, a) {
    var c = b.querySelector(".progress-wrapper"), d = b.querySelector(".circle-left");
    b = b.querySelector(".circle-right");
    d.style.webkitTransform = "rotate(" + 360 * a + "deg)";
    0.5 <= a && (c.style.webkitAnimationName = "close-progress-wrapper", b.style.webkitAnimationName = "right-spin");
  };
  Na.prototype.toNumber = function() {
    return this._abGroup;
  };
  var rh = new Na(-1), sh = new Na(0), th = new Na(1), uh = new Na(2), vh = new Na(3), wh = new Na(4), Vg = new Na(5), Wg = new Na(6), Xg = new Na(7), Yg = new Na(8), xh = new Na(9), yh = new Na(10), zh = new Na(11), Ah = new Na(12), Bh = new Na(13), Ch = new Na(14), Dh = new Na(15), Zg = new Na(16), Eh = new Na(17), Fh = new Na(18), Gh = new Na(19), Hh = new Na(99), Ih = new Na(666);
  dg.getAbGroup = function(b) {
    switch(b) {
      case 0:
        return sh;
      case 1:
        return th;
      case 2:
        return uh;
      case 3:
        return vh;
      case 4:
        return wh;
      case 5:
        return Vg;
      case 6:
        return Wg;
      case 7:
        return Xg;
      case 8:
        return Yg;
      case 9:
        return xh;
      case 10:
        return yh;
      case 11:
        return zh;
      case 12:
        return Ah;
      case 13:
        return Bh;
      case 14:
        return Ch;
      case 15:
        return Dh;
      case 16:
        return Zg;
      case 17:
        return Eh;
      case 18:
        return Fh;
      case 19:
        return Gh;
      case 99:
        return Hh;
      default:
        return rh;
    }
  };
  Qe.prototype.isValid = function(b) {
    return -1 !== this._groups.indexOf(b);
  };
  var Jh = new Qe(Xg, Yg), $g = new Qe(Zg), Kh = new Qe(Vg, Wg), uf = new Qe(Ih);
  h.inherits(ba, Wa);
  ba.prototype.hide = function() {
    Wa.prototype.hide.call(this);
    this._privacy && (this._privacy.hide(), document.body.removeChild(this._privacy.container()), delete this._privacy);
    this._showGDPRBanner && !this._gdprPopupClicked && this._handlers.forEach(function(b) {
      return b.onGDPRPopupSkipped();
    });
  };
  ba.prototype.render = function() {
    Wa.prototype.render.call(this);
    this.setupElementReferences();
    this.choosePrivacyShown();
    if (fa.isTencentAdvertisement(this._seatId)) {
      var b = this._container.querySelector(".tencent-advertisement");
      b && (b.innerText = "\u5e7f\u544a");
    }
    fa.isCheetahGame(this._gameId) ? this._skipButtonElement.classList.add("close-icon-skip") : Kh.isValid(this._abGroup) && this._skipButtonElement.classList.add("next-icon-skip");
  };
  ba.prototype.setSpinnerEnabled = function(b) {
    this._spinnerEnabled !== b && (this._spinnerEnabled = b, this._spinnerElement.style.display = b ? "block" : "none");
  };
  ba.prototype.setSkipEnabled = function(b) {
    this._skipEnabled !== b && (this._skipEnabled = b);
  };
  ba.prototype.setVideoDurationEnabled = function(b) {
    this._videoDurationEnabled !== b && (this._videoDurationEnabled = b);
  };
  ba.prototype.setVideoProgress = function(b) {
    var a = this;
    ba.AutoSkip && this._handlers.forEach(function(a) {
      return a.onOverlaySkip(b);
    });
    this._fadeEnabled && !this._fadeTimer && (!this._skipEnabled || 0 >= this._skipRemaining) && (this._fadeTimer = setTimeout(function() {
      a.fadeOut();
      a._fadeTimer = void 0;
    }, 3000));
    this._videoProgress = b;
    this._skipRemaining = this._skipDuration - this._videoProgress;
    var c = Math.ceil((this._videoDuration - this._videoProgress) / 1000);
    "number" !== typeof c || isNaN(c) || (this._timerElement.innerText = c.toString());
    0 >= this._skipRemaining && this.showSkipButton();
  };
  ba.prototype.setMuteEnabled = function(b) {
    this._muteEnabled !== b && (this._muteEnabled = b, this._muteButtonElement.style.display = b ? "block" : "none");
  };
  ba.prototype.setDebugMessage = function(b) {
    this._debugMessageElement.innerHTML = b;
  };
  ba.prototype.setDebugMessageVisible = function(b) {
    this._debugMessageVisible !== b && (this._debugMessageElement.style.display = b ? "block" : "none");
  };
  ba.prototype.setCallButtonVisible = function(b) {
    (this._campaign instanceof L || this._campaign instanceof D) && !this._skipEnabled || this._callButtonVisible === b || (this._callButtonElement.style.display = b ? "block" : "none");
  };
  ba.prototype.setCallButtonEnabled = function(b) {
    this._callButtonEnabled !== b && (this._callButtonEnabled = b);
  };
  ba.prototype.isMuted = function() {
    return this._muted;
  };
  ba.prototype.onPrivacy = function() {
  };
  ba.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
    this._isPrivacyShowing = !1;
    this._ads.VideoPlayer.play();
  };
  ba.prototype.onGDPROptOut = function() {
  };
  ba.prototype.choosePrivacyShown = function() {
    this._showPrivacyDuringVideo ? !this._gdprPopupClicked && this._showGDPRBanner ? (this._container.classList.add("show-gdpr-banner"), this._container.classList.remove("show-gdpr-button")) : (this._container.classList.remove("show-gdpr-banner"), this._container.classList.add("show-gdpr-button")) : (this._container.classList.remove("show-gdpr-banner"), this._container.classList.remove("show-gdpr-button"));
  };
  ba.prototype.onGDPRPopupEvent = function(b) {
    b.preventDefault();
    b.stopPropagation();
    this._isPrivacyShowing = !0;
    this._gdprPopupClicked || (this._gdprPopupClicked = !0, this.choosePrivacyShown());
    this._ads.VideoPlayer.pause();
    this._privacy && this._privacy.show();
  };
  ba.prototype.onPrivacyEvent = function(b) {
    this._isPrivacyShowing = !0;
    b.preventDefault();
    b.stopPropagation();
    this._ads.VideoPlayer.pause();
    this._privacy && this._privacy.show();
  };
  ba.prototype.onSkipEvent = function(b) {
    var a = this;
    b.preventDefault();
    b.stopPropagation();
    this._skipEnabled && this._videoProgress > this._skipDuration && this._handlers.forEach(function(b) {
      return b.onOverlaySkip(a._videoProgress);
    });
  };
  ba.prototype.onMuteEvent = function(b) {
    var a = this;
    b.preventDefault();
    b.stopPropagation();
    this.resetFadeTimer();
    this._muted ? (this._muteButtonElement.classList.remove("muted"), this._muted = !1) : (this._muteButtonElement.classList.add("muted"), this._muted = !0);
    this._handlers.forEach(function(b) {
      return b.onOverlayMute(a._muted);
    });
  };
  ba.prototype.onCallButtonEvent = function(b) {
    var a = this;
    if (this._callButtonEnabled && (b.preventDefault(), b.stopPropagation(), this.resetFadeTimer(), this._handlers.forEach(function(a) {
      return a.onOverlayCallButton();
    }), this._campaign instanceof D || this._campaign instanceof L)) {
      var c = this._campaign;
      this._handlers.filter(function(a) {
        return "function" === typeof a.onOverlayDownload;
      }).forEach(function(b) {
        if ("function" === typeof b.onOverlayDownload) {
          b.onOverlayDownload({clickAttributionUrl:c.getClickAttributionUrl(), clickAttributionUrlFollowsRedirects:c.getClickAttributionUrlFollowsRedirects(), bypassAppSheet:c.getBypassAppSheet(), appStoreId:c.getAppStoreId(), store:c.getStore(), videoProgress:a._videoProgress});
        }
      });
    }
  };
  ba.prototype.onPauseForTestingEvent = function(b) {
    b.preventDefault();
    b.stopPropagation();
    this.resetFadeTimer();
    this._handlers.forEach(function(a) {
      return a.onOverlayPauseForTesting(!0);
    });
  };
  ba.prototype.onClick = function() {
    this.resetFadeTimer();
    this._areControlsVisible ? this.fadeOut() : this.fadeIn();
  };
  ba.prototype.setupElementReferences = function() {
    this._skipButtonElement = this._container.querySelector(".skip-button");
    this._spinnerElement = this._container.querySelector(".buffering-spinner");
    this._muteButtonElement = this._container.querySelector(".mute-button");
    this._debugMessageElement = this._container.querySelector(".debug-message-text");
    this._callButtonElement = this._container.querySelector(".call-button");
    this._timerElement = this._container.querySelector(".timer");
  };
  ba.prototype.showSkipButton = function() {
    this._skipEnabled && (this._skipButtonElement.classList.add("show-skip-button"), (this._campaign instanceof D || this._campaign instanceof L) && this.showCallButton());
  };
  ba.prototype.resetFadeTimer = function() {
    this._fadeTimer && (clearTimeout(this._fadeTimer), this._fadeTimer = void 0);
  };
  ba.prototype.showCallButton = function() {
    this._areControlsVisible && (this._callButtonElement.classList.add("show-call-button"), this._callButtonElement.classList.add("show-go-text"));
  };
  ba.prototype.fadeIn = function() {
    var b = this;
    this._container.classList.add("fade-in");
    this._areControlsVisible = !0;
    this._campaign instanceof D && this._campaign instanceof L || setTimeout(function() {
      b.showCallButton();
    }, 500);
  };
  ba.prototype.fadeOut = function() {
    this._container.classList.remove("fade-in");
    this._areControlsVisible = !1;
  };
  h.inherits(pd, B);
  pd.createBuildInformation = function(b, a, c, d, e) {
    var f = new Date;
    pd.buildInformation = {userAgent:window.navigator.userAgent, platform:b === m.IOS ? "iOS" : "Android", campaign:d.getId(), osVersion:c.getOsVersion(), group:e.getAbGroup().toNumber(), sdk:a.getSdkVersionName(), webview:a.getWebviewVersion(), webviewHash:a.getWebviewHash(), app:a.getApplicationName(), appVersion:a.getApplicationVersion(), creativeId:d.getCreativeId(), seatId:d.getSeatId(), timestamp:f.toUTCString()};
  };
  var Cc;
  (function(b) {
    b[b.INITIAL = 0] = "INITIAL";
    b[b.PRIVACY = 1] = "PRIVACY";
    b[b.BUILD = 2] = "BUILD";
    b[b.REPORT = 3] = "REPORT";
  })(Cc || (Cc = {}));
  var of;
  (function(b) {
    b.NOT_SHOWING = "Ad is not showing";
    b.OFFENSIVE = "Ad is very offensive";
    b.MALFORMED = "Ad does not look right";
    b.DISLIKE = "I don't like this ad";
    b.OTHER = "Other";
  })(of || (of = {}));
  h.inherits(Ma, pd);
  Ma.prototype.show = function() {
    var b = this;
    pd.prototype.show.call(this);
    this.editPopupPerUser();
    if (this._gdprEnabled) {
      var a = this._gdprManager.isOptOutEnabled() ? "gdpr-refuse-radio" : "gdpr-agree-radio";
      this._container.querySelector("#" + a).checked = !0;
    }
    if (a = this._container.querySelector("#gdpr-agree-radio")) {
      a.onclick = function() {
        document.getElementById("data-deletion-container").classList.remove("active");
        document.getElementById("data-deletion-request-container").classList.remove("active");
        b._dataDeletionConfirmation = !1;
      };
    }
  };
  Ma.prototype.render = function() {
    pd.prototype.render.call(this);
    this.setCardState(!1);
  };
  Ma.prototype.onCloseEvent = function(b) {
    var a = this;
    b.preventDefault();
    var c = this._container.querySelector("#gdpr-refuse-radio");
    this._gdprEnabled && this._handlers.forEach(function(b) {
      return b.onGDPROptOut(c.checked || a._dataDeletionConfirmation);
    });
    this._handlers.forEach(function(a) {
      return a.onPrivacyClose();
    });
  };
  Ma.prototype.onPrivacyEvent = function(b) {
    b.preventDefault();
    this._handlers.forEach(function(a) {
      return a.onPrivacy(b.target.href);
    });
  };
  Ma.prototype.onDataDeletion = function(b) {
    b.preventDefault();
    this._dataDeletionConfirmation || document.getElementById("data-deletion-container").classList.toggle("active");
  };
  Ma.prototype.onDataDeletionConfirmation = function(b) {
    b.preventDefault();
    this._dataDeletionConfirmation = !0;
    document.getElementById("data-deletion-container").classList.toggle("active");
    document.getElementById("data-deletion-request-container").classList.add("active");
    this._container.querySelector("#gdpr-refuse-radio").checked = !0;
  };
  Ma.prototype.onStateClick = function(b, a) {
    b.preventDefault();
    this.setCardState(a);
  };
  Ma.prototype.onReportAd = function(b) {
    b.preventDefault();
    if (!this._reportSent) {
      b = this._container.querySelector(".report-choice-radio:checked");
      var a = this._container.querySelector(".report-confirmed-text");
      b && b.id ? (this._reportSent = !0, this.handleReportText(!0, a), this._onReport.trigger(this._campaign, b.id)) : this.handleReportText(!1, a);
    }
  };
  Ma.prototype.handleReportText = function(b, a) {
    a && (b ? (a.innerHTML = "Thank you for your help. Your Ad will close shortly.", a.classList.contains("active") || a.classList.toggle("active")) : (a.innerHTML = "Please select an option from the list above.", a.classList.toggle("active")));
  };
  Ma.prototype.setCardState = function(b) {
    var a = this._container.querySelector(".left-side-link"), c = this._container.querySelector(".middle-link"), d = this._container.classList;
    switch(this._currentState) {
      case Cc.PRIVACY:
        a.innerText = "Privacy info \ud83d\udc41";
        b ? (this._currentState = Cc.BUILD, c.innerText = "Report Ad \u2691", d.add("build")) : (this._currentState = Cc.REPORT, c.innerText = "Build info \u2699", d.add("report"));
        break;
      case Cc.BUILD:
        d.remove("build");
        b ? (this._currentState = Cc.PRIVACY, a.innerText = "Build info \u2699", c.innerText = "Report Ad \u2691") : (this._currentState = Cc.REPORT, a.innerText = "Privacy info \ud83d\udc41", c.innerText = "Build info \u2699", d.add("report"));
        break;
      case Cc.REPORT:
        d.remove("report");
        c.innerText = "Report Ad \u2691";
        b ? (this._currentState = Cc.PRIVACY, a.innerText = "Build info \u2699") : (this._currentState = Cc.BUILD, a.innerText = "Privacy info \ud83d\udc41", d.add("build"));
        break;
      default:
        this._currentState = Cc.PRIVACY, a.innerText = "Build info \u2699", c.innerText = "Report Ad \u2691";
    }
  };
  Ma.prototype.editPopupPerUser = function() {
    var b = this;
    this._personalInfoObtained || this._gdprManager.retrievePersonalInformation().then(function(a) {
      b._personalInfoObtained = !0;
      document.getElementById("sorry-message").innerHTML = "";
      document.getElementById("phone-type").innerHTML = " - Using " + a.deviceModel;
      document.getElementById("country").innerHTML = " - Located in " + a.country;
      document.getElementById("game-plays-this-week").innerHTML = " - Used this app " + a.gamePlaysThisWeek + " times this week";
      document.getElementById("ads-seen-in-game").innerHTML = " - Seen " + a.adsSeenInGameThisWeek + " ads in this app";
      document.getElementById("games-installed-from-ads").innerHTML = " - Installed " + a.installsFromAds + " apps based on those ads";
    }).catch(function(a) {
      F.trigger("gdpr_personal_info_failed", a);
      document.getElementById("sorry-message").innerHTML = "Sorry. We were unable to deliver our collected information at this time.";
    });
  };
  Ma.onUserReport = function(b, a, c) {
    if (c instanceof K) {
      var d = c.description();
      var e = M[c.getFinishState()];
      var f = c.isCached();
      c.markAsSkipped();
    } else {
      d = b.getAdType(), e = "VIDEO_PROGRESS";
    }
    b = {creativeId:b.getCreativeId(), reason:a, adType:d, seatId:b.getSeatId(), finishState:e, isCached:f};
    F.trigger("reported_ad", b);
  };
  Ma.timeoutAd = function(b) {
    return new Promise(function() {
      setTimeout(function() {
        return b.hide();
      }, 4000);
    });
  };
  Ma.setupReportListener = function(b, a) {
    var c = this;
    b._onReport.subscribe(function(d, e) {
      c.onUserReport(d, e, a);
      c.timeoutAd(a);
      b._onReport.unsubscribe();
    });
  };
  ia.setForcedGDPRBanner = function(b) {
    ia._forceGDPRBanner = b;
  };
  ia.prototype.createEndScreenParameters = function(b, a, c) {
    var d = this.showGDPRBanner(c);
    return {platform:c.platform, core:c.core, language:c.deviceInfo.getLanguage(), gameId:c.clientInfo.getGameId(), targetGameName:a, abGroup:c.coreConfig.getAbGroup(), privacy:b, showGDPRBanner:d, adUnitStyle:void 0, campaignId:void 0, osVersion:void 0};
  };
  ia.prototype.prepareVideoPlayer = function(b, a) {
    var c = a.adUnit, d = new b(a);
    a.ads.VideoPlayer.addEventHandler(d);
    c.onClose.subscribe(function() {
      a.ads.VideoPlayer.removeEventHandler(d);
    });
    a.platform === m.ANDROID ? this.prepareAndroidVideoPlayer(a) : a.platform === m.IOS && this.prepareIosVideoPlayer(a);
    return d;
  };
  ia.prototype.prepareAndroidVideoPlayer = function(b) {
    var a = b.adUnit, c = new Id(b);
    b.ads.VideoPlayer.Android.addEventHandler(c);
    a.onClose.subscribe(function() {
      b.ads.VideoPlayer.Android.removeEventHandler(c);
    });
  };
  ia.prototype.prepareIosVideoPlayer = function(b) {
    var a = b.adUnit, c = new re(b);
    b.ads.VideoPlayer.iOS.addEventHandler(c);
    a.onClose.subscribe(function() {
      b.ads.VideoPlayer.iOS.removeEventHandler(c);
    });
  };
  ia.prototype.createOverlay = function(b, a, c) {
    var d = b.campaign instanceof la ? this.showGDPRBanner(b) : !1;
    a = b.placement.allowSkip() && b.placement.skipEndCardOnClose() ? new db(b.platform, b.campaign, b.placement.muteVideo(), b.deviceInfo.getLanguage(), b.clientInfo.getGameId()) : new ba(b, a, d, c);
    b.placement.disableVideoControlsFade() && a.setFadeEnabled(!1);
    return a;
  };
  ia.prototype.getVideoEventHandlerParams = function(b, a, c, d) {
    return {platform:d.platform, adUnit:b, campaign:d.campaign, operativeEventManager:d.operativeEventManager, thirdPartyEventManager:d.thirdPartyEventManager, coreConfig:d.coreConfig, adsConfig:d.adsConfig, placement:d.placement, video:a, adUnitStyle:c, clientInfo:d.clientInfo, core:d.core, ads:d.ads};
  };
  ia.prototype.getVideo = function(b, a) {
    b = Sa.getOrientedVideo(b, a);
    if (!b) {
      throw new pb("Unable to select an oriented video");
    }
    return b;
  };
  ia.prototype.createPrivacy = function(b) {
    var a = new Ma(b.platform, b.campaign, b.gdprManager, b.adsConfig.isGDPREnabled(), b.coreConfig.isCoppaCompliant());
    b = new pf(b);
    a.addEventHandler(b);
    return a;
  };
  ia.prototype.showGDPRBanner = function(b) {
    return ia._forceGDPRBanner ? !0 : b.adsConfig.isGDPREnabled() ? !b.adsConfig.isOptOutRecorded() : !1;
  };
  ia._forceGDPRBanner = !1;
  h.inherits(bg, ia);
  bg.prototype.createAdUnit = function(b) {
    if (!b.adMobSignalFactory) {
      throw Error("AdMobSignalFactory is undefined, should not get here.");
    }
    var a = this.createPrivacy(b), c = this.showGDPRBanner(b);
    c = new da(b.platform, b.core, b.adMobSignalFactory, b.container, b.campaign, b.deviceInfo.getLanguage(), b.clientInfo.getGameId(), a, c, b.programmaticTrackingService);
    c.render();
    var d = Object.assign({}, b, {view:c});
    d = new sa(d);
    b = new Xa({platform:b.platform, core:b.core, adUnit:d, request:b.request, thirdPartyEventManager:b.thirdPartyEventManager, session:b.campaign.getSession(), adMobSignalFactory:b.adMobSignalFactory, campaign:b.campaign, clientInfo:b.clientInfo, coreConfig:b.coreConfig, adsConfig:b.adsConfig, gdprManager:b.gdprManager});
    c.addEventHandler(b);
    Ma.setupReportListener(a, d);
    return d;
  };
  Ea.getFileId = function(b, a) {
    var c = this;
    if (b in this._fileIds) {
      return Promise.resolve(this._fileIds[b]);
    }
    -1 !== b.indexOf("?") && (b = b.split("?")[0]);
    var d, e = b, f = b.split("/");
    1 < f.length && (e = f[f.length - 1]);
    e = e.split(".");
    1 < e.length && (d = e[e.length - 1]);
    return a.getHash(b).then(function(a) {
      return d ? c._fileIds[b] = a + "." + d : c._fileIds[b] = a;
    });
  };
  Ea.getFileIdHash = function(b) {
    return b.split(".", 2)[0];
  };
  Ea.getFileIdExtension = function(b) {
    return b.split(".", 2)[1];
  };
  Ea.getFileUrl = function(b, a) {
    return a.getFilePath(b).then(function(a) {
      return "file://" + a;
    });
  };
  Ea.setFileID = function(b, a) {
    this._fileIds[b] = a;
  };
  Ea._fileIds = {};
  h.inherits(de, Error);
  var R;
  (function(b) {
    b[b.XML_PARSER_ERROR = 100] = "XML_PARSER_ERROR";
    b[b.SCHEMA_VAL_ERROR = 101] = "SCHEMA_VAL_ERROR";
    b[b.VERSION_UNSUPPORTED = 102] = "VERSION_UNSUPPORTED";
    b[b.FORMAT_UNSUPPORTED = 200] = "FORMAT_UNSUPPORTED";
    b[b.DURATION_UNSUPPORTED = 202] = "DURATION_UNSUPPORTED";
    b[b.SIZE_UNSUPPORTED = 203] = "SIZE_UNSUPPORTED";
    b[b.WRAPPER_GENERAL_ERROR = 300] = "WRAPPER_GENERAL_ERROR";
    b[b.WRAPPER_URI_TIMEOUT = 301] = "WRAPPER_URI_TIMEOUT";
    b[b.WRAPPER_DEPTH_LIMIT_REACHED = 302] = "WRAPPER_DEPTH_LIMIT_REACHED";
    b[b.WRAPPER_NO_ADS_FOUND = 303] = "WRAPPER_NO_ADS_FOUND";
    b[b.LINEAR_UNABLE_TO_PLAY = 400] = "LINEAR_UNABLE_TO_PLAY";
    b[b.MEDIA_FILE_URL_NOT_FOUND = 401] = "MEDIA_FILE_URL_NOT_FOUND";
    b[b.MEDIA_FILE_TIMEOUT = 402] = "MEDIA_FILE_TIMEOUT";
    b[b.MEDIA_FILE_UNSUPPORTED = 403] = "MEDIA_FILE_UNSUPPORTED";
    b[b.MEDIA_FILE_UNSUPPORTED_IOS = 404] = "MEDIA_FILE_UNSUPPORTED_IOS";
    b[b.MEDIA_FILE_PLAY_ERROR = 405] = "MEDIA_FILE_PLAY_ERROR";
    b[b.COMPANION_GENERAL_ERROR = 600] = "COMPANION_GENERAL_ERROR";
    b[b.COMPANION_SIZE_UNSUPPORTED = 601] = "COMPANION_SIZE_UNSUPPORTED";
    b[b.COMPANION_UNABLE_TO_DISPLAY = 602] = "COMPANION_UNABLE_TO_DISPLAY";
    b[b.COMPANION_UNABLE_TO_FETCH = 603] = "COMPANION_UNABLE_TO_FETCH";
    b[b.COMPANION_RESOURCE_NOT_FOUND = 604] = "COMPANION_RESOURCE_NOT_FOUND";
    b[b.UNDEFINED_ERROR = 900] = "UNDEFINED_ERROR";
    b[b.GENERAL_VPAID_ERROR = 901] = "GENERAL_VPAID_ERROR";
    b[b.UNKNOWN_ERROR = 9999] = "UNKNOWN_ERROR";
  })(R || (R = {}));
  var Ia = {};
  Hd.errorMap = (Ia[R.XML_PARSER_ERROR] = "VAST xml data is missing", Ia[R.SCHEMA_VAL_ERROR] = "VAST schema validation error", Ia[R.VERSION_UNSUPPORTED] = "VAST version Unsupported", Ia[R.FORMAT_UNSUPPORTED] = "VAST format unsupported", Ia[R.DURATION_UNSUPPORTED] = "VAST duration unsupported", Ia[R.SIZE_UNSUPPORTED] = "VAST size unsupported", Ia[R.WRAPPER_GENERAL_ERROR] = "Wrapper ad request failed", Ia[R.WRAPPER_URI_TIMEOUT] = "Wrapper ad request timed out", Ia[R.WRAPPER_DEPTH_LIMIT_REACHED] = "Wrapper depth exceeded", 
  Ia[R.WRAPPER_NO_ADS_FOUND] = "No ads found in Wrapper response", Ia[R.LINEAR_UNABLE_TO_PLAY] = "General error from Linear Ad", Ia[R.MEDIA_FILE_URL_NOT_FOUND] = "No video URL found for VAST", Ia[R.MEDIA_FILE_TIMEOUT] = "Media file URI timed out", Ia[R.MEDIA_FILE_UNSUPPORTED] = "No Media file found supported in Video Player", Ia[R.MEDIA_FILE_UNSUPPORTED_IOS] = "Campaign video url needs to be https for iOS", Ia[R.MEDIA_FILE_PLAY_ERROR] = "Problem displaying Media file", Ia[R.COMPANION_GENERAL_ERROR] = 
  "General error from Companion Ad", Ia[R.COMPANION_SIZE_UNSUPPORTED] = "Companion creative size unsupported", Ia[R.COMPANION_UNABLE_TO_DISPLAY] = "Companion unable to displayg", Ia[R.COMPANION_UNABLE_TO_FETCH] = "Unable to fetch Companion resource", Ia[R.COMPANION_RESOURCE_NOT_FOUND] = "Supported Companion resource not found", Ia[R.UNDEFINED_ERROR] = "Undefined Error", Ia[R.GENERAL_VPAID_ERROR] = "General VPAID error", Ia[R.UNKNOWN_ERROR] = "Unknown Error", Ia);
  cg.prototype.handleCampaignError = function(b) {
    if (b.errorTrackingUrl) {
      var a = b.errorCode ? b.errorCode : R.UNDEFINED_ERROR, c = this.formatVASTErrorURL(b.errorTrackingUrl, a, b.assetUrl);
      this._core.Sdk.logInfo("VAST Campaign Error tracking url: " + c + " with errorCode: " + a + " errorMessage: " + b.errorMessage);
      this._request.get(c, []).then(function() {
        return Promise.resolve();
      });
    }
    return Promise.reject(Error("VastCampaignErrorHandler errorTrackingUrl was undefined"));
  };
  cg.prototype.formatVASTErrorURL = function(b, a, c) {
    b = b.replace("[ERRORCODE]", a.toString());
    c && (b = b.replace("[ASSETURI]", y.encodeParam(c)));
    return b;
  };
  var Qc;
  (function(b) {
    b.ProgrammaticVast = "programmatic/vast";
    b.ProgrammaticMraid = "programmatic/mraid";
    b.ProgrammaticMraidUrl = "programmatic/mraid-url";
    b.ProgrammaticVpaid = "programmatic/vast-vpaid";
  })(Qc || (Qc = {}));
  h.inherits(wa, A);
  wa.prototype.getAds = function() {
    return this.get("ads");
  };
  wa.prototype.getErrorURLTemplates = function() {
    var b = this.getAd();
    return b && (b = b.getErrorURLTemplates(), b instanceof Array) ? b.concat(this.get("errorURLTemplates") || []) : this.get("errorURLTemplates");
  };
  wa.prototype.getErrorURLTemplate = function() {
    var b = this.getErrorURLTemplates();
    return 0 < b.length ? b[0] : null;
  };
  wa.prototype.getAd = function() {
    return this.getAds() && 0 < this.getAds().length ? this.getAds()[0] : null;
  };
  wa.prototype.getVideoUrl = function() {
    var b = this.getAd();
    if (b) {
      b = h.makeIterator(b.getCreatives());
      for (var a = b.next(); !a.done; a = b.next()) {
        a = h.makeIterator(a.value.getMediaFiles());
        for (var c = a.next(); !c.done; c = a.next()) {
          c = c.value;
          var d = c.getMIMEType();
          d = d && this.isSupportedMIMEType(d);
          if ((c = c.getFileURL()) && d) {
            return c;
          }
        }
      }
    }
    throw new de(Hd.errorMap[R.MEDIA_FILE_URL_NOT_FOUND], Qc.ProgrammaticVast);
  };
  wa.prototype.getMediaVideoUrl = function() {
    var b = this.getAd();
    if (b) {
      b = h.makeIterator(b.getCreatives());
      for (var a = b.next(); !a.done; a = b.next()) {
        a = h.makeIterator(a.value.getMediaFiles());
        for (var c = a.next(); !c.done; c = a.next()) {
          c = c.value;
          var d = c.getMIMEType();
          d = d && this.isSupportedMIMEType(d);
          if ((c = c.getFileURL()) && d) {
            return c;
          }
        }
      }
    }
    return null;
  };
  wa.prototype.getImpressionUrls = function() {
    var b = this.getAd();
    return b ? b.getImpressionURLTemplates() : [];
  };
  wa.prototype.getTrackingEventUrls = function(b) {
    var a = this.getAd();
    if (a) {
      a = a.getTrackingEventUrls(b);
      var c = [];
      this.get("additionalTrackingEvents") && (c = this.get("additionalTrackingEvents")[b] || []);
      return a instanceof Array ? a.concat(c) : c;
    }
    return [];
  };
  wa.prototype.addTrackingEventUrl = function(b, a) {
    this.get("additionalTrackingEvents") || this.set("additionalTrackingEvents", {});
    this.get("additionalTrackingEvents")[b] || (this.get("additionalTrackingEvents")[b] = []);
    this.get("additionalTrackingEvents")[b].push(a);
  };
  wa.prototype.getDuration = function() {
    var b = this.getAd();
    return b ? b.getDuration() : null;
  };
  wa.prototype.getWrapperURL = function() {
    var b = this.getAd();
    return b ? b.getWrapperURL() : null;
  };
  wa.prototype.getVideoClickThroughURL = function() {
    var b = this.getAd();
    return b ? b.getVideoClickThroughURLTemplate() : null;
  };
  wa.prototype.getVideoClickTrackingURLs = function() {
    var b = this.getAd();
    return b ? b.getVideoClickTrackingURLTemplates() : null;
  };
  wa.prototype.getLandscapeOrientedCompanionAd = function() {
    var b = this.getAd();
    if (b && (b = b.getCompanionAds())) {
      b = h.makeIterator(b);
      for (var a = b.next(); !a.done; a = b.next()) {
        if (a = a.value, this.isValidLandscapeCompanion(a.getCreativeType(), a.getHeight(), a.getWidth())) {
          return a;
        }
      }
    }
    return null;
  };
  wa.prototype.getCompanionLandscapeUrl = function() {
    var b = this.getLandscapeOrientedCompanionAd();
    return b ? b.getStaticResourceURL() : null;
  };
  wa.prototype.getPortraitOrientedCompanionAd = function() {
    var b = this.getAd();
    if (b && (b = b.getCompanionAds())) {
      b = h.makeIterator(b);
      for (var a = b.next(); !a.done; a = b.next()) {
        if (a = a.value, this.isValidPortraitCompanion(a.getCreativeType(), a.getHeight(), a.getWidth())) {
          return a;
        }
      }
    }
    return null;
  };
  wa.prototype.getCompanionPortraitUrl = function() {
    var b = this.getPortraitOrientedCompanionAd();
    return b ? b.getStaticResourceURL() : null;
  };
  wa.prototype.getCompanionClickThroughUrl = function() {
    var b = this.getAd();
    if (b && (b = b.getCompanionAds())) {
      b = h.makeIterator(b);
      for (var a = b.next(); !a.done; a = b.next()) {
        var c = a.value;
        a = c.getCompanionClickThroughURLTemplate();
        var d = c.getHeight(), e = c.getWidth();
        c = c.getCreativeType();
        d = this.isValidPortraitCompanion(c, d, e) || this.isValidLandscapeCompanion(c, d, e);
        if (a && d) {
          return a;
        }
      }
    }
    return null;
  };
  wa.prototype.getVideoMediaFiles = function() {
    var b = this.getAd(), a = [];
    if (b) {
      b = h.makeIterator(b.getCreatives());
      for (var c = b.next(); !c.done; c = b.next()) {
        c = h.makeIterator(c.value.getMediaFiles());
        for (var d = c.next(); !d.done; d = c.next()) {
          d = d.value;
          var e = d.getMIMEType();
          e = e && this.isSupportedMIMEType(e);
          var f = d.getFileURL();
          e && f && a.push(d);
        }
      }
    }
    return a;
  };
  wa.prototype.getDTO = function() {
    for (var b = [], a = h.makeIterator(this.get("ads")), c = a.next(); !c.done; c = a.next()) {
      b.push(c.value.getDTO());
    }
    return {ads:b, errorURLTemplates:this.get("errorURLTemplates"), additionalTrackingEvents:this.get("additionalTrackingEvents")};
  };
  wa.prototype.getCompanionCreativeViewTrackingUrls = function() {
    var b = this.getAd();
    return b ? b.getCompanionCreativeViewTrackingUrls() : [];
  };
  wa.prototype.isValidLandscapeCompanion = function(b, a, c) {
    return this.isValidCompanionCreativeType(b) && a < c && 320 <= a && 480 <= c;
  };
  wa.prototype.isValidPortraitCompanion = function(b, a, c) {
    return this.isValidCompanionCreativeType(b) && a > c && 480 <= a && 320 <= c;
  };
  wa.prototype.isValidCompanionCreativeType = function(b) {
    var a = /(jpe?g|gif|png)/gi;
    return !!b && a.test(b);
  };
  wa.prototype.isSupportedMIMEType = function(b) {
    b = b.toLowerCase();
    return "video/mp4" === b;
  };
  h.inherits(Gd, A);
  Gd.prototype.getType = function() {
    return this.get("type");
  };
  Gd.prototype.getTrackingEvents = function() {
    return this.get("trackingEvents");
  };
  Gd.prototype.addTrackingEvent = function(b, a) {
    null == this.get("trackingEvents")[b] && (this.get("trackingEvents")[b] = []);
    this.get("trackingEvents")[b].push(a);
  };
  Gd.prototype.getDTO = function() {
    return {type:this.getType(), trackingEvents:this.getTrackingEvents()};
  };
  h.inherits(mb, Gd);
  mb.prototype.setAdParameters = function(b) {
    this.set("adParameters", b);
  };
  mb.prototype.getDuration = function() {
    return this.get("duration");
  };
  mb.prototype.setDuration = function(b) {
    this.set("duration", b);
  };
  mb.prototype.getSkipDelay = function() {
    return this.get("skipDelay");
  };
  mb.prototype.setSkipDelay = function(b) {
    this.set("skipDelay", b);
  };
  mb.prototype.getMediaFiles = function() {
    return this.get("mediaFiles");
  };
  mb.prototype.addMediaFile = function(b) {
    this.get("mediaFiles").push(b);
  };
  mb.prototype.getVideoClickThroughURLTemplate = function() {
    return this.get("videoClickThroughURLTemplate");
  };
  mb.prototype.setVideoClickThroughURLTemplate = function(b) {
    this.set("videoClickThroughURLTemplate", b || null);
  };
  mb.prototype.getVideoClickTrackingURLTemplates = function() {
    return this.get("videoClickTrackingURLTemplates");
  };
  mb.prototype.addVideoClickTrackingURLTemplate = function(b) {
    this.get("videoClickTrackingURLTemplates").push(b);
  };
  mb.prototype.getVideoCustomClickURLTemplates = function() {
    return this.get("videoCustomClickURLTemplates");
  };
  mb.prototype.getAdParameters = function() {
    return this.get("adParameters");
  };
  mb.prototype.getDTO = function() {
    for (var b = [], a = h.makeIterator(this.getMediaFiles()), c = a.next(); !c.done; c = a.next()) {
      b.push(c.value.getDTO());
    }
    return {vastCreative:Gd.prototype.getDTO.call(this), duration:this.getDuration(), skipDelay:this.getSkipDelay(), mediaFiles:b, videoClickThroughURLTemplate:this.getVideoClickThroughURLTemplate(), videoClickTrackingURLTemplates:this.getVideoClickTrackingURLTemplates(), videoCustomClickURLTemplates:this.getVideoCustomClickURLTemplates(), adParameters:this.getAdParameters()};
  };
  h.inherits(La, A);
  La.prototype.getId = function() {
    return this.get("id");
  };
  La.prototype.setId = function(b) {
    this.set("id", b);
  };
  La.prototype.getCreatives = function() {
    return this.get("creatives");
  };
  La.prototype.getCreative = function() {
    return this.getCreatives() && 0 < this.getCreatives().length ? this.getCreatives()[0] : null;
  };
  La.prototype.addCreative = function(b) {
    this.get("creatives").push(b);
  };
  La.prototype.getCompanionAds = function() {
    return this.get("companionAds");
  };
  La.prototype.addCompanionAd = function(b) {
    this.get("companionAds").push(b);
  };
  La.prototype.getErrorURLTemplates = function() {
    return this.get("errorURLTemplates");
  };
  La.prototype.addErrorURLTemplate = function(b) {
    this.get("errorURLTemplates").push(b);
  };
  La.prototype.getImpressionURLTemplates = function() {
    return this.get("impressionURLTemplates");
  };
  La.prototype.addImpressionURLTemplate = function(b) {
    this.get("impressionURLTemplates").push(b);
  };
  La.prototype.getWrapperURL = function() {
    return this.get("wrapperURLs")[0];
  };
  La.prototype.getWrapperURLs = function() {
    return this.get("wrapperURLs");
  };
  La.prototype.addWrapperURL = function(b) {
    this.get("wrapperURLs").push(b);
  };
  La.prototype.getTrackingEventUrls = function(b) {
    var a = this.getCreative();
    return a && a.getTrackingEvents() ? a.getTrackingEvents()[b] : null;
  };
  La.prototype.getDuration = function() {
    var b = this.getCreative();
    return b ? b.getDuration() : null;
  };
  La.prototype.getVideoClickThroughURLTemplate = function() {
    var b = this.getCreative();
    return b instanceof mb ? b.getVideoClickThroughURLTemplate() : null;
  };
  La.prototype.getVideoClickTrackingURLTemplates = function() {
    var b = this.getCreative();
    return b instanceof mb ? b.getVideoClickTrackingURLTemplates() : [];
  };
  La.prototype.addVideoClickTrackingURLTemplate = function(b) {
    var a = this.getCreative();
    a instanceof mb && a.addVideoClickTrackingURLTemplate(b);
  };
  La.prototype.getDTO = function() {
    for (var b = [], a = h.makeIterator(this.get("creatives")), c = a.next(); !c.done; c = a.next()) {
      b.push(c.value.getDTO());
    }
    a = [];
    c = h.makeIterator(this.get("companionAds"));
    for (var d = c.next(); !d.done; d = c.next()) {
      a.push(d.value.getDTO());
    }
    return {id:this.getId(), errorURLTemplates:this.getErrorURLTemplates(), impressionURLTemplates:this.getImpressionURLTemplates(), wrapperURLs:this.getWrapperURLs(), vastCreatives:b, companionAds:a};
  };
  La.prototype.getCompanionCreativeViewTrackingUrls = function() {
    return this.getCompanionEventTrackingUrls("creativeView");
  };
  La.prototype.getCompanionEventTrackingUrls = function(b) {
    var a = [], c = this.getCompanionAds();
    c = h.makeIterator(c);
    for (var d = c.next(); !d.done; d = c.next()) {
      a = a.concat(d.value.getEventTrackingUrls(b));
    }
    return a;
  };
  h.inherits(yc, A);
  yc.prototype.getId = function() {
    return this.get("id");
  };
  yc.prototype.getCreativeType = function() {
    return this.get("creativeType");
  };
  yc.prototype.getType = function() {
    return this.get("type");
  };
  yc.prototype.getStaticResourceURL = function() {
    return this.get("staticResourceURL");
  };
  yc.prototype.getCompanionClickThroughURLTemplate = function() {
    return this.get("companionClickThroughURLTemplate");
  };
  yc.prototype.getHeight = function() {
    return this.get("height");
  };
  yc.prototype.getWidth = function() {
    return this.get("width");
  };
  yc.prototype.getDTO = function() {
    return {id:this.getId(), width:this.getWidth(), height:this.getHeight(), type:this.getType(), staticResourceURL:this.getStaticResourceURL(), creativeType:this.getCreativeType(), companionClickThroughURLTemplate:this.getCompanionClickThroughURLTemplate()};
  };
  yc.prototype.getTrackingEvents = function() {
    return this.get("trackingEvents") || {};
  };
  yc.prototype.getEventTrackingUrls = function(b) {
    var a = this.getTrackingEvents();
    return a ? a[b] || [] : [];
  };
  h.inherits(Mb, A);
  Mb.prototype.getFileURL = function() {
    return this.get("fileURL");
  };
  Mb.prototype.getDeliveryType = function() {
    return this.get("deliveryType");
  };
  Mb.prototype.getMIMEType = function() {
    return this.get("mimeType");
  };
  Mb.prototype.getCodec = function() {
    return this.get("codec");
  };
  Mb.prototype.getBitrate = function() {
    return this.get("bitrate");
  };
  Mb.prototype.getMinBitrate = function() {
    return this.get("minBitrate");
  };
  Mb.prototype.getMaxBitrate = function() {
    return this.get("maxBitrate");
  };
  Mb.prototype.getWidth = function() {
    return this.get("width");
  };
  Mb.prototype.getHeight = function() {
    return this.get("height");
  };
  Mb.prototype.getApiFramework = function() {
    return this.get("apiFramework");
  };
  Mb.prototype.getScalable = function() {
    return this.get("scalable");
  };
  Mb.prototype.getMaintainAspectRation = function() {
    return this.get("maintainAspectRatio");
  };
  Mb.prototype.getFileSize = function() {
    return this.get("fileSize");
  };
  Mb.prototype.getDTO = function() {
    return {fileURL:this.getFileURL(), deliveryType:this.getDeliveryType(), mimeType:this.getMIMEType(), codec:this.getCodec(), bitrate:this.getBitrate(), minBitrate:this.getMinBitrate(), maxBitrate:this.getMaxBitrate(), width:this.getWidth(), height:this.getHeight(), apiFramework:this.getApiFramework(), scalable:this.getScalable(), maintainAspectRatio:this.getMaintainAspectRation(), fileSize:this.getFileSize()};
  };
  Ra.createDOMParser = function() {
    return new DOMParser;
  };
  Ra.prototype.setMaxWrapperDepth = function(b) {
    this._maxWrapperDepth = b;
  };
  Ra.prototype.parseMediaFileSize = function(b, a) {
    return b * a * 1000 / 8;
  };
  Ra.prototype.parseVast = function(b) {
    if (!b) {
      throw Error("VAST data is missing");
    }
    var a = this._domParser.parseFromString(b, "text/xml");
    b = [];
    var c = [];
    if (!a || !a.documentElement || "VAST" !== a.documentElement.nodeName) {
      throw Error("VAST xml data is missing");
    }
    a = a.documentElement.childNodes;
    for (var d = h.makeIterator(a), e = d.next(); !e.done; e = d.next()) {
      e = e.value, "Error" === e.nodeName && c.push(this.parseNodeText(e));
    }
    a = h.makeIterator(a);
    for (e = a.next(); !e.done; e = a.next()) {
      d = e.value, 0 === b.length && "Ad" === d.nodeName && (d = this.parseAdElement(d), null != d && b.push(d));
    }
    if (0 === b.length) {
      throw Error("VAST Ad tag is missing");
    }
    return new wa(b, c);
  };
  Ra.prototype.retrieveVast = function(b, a, c, d, e) {
    var f = this;
    e = void 0 === e ? 0 : e;
    0 === e && (this._rootWrapperVast = b);
    try {
      var g = this.parseVast(b);
    } catch (k) {
      throw b = new fb(k, {vast:b, wrapperDepth:e}), 0 < e && (b.diagnostic.rootWrapperVast = this._rootWrapperVast), b;
    }
    this.applyParentURLs(g, d);
    b = g.getWrapperURL();
    if (!b) {
      return Promise.resolve(g);
    }
    if (e >= this._maxWrapperDepth) {
      throw Error(Hd.errorMap[R.WRAPPER_DEPTH_LIMIT_REACHED]);
    }
    b = y.encodeUrlWithQueryParams(b);
    a.Sdk.logDebug("Unity Ads is requesting VAST ad unit from " + b);
    return c.get(b, [], {retries:2, retryDelay:10000, followRedirects:!0, retryWithConnectionEvents:!1}).then(function(b) {
      return f.retrieveVast(b.response, a, c, g, e + 1);
    });
  };
  Ra.prototype.applyParentURLs = function(b, a) {
    if (a) {
      var c = a.getAd(), d = b.getAd();
      if (c && d) {
        for (var e = h.makeIterator(c.getErrorURLTemplates()), f = e.next(); !f.done; f = e.next()) {
          d.addErrorURLTemplate(f.value);
        }
        e = h.makeIterator(c.getImpressionURLTemplates());
        for (f = e.next(); !f.done; f = e.next()) {
          d.addImpressionURLTemplate(f.value);
        }
        c = h.makeIterator(c.getVideoClickTrackingURLTemplates());
        for (e = c.next(); !e.done; e = c.next()) {
          d.addVideoClickTrackingURLTemplate(e.value);
        }
        d = h.makeIterator("creativeView start firstQuartile midpoint thirdQuartile complete mute unmute".split(" "));
        for (c = d.next(); !c.done; c = d.next()) {
          for (c = c.value, e = h.makeIterator(a.getTrackingEventUrls(c)), f = e.next(); !f.done; f = e.next()) {
            b.addTrackingEventUrl(c, f.value);
          }
        }
      }
    }
  };
  Ra.prototype.parseNodeText = function(b) {
    (b = b && (b.textContent || b.text)) && (b = b.trim());
    return b;
  };
  Ra.prototype.parseAdElement = function(b) {
    for (var a, c = h.makeIterator(b.childNodes), d = c.next(); !d.done; d = c.next()) {
      d = d.value;
      if ("Wrapper" === d.nodeName) {
        a = this.parseWrapperElement(d);
        break;
      }
      if ("InLine" === d.nodeName) {
        a = this.parseInLineElement(d);
        break;
      }
    }
    a && a.setId(b.getAttribute("id"));
    return a;
  };
  Ra.prototype.parseWrapperElement = function(b) {
    return this.parseInLineElement(b);
  };
  Ra.prototype.parseInLineElement = function(b) {
    var a = new La;
    b = h.makeIterator(b.childNodes);
    for (var c = b.next(); !c.done; c = b.next()) {
      c = c.value;
      var d = this.parseNodeText(c);
      switch(c.nodeName) {
        case "Error":
          d && a.addErrorURLTemplate(d);
          break;
        case "Impression":
          d && a.addImpressionURLTemplate(d);
          break;
        case "Creatives":
          c = this.childsByName(c, "Creative");
          c = h.makeIterator(c);
          for (d = c.next(); !d.done; d = c.next()) {
            d = h.makeIterator(d.value.childNodes);
            for (var e = d.next(); !e.done; e = d.next()) {
              switch(e = e.value, e.nodeName) {
                case "Linear":
                  0 === a.getCreatives().length && (e = this.parseCreativeLinearElement(e)) && a.addCreative(e);
                  break;
                case "CompanionAds":
                  e = this.childsByName(e, "Companion");
                  e = h.makeIterator(e);
                  for (var f = e.next(); !f.done; f = e.next()) {
                    (f = this.parseCreativeCompanionAdElement(f.value)) && a.addCompanionAd(f);
                  }
              }
            }
          }
          break;
        case "VASTAdTagURI":
          d && a.addWrapperURL(d);
      }
    }
    return a;
  };
  Ra.prototype.parseCreativeLinearElement = function(b) {
    var a = new mb;
    a.setDuration(this.parseDuration(this.parseNodeText(this.childByName(b, "Duration"))));
    if (-1 === a.getDuration() && "Wrapper" !== b.parentNode.parentNode.parentNode.nodeName) {
      return null;
    }
    var c = a.getDuration(), d = b.getAttribute("skipoffset");
    null == d ? a.setSkipDelay(null) : "%" === d.charAt(d.length - 1) ? (d = parseInt(d, 10), a.setSkipDelay(a.getDuration() * (d / 100))) : a.setSkipDelay(this.parseDuration(d));
    d = this.childByName(b, "VideoClicks");
    if (null != d) {
      a.setVideoClickThroughURLTemplate(this.parseNodeText(this.childByName(d, "ClickThrough")));
      d = this.childsByName(d, "ClickTracking");
      d = h.makeIterator(d);
      for (var e = d.next(); !e.done; e = d.next()) {
        e = this.parseNodeText(e.value), null != e && a.addVideoClickTrackingURLTemplate(e);
      }
    }
    d = this.childsByName(b, "TrackingEvents");
    d = h.makeIterator(d);
    for (e = d.next(); !e.done; e = d.next()) {
      e = this.childsByName(e.value, "Tracking");
      e = h.makeIterator(e);
      for (var f = e.next(); !f.done; f = e.next()) {
        var g = f.value;
        f = g.getAttribute("event");
        g = this.parseNodeText(g);
        null != f && null != g && a.addTrackingEvent(f, g);
      }
    }
    d = this.childsByName(b, "MediaFiles");
    if (0 < d.length) {
      for (d = this.childsByName(d[0], "MediaFile"), d = h.makeIterator(d), e = d.next(); !e.done; e = d.next()) {
        e = e.value, e = new Mb(this.parseNodeText(e), e.getAttribute("delivery"), e.getAttribute("codec"), e.getAttribute("type"), parseInt(e.getAttribute("bitrate") || 0, 10), parseInt(e.getAttribute("minBitrate") || 0, 10), parseInt(e.getAttribute("maxBitrate") || 0, 10), parseInt(e.getAttribute("width") || 0, 10), parseInt(e.getAttribute("height") || 0, 10), e.getAttribute("apiFramework"), this.parseMediaFileSize(c, parseInt(e.getAttribute("bitrate") || 0, 10))), a.addMediaFile(e);
      }
    }
    (b = this.childByName(b, "AdParameters")) && (b = this.parseNodeText(b)) && a.setAdParameters(b);
    return a;
  };
  Ra.prototype.parseCreativeCompanionAdElement = function(b) {
    var a = this.childByName(b, "StaticResource"), c = this.childByName(b, "CompanionClickThrough");
    if (b && a) {
      var d = b.getAttribute("id"), e = parseInt(b.getAttribute("height") || 0, 10), f = parseInt(b.getAttribute("width") || 0, 10), g = a.getAttribute("creativeType");
      a = this.parseNodeText(a);
      c = this.parseNodeText(c);
      b = this.getTrackingEventsFromElement(b);
      return new yc(d, g, e, f, a, c, b);
    }
    return null;
  };
  Ra.prototype.getTrackingEventsFromElement = function(b) {
    var a = {};
    b = this.childsByName(b, "TrackingEvents");
    b = h.makeIterator(b);
    for (var c = b.next(); !c.done; c = b.next()) {
      c = this.childsByName(c.value, "Tracking");
      c = h.makeIterator(c);
      for (var d = c.next(); !d.done; d = c.next()) {
        var e = d.value;
        d = e.getAttribute("event");
        e = this.parseNodeText(e);
        null != d && null != e && (void 0 !== a[d] ? a[d].push(e) : a[d] = [e]);
      }
    }
    return a;
  };
  Ra.prototype.parseDuration = function(b) {
    if (null == b) {
      return -1;
    }
    var a = b.split(":");
    if (3 !== a.length) {
      return -1;
    }
    var c = a[2].split(".");
    b = parseInt(c[0], 10);
    2 === c.length && (b += parseFloat("0." + c[1]));
    c = 60 * parseInt(a[1], 10);
    a = 3600 * parseInt(a[0], 10);
    return isNaN(a) || isNaN(c) || isNaN(b) || 3600 < c || 60 < b ? -1 : a + c + b;
  };
  Ra.prototype.childByName = function(b, a) {
    b = h.makeIterator(b.childNodes);
    for (var c = b.next(); !c.done; c = b.next()) {
      if (c = c.value, c.nodeName === a) {
        return c;
      }
    }
  };
  Ra.prototype.childsByName = function(b, a) {
    var c = [];
    b = h.makeIterator(b.childNodes);
    for (var d = b.next(); !d.done; d = b.next()) {
      d = d.value, d.nodeName === a && c.push(d);
    }
    return c;
  };
  Ra.DEFAULT_MAX_WRAPPER_DEPTH = 8;
  h.inherits(ic, jb);
  ic.prototype.parse = function(b, a, c, d, e) {
    var f = this, g = d.getContent(), k = d.getCacheTTL();
    return this.getVideoFromMarkup(g, c, e, b).catch(function(b) {
      a.Sdk.logError("Unable to parse video from markup due to: " + b.message);
      return null;
    }).then(function(a) {
      a && f.updateFileID(a);
      var c = {id:f.getProgrammaticCampaignId(b), willExpireAt:k ? Date.now() + 1000 * k : void 0, contentType:ic.ContentType, adType:d.getAdType() || void 0, correlationId:d.getCorrelationId() || void 0, creativeId:d.getCreativeId() || void 0, seatId:d.getSeatId() || void 0, meta:void 0, session:e, mediaId:d.getMediaId(), trackingUrls:d.getTrackingUrls() || {}};
      a = Object.assign({}, c, {dynamicMarkup:g, useWebViewUserAgentForTracking:!0, video:a});
      return Promise.resolve(new ed(a));
    });
  };
  ic.prototype.getVideoFromMarkup = function(b, a, c, d) {
    try {
      var e = (new DOMParser).parseFromString(b, "text/html");
      if (!e) {
        return Promise.reject(Error("Markup is malformed"));
      }
      var f = e.querySelector("body script");
      if (!f) {
        return Promise.reject(Error("Could not find script tag within body"));
      }
      var g = this.getVideoFromScriptSource(f.textContent);
      return this.getRealVideoURL(g, a).then(function(a) {
        return new Promise(function(b, e) {
          var f = y.getQueryParameter(a, "mime"), k = null;
          f && (k = f.split("/")[1]);
          d === m.ANDROID ? b(new Ld({mediaFileURL:g, video:new ta(a, c), extension:null})) : k && d === m.IOS ? b(new Ld({mediaFileURL:g, video:new ta(a, c), extension:k})) : e(Error("iOS precaching to file not supported for HTML5 video player"));
        });
      });
    } catch (k) {
      return Promise.reject(k);
    }
  };
  ic.prototype.getRealVideoURL = function(b, a) {
    return a.followRedirectChain(b);
  };
  ic.prototype.getVideoFromScriptSource = function(b) {
    if ((b = /'vast_xml':[\s]*'([^']*)/.exec(b)) && 2 === b.length && (b = this.sanitizeXML(b[1]), b = this.parseVAST(b))) {
      return b.getVideoUrl();
    }
    throw Error("Unable to match VAST XML");
  };
  ic.prototype.parseVAST = function(b) {
    return (new Ra).parseVast(b);
  };
  ic.prototype.sanitizeXML = function(b) {
    b = this.replaceHexChars(b);
    return b.replace(/\\n/g, "");
  };
  ic.prototype.replaceHexChars = function(b) {
    return b.replace(/\\x([0-9A-Fa-f]{2})/g, function(a, b) {
      return String.fromCharCode(parseInt(b, 16));
    });
  };
  ic.prototype.updateFileID = function(b) {
    var a = this.getVideoID(b.getMediaFileURL()), c = b.getVideo().getOriginalUrl();
    b = b.getExtension();
    a && c && (b ? Ea.setFileID(c, a + "." + b) : Ea.setFileID(c, a));
  };
  ic.prototype.getVideoID = function(b) {
    return (b = b.match(/video_id=([^&]*)/)) && 2 === b.length ? b[1] : null;
  };
  ic.ContentType = "programmatic/admob-video";
  od.prototype.getContentTypeHandlerMap = function() {
    return this._contentTypeHandlerMap;
  };
  h.inherits(Lg, od);
  h.inherits(Y, A);
  Y.prototype.getSequenceNumber = function() {
    return this.get("sequenceNumber");
  };
  Y.prototype.getGranularSpeedBucket = function() {
    return this.get("granularSpeedBucket");
  };
  Y.prototype.getIsNetworkMetered = function() {
    return this.get("isNetworkMetered");
  };
  Y.prototype.getDeviceSubModel = function() {
    return this.get("deviceSubModel");
  };
  Y.prototype.getNumPriorUserRequests = function() {
    return this.get("numPriorUserRequests");
  };
  Y.prototype.getIsDeviceCharging = function() {
    return this.get("isDeviceCharging");
  };
  Y.prototype.getDeviceBatteryLevel = function() {
    return this.get("deviceBatteryLevel");
  };
  Y.prototype.getAndroidMarketVersion = function() {
    return this.get("androidMarketVersion");
  };
  Y.prototype.getAdLoadDuration = function() {
    return this.get("adLoadDuration");
  };
  Y.prototype.getPriorClickCount = function() {
    return this.get("priorClickCount");
  };
  Y.prototype.getDeviceIncapabilities = function() {
    return this.get("deviceIncapabilities");
  };
  Y.prototype.getHasIAPCapability = function() {
    return this.get("hasIAPCapability");
  };
  Y.prototype.getAdtest = function() {
    return this.get("adtest");
  };
  Y.prototype.getIsJailbroken = function() {
    return this.get("isJailbroken");
  };
  Y.prototype.getIUSizes = function() {
    return this.get("iuSizes");
  };
  Y.prototype.setSequenceNumber = function(b) {
    this.set("sequenceNumber", b);
  };
  Y.prototype.setGranularSpeedBucket = function(b) {
    this.set("granularSpeedBucket", b);
  };
  Y.prototype.setIsNetworkMetered = function(b) {
    this.set("isNetworkMetered", b);
  };
  Y.prototype.setDeviceSubModel = function(b) {
    this.set("deviceSubModel", b);
  };
  Y.prototype.setNumPriorUserRequests = function(b) {
    this.set("numPriorUserRequests", b);
  };
  Y.prototype.setIsDeviceCharging = function(b) {
    this.set("isDeviceCharging", b);
  };
  Y.prototype.setDeviceBatteryLevel = function(b) {
    this.set("deviceBatteryLevel", b);
  };
  Y.prototype.setAndroidMarketVersion = function(b) {
    this.set("androidMarketVersion", b);
  };
  Y.prototype.setAdLoadDuration = function(b) {
    this.set("adLoadDuration", b);
  };
  Y.prototype.setPriorClickCount = function(b) {
    this.set("priorClickCount", b);
  };
  Y.prototype.setDeviceIncapabilities = function(b) {
    this.set("deviceIncapabilities", b);
  };
  Y.prototype.setHasIAPCapability = function(b) {
    this.set("hasIAPCapability", b);
  };
  Y.prototype.setAdtest = function(b) {
    this.set("adtest", b);
  };
  Y.prototype.setIsJailbroken = function(b) {
    this.set("isJailbroken", b);
  };
  Y.prototype.setIUSizes = function(b) {
    this.set("iuSizes", b);
  };
  Y.prototype.getDTO = function() {
    return {seq_num:this.getSequenceNumber(), granular_speed_bucket:this.getGranularSpeedBucket(), network_metered:this.getIsNetworkMetered(), mobile_device_submodel:this.getDeviceSubModel(), prior_user_requests:this.getNumPriorUserRequests(), device_battery_charging:this.getIsDeviceCharging(), device_battery_level:this.getDeviceBatteryLevel(), android_market_version:this.getAndroidMarketVersion(), prior_click_count:this.getPriorClickCount(), device_incapabilities:this.getDeviceIncapabilities(), 
    ios_jailbroken:this.getIsJailbroken(), iu_sizes:this.getIUSizes(), ad_load_duration:this.getAdLoadDuration()};
  };
  var ug = "undefined" !== typeof window ? window : "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : {}, Lh = Ve(function(b, a) {
    a.length = function(a) {
      var b = a.length;
      if (!b) {
        return 0;
      }
      for (var c = 0; 1 < --b % 4 && "=" === a.charAt(b);) {
        ++c;
      }
      return Math.ceil(3 * a.length) / 4 - c;
    };
    var c = Array(64), d = Array(123);
    for (b = 0; 64 > b;) {
      d[c[b] = 26 > b ? b + 65 : 52 > b ? b + 71 : 62 > b ? b - 4 : b - 59 | 43] = b++;
    }
    a.encode = function(a, b, d) {
      for (var e = null, f = [], g = 0, l = 0, m; b < d;) {
        var p = a[b++];
        switch(l) {
          case 0:
            f[g++] = c[p >> 2];
            m = (p & 3) << 4;
            l = 1;
            break;
          case 1:
            f[g++] = c[m | p >> 4];
            m = (p & 15) << 2;
            l = 2;
            break;
          case 2:
            f[g++] = c[m | p >> 6], f[g++] = c[p & 63], l = 0;
        }
        8191 < g && ((e || (e = [])).push(String.fromCharCode.apply(String, f)), g = 0);
      }
      l && (f[g++] = c[m], f[g++] = 61, 1 === l && (f[g++] = 61));
      return e ? (g && e.push(String.fromCharCode.apply(String, f.slice(0, g))), e.join("")) : String.fromCharCode.apply(String, f.slice(0, g));
    };
    a.decode = function(a, b, c) {
      for (var e = c, f = 0, g, l = 0; l < a.length;) {
        var m = a.charCodeAt(l++);
        if (61 === m && 1 < f) {
          break;
        }
        if (void 0 === (m = d[m])) {
          throw Error("invalid encoding");
        }
        switch(f) {
          case 0:
            g = m;
            f = 1;
            break;
          case 1:
            b[c++] = g << 2 | (m & 48) >> 4;
            g = m;
            f = 2;
            break;
          case 2:
            b[c++] = (g & 15) << 4 | (m & 60) >> 2;
            g = m;
            f = 3;
            break;
          case 3:
            b[c++] = (g & 3) << 6 | m, f = 0;
        }
      }
      if (1 === f) {
        throw Error("invalid encoding");
      }
      return c - e;
    };
    a.test = function(a) {
      return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a);
    };
  });
  rf.prototype.on = function(b, a, c) {
    (this._listeners[b] || (this._listeners[b] = [])).push({fn:a, ctx:c || this});
    return this;
  };
  rf.prototype.off = function(b, a) {
    if (void 0 === b) {
      this._listeners = {};
    } else {
      if (void 0 === a) {
        this._listeners[b] = [];
      } else {
        b = this._listeners[b];
        for (var c = 0; c < b.length;) {
          b[c].fn === a ? b.splice(c, 1) : ++c;
        }
      }
    }
    return this;
  };
  rf.prototype.emit = function(b) {
    var a = this._listeners[b];
    if (a) {
      for (var c = [], d = 1; d < arguments.length;) {
        c.push(arguments[d++]);
      }
      for (d = 0; d < a.length;) {
        a[d].fn.apply(a[d++].ctx, c);
      }
    }
    return this;
  };
  var Mh = Ng(Ng), Nh = Ve(function(b, a) {
    a.length = function(a) {
      for (var b = 0, c, f = 0; f < a.length; ++f) {
        c = a.charCodeAt(f), 128 > c ? b += 1 : 2048 > c ? b += 2 : 55296 === (c & 64512) && 56320 === (a.charCodeAt(f + 1) & 64512) ? (++f, b += 4) : b += 3;
      }
      return b;
    };
    a.read = function(a, b, e) {
      if (1 > e - b) {
        return "";
      }
      for (var c = null, d = [], k = 0, v; b < e;) {
        v = a[b++], 128 > v ? d[k++] = v : 191 < v && 224 > v ? d[k++] = (v & 31) << 6 | a[b++] & 63 : 239 < v && 365 > v ? (v = ((v & 7) << 18 | (a[b++] & 63) << 12 | (a[b++] & 63) << 6 | a[b++] & 63) - 65536, d[k++] = 55296 + (v >> 10), d[k++] = 56320 + (v & 1023)) : d[k++] = (v & 15) << 12 | (a[b++] & 63) << 6 | a[b++] & 63, 8191 < k && ((c || (c = [])).push(String.fromCharCode.apply(String, d)), k = 0);
      }
      return c ? (k && c.push(String.fromCharCode.apply(String, d.slice(0, k))), c.join("")) : String.fromCharCode.apply(String, d.slice(0, k));
    };
    a.write = function(a, b, e) {
      for (var c = e, d, k, v = 0; v < a.length; ++v) {
        d = a.charCodeAt(v), 128 > d ? b[e++] = d : (2048 > d ? b[e++] = d >> 6 | 192 : (55296 === (d & 64512) && 56320 === ((k = a.charCodeAt(v + 1)) & 64512) ? (d = 65536 + ((d & 1023) << 10) + (k & 1023), ++v, b[e++] = d >> 18 | 240, b[e++] = d >> 12 & 63 | 128) : b[e++] = d >> 12 | 224, b[e++] = d >> 6 & 63 | 128), b[e++] = d & 63 | 128);
      }
      return e - c;
    };
  }), he = tb.zero = new tb(0, 0);
  he.toNumber = function() {
    return 0;
  };
  he.zzEncode = he.zzDecode = function() {
    return this;
  };
  he.length = function() {
    return 1;
  };
  var Oh = tb.zeroHash = "\x00\x00\x00\x00\x00\x00\x00\x00";
  tb.fromNumber = function(b) {
    if (0 === b) {
      return he;
    }
    var a = 0 > b;
    a && (b = -b);
    var c = b >>> 0;
    b = (b - c) / 4294967296 >>> 0;
    a && (b = ~b >>> 0, c = ~c >>> 0, 4294967295 < ++c && (c = 0, 4294967295 < ++b && (b = 0)));
    return new tb(c, b);
  };
  tb.from = function(b) {
    if ("number" === typeof b) {
      return tb.fromNumber(b);
    }
    if (T.isString(b)) {
      if (T.Long) {
        b = T.Long.fromString(b);
      } else {
        return tb.fromNumber(parseInt(b, 10));
      }
    }
    return b.low || b.high ? new tb(b.low >>> 0, b.high >>> 0) : he;
  };
  tb.prototype.toNumber = function(b) {
    if (!b && this.hi >>> 31) {
      b = ~this.lo + 1 >>> 0;
      var a = ~this.hi >>> 0;
      b || (a = a + 1 >>> 0);
      return -(b + 4294967296 * a);
    }
    return this.lo + 4294967296 * this.hi;
  };
  tb.prototype.toLong = function(b) {
    return T.Long ? new T.Long(this.lo | 0, this.hi | 0, !!b) : {low:this.lo | 0, high:this.hi | 0, unsigned:!!b};
  };
  var Nd = String.prototype.charCodeAt;
  tb.fromHash = function(b) {
    return b === Oh ? he : new tb((Nd.call(b, 0) | Nd.call(b, 1) << 8 | Nd.call(b, 2) << 16 | Nd.call(b, 3) << 24) >>> 0, (Nd.call(b, 4) | Nd.call(b, 5) << 8 | Nd.call(b, 6) << 16 | Nd.call(b, 7) << 24) >>> 0);
  };
  tb.prototype.toHash = function() {
    return String.fromCharCode(this.lo & 255, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, this.hi & 255, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24);
  };
  tb.prototype.zzEncode = function() {
    var b = this.hi >> 31;
    this.hi = ((this.hi << 1 | this.lo >>> 31) ^ b) >>> 0;
    this.lo = (this.lo << 1 ^ b) >>> 0;
    return this;
  };
  tb.prototype.zzDecode = function() {
    var b = -(this.lo & 1);
    this.lo = ((this.lo >>> 1 | this.hi << 31) ^ b) >>> 0;
    this.hi = (this.hi >>> 1 ^ b) >>> 0;
    return this;
  };
  tb.prototype.length = function() {
    var b = this.lo, a = (this.lo >>> 28 | this.hi << 4) >>> 0, c = this.hi >>> 24;
    return 0 === c ? 0 === a ? 16384 > b ? 128 > b ? 1 : 2 : 2097152 > b ? 3 : 4 : 16384 > a ? 128 > a ? 5 : 6 : 2097152 > a ? 7 : 8 : 128 > c ? 9 : 10;
  };
  var T = Ve(function(b, a) {
    function c(a, b, c) {
      for (var d = Object.keys(b), e = 0; e < d.length; ++e) {
        void 0 !== a[d[e]] && c || (a[d[e]] = b[d[e]]);
      }
      return a;
    }
    function d(a) {
      function b(a, d) {
        if (!(this instanceof b)) {
          return new b(a, d);
        }
        Object.defineProperty(this, "message", {get:function() {
          return a;
        }});
        Error.captureStackTrace ? Error.captureStackTrace(this, b) : Object.defineProperty(this, "stack", {value:Error().stack || ""});
        d && c(this, d);
      }
      (b.prototype = Object.create(Error.prototype)).constructor = b;
      Object.defineProperty(b.prototype, "name", {get:function() {
        return a;
      }});
      b.prototype.toString = function() {
        return this.name + ": " + this.message;
      };
      return b;
    }
    a.asPromise = oh;
    a.base64 = Lh;
    a.EventEmitter = rf;
    a.float = Mh;
    a.inquire = nh;
    a.utf8 = Nh;
    a.pool = mh;
    a.LongBits = tb;
    a.global = "undefined" !== typeof window && window || "undefined" !== typeof ug && ug || "undefined" !== typeof self && self || ug;
    a.emptyArray = Object.freeze ? Object.freeze([]) : [];
    a.emptyObject = Object.freeze ? Object.freeze({}) : {};
    a.isNode = !!(a.global.process && a.global.process.versions && a.global.process.versions.node);
    a.isInteger = Number.isInteger || function(a) {
      return "number" === typeof a && isFinite(a) && Math.floor(a) === a;
    };
    a.isString = function(a) {
      return "string" === typeof a || a instanceof String;
    };
    a.isObject = function(a) {
      return a && "object" === typeof a;
    };
    a.isset = a.isSet = function(a, b) {
      var c = a[b];
      return null != c && a.hasOwnProperty(b) ? "object" !== typeof c || 0 < (Array.isArray(c) ? c.length : Object.keys(c).length) : !1;
    };
    a.Buffer = function() {
      try {
        var b = a.inquire("buffer").Buffer;
        return b.prototype.utf8Write ? b : null;
      } catch (f) {
        return null;
      }
    }();
    a._Buffer_from = null;
    a._Buffer_allocUnsafe = null;
    a.newBuffer = function(b) {
      return "number" === typeof b ? a.Buffer ? a._Buffer_allocUnsafe(b) : new a.Array(b) : a.Buffer ? a._Buffer_from(b) : "undefined" === typeof Uint8Array ? b : new Uint8Array(b);
    };
    a.Array = "undefined" !== typeof Uint8Array ? Uint8Array : Array;
    a.Long = a.global.dcodeIO && a.global.dcodeIO.Long || a.global.Long || a.inquire("long");
    a.key2Re = /^true|false|0|1$/;
    a.key32Re = /^-?(?:0|[1-9][0-9]*)$/;
    a.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;
    a.longToHash = function(b) {
      return b ? a.LongBits.from(b).toHash() : a.LongBits.zeroHash;
    };
    a.longFromHash = function(b, c) {
      b = a.LongBits.fromHash(b);
      return a.Long ? a.Long.fromBits(b.lo, b.hi, c) : b.toNumber(!!c);
    };
    a.merge = c;
    a.lcFirst = function(a) {
      return a.charAt(0).toLowerCase() + a.substring(1);
    };
    a.newError = d;
    a.ProtocolError = d("ProtocolError");
    a.oneOfGetter = function(a) {
      for (var b = {}, c = 0; c < a.length; ++c) {
        b[a[c]] = 1;
      }
      return function() {
        for (var a = Object.keys(this), c = a.length - 1; -1 < c; --c) {
          if (1 === b[a[c]] && void 0 !== this[a[c]] && null !== this[a[c]]) {
            return a[c];
          }
        }
      };
    };
    a.oneOfSetter = function(a) {
      return function(b) {
        for (var c = 0; c < a.length; ++c) {
          a[c] !== b && delete this[a[c]];
        }
      };
    };
    a.toJSONOptions = {longs:String, enums:String, bytes:String, json:!0};
    a._configure = function() {
      var b = a.Buffer;
      b ? (a._Buffer_from = b.from !== Uint8Array.from && b.from || function(a, c) {
        return new b(a, c);
      }, a._Buffer_allocUnsafe = b.allocUnsafe || function(a) {
        return new b(a);
      }) : a._Buffer_from = a._Buffer_allocUnsafe = null;
    };
  }), ng = ea, ah, vf = T.LongBits, bh = T.base64, ch = T.utf8;
  ea.create = T.Buffer ? function() {
    return (ea.create = function() {
      return new ah;
    })();
  } : function() {
    return new ea;
  };
  ea.alloc = function(b) {
    return new T.Array(b);
  };
  T.Array !== Array && (ea.alloc = T.pool(ea.alloc, T.Array.prototype.subarray));
  ea.prototype._push = function(b, a, c) {
    this.tail = this.tail.next = new We(b, a, c);
    this.len += a;
    return this;
  };
  kg.prototype = Object.create(We.prototype);
  kg.prototype.fn = function(b, a, c) {
    for (; 127 < b;) {
      a[c++] = b & 127 | 128, b >>>= 7;
    }
    a[c] = b;
  };
  ea.prototype.uint32 = function(b) {
    this.len += (this.tail = this.tail.next = new kg(128 > (b >>>= 0) ? 1 : 16384 > b ? 2 : 2097152 > b ? 3 : 268435456 > b ? 4 : 5, b)).len;
    return this;
  };
  ea.prototype.int32 = function(b) {
    return 0 > b ? this._push(lg, 10, vf.fromNumber(b)) : this.uint32(b);
  };
  ea.prototype.sint32 = function(b) {
    return this.uint32((b << 1 ^ b >> 31) >>> 0);
  };
  ea.prototype.uint64 = function(b) {
    b = vf.from(b);
    return this._push(lg, b.length(), b);
  };
  ea.prototype.int64 = ea.prototype.uint64;
  ea.prototype.sint64 = function(b) {
    b = vf.from(b).zzEncode();
    return this._push(lg, b.length(), b);
  };
  ea.prototype.bool = function(b) {
    return this._push(jg, 1, b ? 1 : 0);
  };
  ea.prototype.fixed32 = function(b) {
    return this._push(mg, 4, b >>> 0);
  };
  ea.prototype.sfixed32 = ea.prototype.fixed32;
  ea.prototype.fixed64 = function(b) {
    b = vf.from(b);
    return this._push(mg, 4, b.lo)._push(mg, 4, b.hi);
  };
  ea.prototype.sfixed64 = ea.prototype.fixed64;
  ea.prototype.float = function(b) {
    return this._push(T.float.writeFloatLE, 4, b);
  };
  ea.prototype.double = function(b) {
    return this._push(T.float.writeDoubleLE, 8, b);
  };
  var Ph = T.Array.prototype.set ? function(b, a, c) {
    a.set(b, c);
  } : function(b, a, c) {
    for (var d = 0; d < b.length; ++d) {
      a[c + d] = b[d];
    }
  };
  ea.prototype.bytes = function(b) {
    var a = b.length >>> 0;
    if (!a) {
      return this._push(jg, 1, 0);
    }
    if (T.isString(b)) {
      var c = ea.alloc(a = bh.length(b));
      bh.decode(b, c, 0);
      b = c;
    }
    return this.uint32(a)._push(Ph, a, b);
  };
  ea.prototype.string = function(b) {
    var a = ch.length(b);
    return a ? this.uint32(a)._push(ch.write, a, b) : this._push(jg, 1, 0);
  };
  ea.prototype.fork = function() {
    this.states = new ph(this);
    this.head = this.tail = new We(ig, 0, 0);
    this.len = 0;
    return this;
  };
  ea.prototype.reset = function() {
    this.states ? (this.head = this.states.head, this.tail = this.states.tail, this.len = this.states.len, this.states = this.states.next) : (this.head = this.tail = new We(ig, 0, 0), this.len = 0);
    return this;
  };
  ea.prototype.ldelim = function() {
    var b = this.head, a = this.tail, c = this.len;
    this.reset().uint32(c);
    c && (this.tail.next = b.next, this.tail = a, this.len += c);
    return this;
  };
  ea.prototype.finish = function() {
    for (var b = this.head.next, a = this.constructor.alloc(this.len), c = 0; b;) {
      b.fn(b.val, a, c), c += b.len, b = b.next;
    }
    return a;
  };
  ea._configure = function(b) {
    ah = b;
  };
  (ge.prototype = Object.create(ng.prototype)).constructor = ge;
  var wf = T.Buffer;
  ge.alloc = function(b) {
    return (ge.alloc = T._Buffer_allocUnsafe)(b);
  };
  var Qh = wf && wf.prototype instanceof Uint8Array && "set" === wf.prototype.set.name ? function(b, a, c) {
    a.set(b, c);
  } : function(b, a, c) {
    if (b.copy) {
      b.copy(a, c, 0, b.length);
    } else {
      for (var d = 0; d < b.length;) {
        a[c++] = b[d++];
      }
    }
  };
  ge.prototype.bytes = function(b) {
    T.isString(b) && (b = T._Buffer_from(b, "base64"));
    var a = b.length >>> 0;
    this.uint32(a);
    a && this._push(Qh, a, b);
    return this;
  };
  ge.prototype.string = function(b) {
    var a = wf.byteLength(b);
    this.uint32(a);
    a && this._push(qh, a, b);
    return this;
  };
  var pg = gb, dh, Sg = T.LongBits, Rh = T.utf8, eh = "undefined" !== typeof Uint8Array ? function(b) {
    if (b instanceof Uint8Array || Array.isArray(b)) {
      return new gb(b);
    }
    throw Error("illegal buffer");
  } : function(b) {
    if (Array.isArray(b)) {
      return new gb(b);
    }
    throw Error("illegal buffer");
  };
  gb.create = T.Buffer ? function(b) {
    return (gb.create = function(a) {
      return T.Buffer.isBuffer(a) ? new dh(a) : eh(a);
    })(b);
  } : eh;
  gb.prototype._slice = T.Array.prototype.subarray || T.Array.prototype.slice;
  gb.prototype.uint32 = function() {
    var b = 4294967295;
    return function() {
      b = (this.buf[this.pos] & 127) >>> 0;
      if (128 > this.buf[this.pos++]) {
        return b;
      }
      b = (b | (this.buf[this.pos] & 127) << 7) >>> 0;
      if (128 > this.buf[this.pos++]) {
        return b;
      }
      b = (b | (this.buf[this.pos] & 127) << 14) >>> 0;
      if (128 > this.buf[this.pos++]) {
        return b;
      }
      b = (b | (this.buf[this.pos] & 127) << 21) >>> 0;
      if (128 > this.buf[this.pos++]) {
        return b;
      }
      b = (b | (this.buf[this.pos] & 15) << 28) >>> 0;
      if (128 > this.buf[this.pos++]) {
        return b;
      }
      if ((this.pos += 5) > this.len) {
        throw this.pos = this.len, Oc(this, 10);
      }
      return b;
    };
  }();
  gb.prototype.int32 = function() {
    return this.uint32() | 0;
  };
  gb.prototype.sint32 = function() {
    var b = this.uint32();
    return b >>> 1 ^ -(b & 1) | 0;
  };
  gb.prototype.bool = function() {
    return 0 !== this.uint32();
  };
  gb.prototype.fixed32 = function() {
    if (this.pos + 4 > this.len) {
      throw Oc(this, 4);
    }
    return sf(this.buf, this.pos += 4);
  };
  gb.prototype.sfixed32 = function() {
    if (this.pos + 4 > this.len) {
      throw Oc(this, 4);
    }
    return sf(this.buf, this.pos += 4) | 0;
  };
  gb.prototype.float = function() {
    if (this.pos + 4 > this.len) {
      throw Oc(this, 4);
    }
    var b = T.float.readFloatLE(this.buf, this.pos);
    this.pos += 4;
    return b;
  };
  gb.prototype.double = function() {
    if (this.pos + 8 > this.len) {
      throw Oc(this, 4);
    }
    var b = T.float.readDoubleLE(this.buf, this.pos);
    this.pos += 8;
    return b;
  };
  gb.prototype.bytes = function() {
    var b = this.uint32(), a = this.pos, c = this.pos + b;
    if (c > this.len) {
      throw Oc(this, b);
    }
    this.pos += b;
    return Array.isArray(this.buf) ? this.buf.slice(a, c) : a === c ? new this.buf.constructor(0) : this._slice.call(this.buf, a, c);
  };
  gb.prototype.string = function() {
    var b = this.bytes();
    return Rh.read(b, 0, b.length);
  };
  gb.prototype.skip = function(b) {
    if ("number" === typeof b) {
      if (this.pos + b > this.len) {
        throw Oc(this, b);
      }
      this.pos += b;
    } else {
      do {
        if (this.pos >= this.len) {
          throw Oc(this);
        }
      } while (this.buf[this.pos++] & 128);
    }
    return this;
  };
  gb.prototype.skipType = function(b) {
    switch(b) {
      case 0:
        this.skip();
        break;
      case 1:
        this.skip(8);
        break;
      case 2:
        this.skip(this.uint32());
        break;
      case 3:
        for (; 4 !== (b = this.uint32() & 7);) {
          this.skipType(b);
        }
        break;
      case 5:
        this.skip(4);
        break;
      default:
        throw Error("invalid wire type " + b + " at offset " + this.pos);
    }
    return this;
  };
  gb._configure = function(b) {
    dh = b;
    var a = T.Long ? "toLong" : "toNumber";
    T.merge(gb.prototype, {int64:function() {
      return og.call(this)[a](!1);
    }, uint64:function() {
      return og.call(this)[a](!0);
    }, sint64:function() {
      return og.call(this).zzDecode()[a](!1);
    }, fixed64:function() {
      return Tg.call(this)[a](!0);
    }, sfixed64:function() {
      return Tg.call(this)[a](!1);
    }});
  };
  (Xe.prototype = Object.create(pg.prototype)).constructor = Xe;
  T.Buffer && (Xe.prototype._slice = T.Buffer.prototype.slice);
  Xe.prototype.string = function() {
    var b = this.uint32();
    return this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + b, this.len));
  };
  (Ye.prototype = Object.create(T.EventEmitter.prototype)).constructor = Ye;
  Ye.prototype.rpcCall = function g(a, c, d, e, f) {
    if (!e) {
      throw TypeError("request must be specified");
    }
    var k = this;
    if (!f) {
      return T.asPromise(g, k, a, c, d, e);
    }
    if (k.rpcImpl) {
      try {
        return k.rpcImpl(a, c[k.requestDelimited ? "encodeDelimited" : "encode"](e).finish(), function(c, e) {
          if (c) {
            return k.emit("error", c, a), f(c);
          }
          if (null === e) {
            k.end(!0);
          } else {
            if (!(e instanceof d)) {
              try {
                e = d[k.responseDelimited ? "decodeDelimited" : "decode"](e);
              } catch (n) {
                return k.emit("error", n, a), f(n);
              }
            }
            k.emit("data", e, a);
            return f(null, e);
          }
        });
      } catch (v) {
        k.emit("error", v, a), setTimeout(function() {
          f(v);
        }, 0);
      }
    } else {
      setTimeout(function() {
        f(Error("already ended"));
      }, 0);
    }
  };
  Ye.prototype.end = function(a) {
    this.rpcImpl && (a || this.rpcImpl(null, null, null), this.rpcImpl = null, this.emit("end").off());
    return this;
  };
  var Sh = Ve(function(a, c) {
    c.Service = Ye;
  }), Th = {}, xf = Ve(function(a, c) {
    function d() {
      e.Reader._configure(e.BufferReader);
      e.util._configure();
    }
    var e = c;
    e.build = "minimal";
    e.Writer = ng;
    e.BufferWriter = ge;
    e.Reader = pg;
    e.BufferReader = Xe;
    e.util = T;
    e.rpc = Sh;
    e.roots = Th;
    e.configure = d;
    e.Writer._configure(e.BufferWriter);
    d();
  }), u = xf.util, fh = xf.roots, yf = xf.Reader, gh = xf.Writer, vg = fh["default"] || (fh["default"] = {}), zf = vg.unity_proto = function() {
    var a = {};
    a.UnityProto = function() {
      function a(a) {
        this.encryptedBlobs = [];
        if (a) {
          for (var c = Object.keys(a), d = 0; d < c.length; ++d) {
            null != a[c[d]] && (this[c[d]] = a[c[d]]);
          }
        }
      }
      a.prototype.encryptedBlobs = u.emptyArray;
      a.prototype.encryptionMethod = 3;
      a.prototype.protoName = 2;
      a.encode = function(a, c) {
        c || (c = gh.create());
        if (null != a.encryptedBlobs && a.encryptedBlobs.length) {
          for (var d = 0; d < a.encryptedBlobs.length; ++d) {
            c.uint32(10).bytes(a.encryptedBlobs[d]);
          }
        }
        null != a.protoName && a.hasOwnProperty("protoName") && c.uint32(24).int32(a.protoName);
        null != a.encryptionMethod && a.hasOwnProperty("encryptionMethod") && c.uint32(32).int32(a.encryptionMethod);
        return c;
      };
      a.decode = function(a, c) {
        a instanceof yf || (a = yf.create(a));
        c = void 0 === c ? a.len : a.pos + c;
        for (var d = new vg.unity_proto.UnityProto; a.pos < c;) {
          var e = a.uint32();
          switch(e >>> 3) {
            case 1:
              d.encryptedBlobs && d.encryptedBlobs.length || (d.encryptedBlobs = []);
              d.encryptedBlobs.push(a.bytes());
              break;
            case 4:
              d.encryptionMethod = a.int32();
              break;
            case 3:
              d.protoName = a.int32();
              break;
            default:
              a.skipType(e & 7);
          }
        }
        return d;
      };
      a.EncryptionMethod = function() {
        var a = {}, c = Object.create(a);
        c[a[3] = "UNENCRYPTED"] = 3;
        return c;
      }();
      a.ProtoName = function() {
        var a = {}, c = Object.create(a);
        c[a[2] = "UNITY_INFO"] = 2;
        return c;
      }();
      return a;
    }();
    a.UnityInfo = function() {
      function a(a) {
        if (a) {
          for (var c = Object.keys(a), d = 0; d < c.length; ++d) {
            null != a[c[d]] && (this[c[d]] = a[c[d]]);
          }
        }
      }
      a.prototype.field_1 = "";
      a.prototype.field_2 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_3 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_4 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_5 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_6 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_7 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_8 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_9 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_10 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_11 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_12 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_13 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_14 = !1;
      a.prototype.field_15 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_16 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_17 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_18 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_19 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_20 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_21 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_22 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_23 = "";
      a.prototype.field_24 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_25 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_26 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_27 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_28 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_29 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_30 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_31 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_32 = !1;
      a.prototype.field_33 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_34 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_35 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_36 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_37 = "";
      a.prototype.field_38 = "";
      a.prototype.field_39 = "";
      a.prototype.field_40 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_41 = "";
      a.prototype.field_42 = "";
      a.prototype.field_43 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_44 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_45 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_46 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_47 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_48 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_49 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.prototype.field_50 = u.Long ? u.Long.fromBits(0, 0, !1) : 0;
      a.encode = function(a, c) {
        c || (c = gh.create());
        null != a.field_1 && a.hasOwnProperty("field_1") && c.uint32(10).string(a.field_1);
        null != a.field_2 && a.hasOwnProperty("field_2") && c.uint32(16).int64(a.field_2);
        null != a.field_3 && a.hasOwnProperty("field_3") && c.uint32(24).int64(a.field_3);
        null != a.field_4 && a.hasOwnProperty("field_4") && c.uint32(32).int64(a.field_4);
        null != a.field_5 && a.hasOwnProperty("field_5") && c.uint32(40).int64(a.field_5);
        null != a.field_6 && a.hasOwnProperty("field_6") && c.uint32(48).int64(a.field_6);
        null != a.field_7 && a.hasOwnProperty("field_7") && c.uint32(56).int64(a.field_7);
        null != a.field_8 && a.hasOwnProperty("field_8") && c.uint32(64).int64(a.field_8);
        null != a.field_9 && a.hasOwnProperty("field_9") && c.uint32(72).int64(a.field_9);
        null != a.field_10 && a.hasOwnProperty("field_10") && c.uint32(80).int64(a.field_10);
        null != a.field_11 && a.hasOwnProperty("field_11") && c.uint32(88).int64(a.field_11);
        null != a.field_12 && a.hasOwnProperty("field_12") && c.uint32(96).int64(a.field_12);
        null != a.field_13 && a.hasOwnProperty("field_13") && c.uint32(104).int64(a.field_13);
        null != a.field_14 && a.hasOwnProperty("field_14") && c.uint32(112).bool(a.field_14);
        null != a.field_15 && a.hasOwnProperty("field_15") && c.uint32(120).int64(a.field_15);
        null != a.field_16 && a.hasOwnProperty("field_16") && c.uint32(128).int64(a.field_16);
        null != a.field_17 && a.hasOwnProperty("field_17") && c.uint32(136).int64(a.field_17);
        null != a.field_18 && a.hasOwnProperty("field_18") && c.uint32(144).int64(a.field_18);
        null != a.field_19 && a.hasOwnProperty("field_19") && c.uint32(152).int64(a.field_19);
        null != a.field_20 && a.hasOwnProperty("field_20") && c.uint32(160).int64(a.field_20);
        null != a.field_21 && a.hasOwnProperty("field_21") && c.uint32(168).int64(a.field_21);
        null != a.field_22 && a.hasOwnProperty("field_22") && c.uint32(176).int64(a.field_22);
        null != a.field_23 && a.hasOwnProperty("field_23") && c.uint32(186).string(a.field_23);
        null != a.field_24 && a.hasOwnProperty("field_24") && c.uint32(192).int64(a.field_24);
        null != a.field_25 && a.hasOwnProperty("field_25") && c.uint32(200).int64(a.field_25);
        null != a.field_26 && a.hasOwnProperty("field_26") && c.uint32(208).int64(a.field_26);
        null != a.field_27 && a.hasOwnProperty("field_27") && c.uint32(216).int64(a.field_27);
        null != a.field_28 && a.hasOwnProperty("field_28") && c.uint32(224).int64(a.field_28);
        null != a.field_29 && a.hasOwnProperty("field_29") && c.uint32(232).int64(a.field_29);
        null != a.field_30 && a.hasOwnProperty("field_30") && c.uint32(240).int64(a.field_30);
        null != a.field_31 && a.hasOwnProperty("field_31") && c.uint32(248).int64(a.field_31);
        null != a.field_32 && a.hasOwnProperty("field_32") && c.uint32(256).bool(a.field_32);
        null != a.field_33 && a.hasOwnProperty("field_33") && c.uint32(264).int64(a.field_33);
        null != a.field_34 && a.hasOwnProperty("field_34") && c.uint32(272).int64(a.field_34);
        null != a.field_35 && a.hasOwnProperty("field_35") && c.uint32(280).int64(a.field_35);
        null != a.field_36 && a.hasOwnProperty("field_36") && c.uint32(288).int64(a.field_36);
        null != a.field_37 && a.hasOwnProperty("field_37") && c.uint32(298).string(a.field_37);
        null != a.field_38 && a.hasOwnProperty("field_38") && c.uint32(306).string(a.field_38);
        null != a.field_39 && a.hasOwnProperty("field_39") && c.uint32(314).string(a.field_39);
        null != a.field_40 && a.hasOwnProperty("field_40") && c.uint32(320).int64(a.field_40);
        null != a.field_41 && a.hasOwnProperty("field_41") && c.uint32(330).string(a.field_41);
        null != a.field_42 && a.hasOwnProperty("field_42") && c.uint32(338).string(a.field_42);
        null != a.field_43 && a.hasOwnProperty("field_43") && c.uint32(344).int64(a.field_43);
        null != a.field_44 && a.hasOwnProperty("field_44") && c.uint32(352).int64(a.field_44);
        null != a.field_45 && a.hasOwnProperty("field_45") && c.uint32(360).int64(a.field_45);
        null != a.field_46 && a.hasOwnProperty("field_46") && c.uint32(368).int64(a.field_46);
        null != a.field_47 && a.hasOwnProperty("field_47") && c.uint32(376).int64(a.field_47);
        null != a.field_48 && a.hasOwnProperty("field_48") && c.uint32(384).int64(a.field_48);
        null != a.field_49 && a.hasOwnProperty("field_49") && c.uint32(392).int64(a.field_49);
        null != a.field_50 && a.hasOwnProperty("field_50") && c.uint32(400).int64(a.field_50);
        return c;
      };
      a.decode = function(a, c) {
        a instanceof yf || (a = yf.create(a));
        c = void 0 === c ? a.len : a.pos + c;
        for (var d = new vg.unity_proto.UnityInfo; a.pos < c;) {
          var e = a.uint32();
          switch(e >>> 3) {
            case 1:
              d.field_1 = a.string();
              break;
            case 2:
              d.field_2 = a.int64();
              break;
            case 3:
              d.field_3 = a.int64();
              break;
            case 4:
              d.field_4 = a.int64();
              break;
            case 5:
              d.field_5 = a.int64();
              break;
            case 6:
              d.field_6 = a.int64();
              break;
            case 7:
              d.field_7 = a.int64();
              break;
            case 8:
              d.field_8 = a.int64();
              break;
            case 9:
              d.field_9 = a.int64();
              break;
            case 10:
              d.field_10 = a.int64();
              break;
            case 11:
              d.field_11 = a.int64();
              break;
            case 12:
              d.field_12 = a.int64();
              break;
            case 13:
              d.field_13 = a.int64();
              break;
            case 14:
              d.field_14 = a.bool();
              break;
            case 15:
              d.field_15 = a.int64();
              break;
            case 16:
              d.field_16 = a.int64();
              break;
            case 17:
              d.field_17 = a.int64();
              break;
            case 18:
              d.field_18 = a.int64();
              break;
            case 19:
              d.field_19 = a.int64();
              break;
            case 20:
              d.field_20 = a.int64();
              break;
            case 21:
              d.field_21 = a.int64();
              break;
            case 22:
              d.field_22 = a.int64();
              break;
            case 23:
              d.field_23 = a.string();
              break;
            case 24:
              d.field_24 = a.int64();
              break;
            case 25:
              d.field_25 = a.int64();
              break;
            case 26:
              d.field_26 = a.int64();
              break;
            case 27:
              d.field_27 = a.int64();
              break;
            case 28:
              d.field_28 = a.int64();
              break;
            case 29:
              d.field_29 = a.int64();
              break;
            case 30:
              d.field_30 = a.int64();
              break;
            case 31:
              d.field_31 = a.int64();
              break;
            case 32:
              d.field_32 = a.bool();
              break;
            case 33:
              d.field_33 = a.int64();
              break;
            case 34:
              d.field_34 = a.int64();
              break;
            case 35:
              d.field_35 = a.int64();
              break;
            case 36:
              d.field_36 = a.int64();
              break;
            case 37:
              d.field_37 = a.string();
              break;
            case 38:
              d.field_38 = a.string();
              break;
            case 39:
              d.field_39 = a.string();
              break;
            case 40:
              d.field_40 = a.int64();
              break;
            case 41:
              d.field_41 = a.string();
              break;
            case 42:
              d.field_42 = a.string();
              break;
            case 43:
              d.field_43 = a.int64();
              break;
            case 44:
              d.field_44 = a.int64();
              break;
            case 45:
              d.field_45 = a.int64();
              break;
            case 46:
              d.field_46 = a.int64();
              break;
            case 47:
              d.field_47 = a.int64();
              break;
            case 48:
              d.field_48 = a.int64();
              break;
            case 49:
              d.field_49 = a.int64();
              break;
            case 50:
              d.field_50 = a.int64();
              break;
            default:
              a.skipType(e & 7);
          }
        }
        return d;
      };
      return a;
    }();
    return a;
  }();
  h.inherits(r, A);
  r.prototype.getSdkVersion = function() {
    return this.get("sdkVersion");
  };
  r.prototype.setSdkVersion = function(a) {
    this.set("sdkVersion", a);
  };
  r.prototype.getBatteryLevel = function() {
    return this.get("batteryLevel");
  };
  r.prototype.setBatteryLevel = function(a) {
    this.set("batteryLevel", a);
  };
  r.prototype.getBatteryState = function() {
    return this.get("batteryState");
  };
  r.prototype.setBatteryState = function(a) {
    this.set("batteryState", a);
  };
  r.prototype.getAccelerometerX = function() {
    return this.get("accelerometerX");
  };
  r.prototype.setAccelerometerX = function(a) {
    this.set("accelerometerX", a);
  };
  r.prototype.getAccelerometerY = function() {
    return this.get("accelerometerY");
  };
  r.prototype.setAccelerometerY = function(a) {
    this.set("accelerometerY", a);
  };
  r.prototype.getAccelerometerZ = function() {
    return this.get("accelerometerZ");
  };
  r.prototype.setAccelerometerZ = function(a) {
    this.set("accelerometerZ", a);
  };
  r.prototype.getNetworkType = function() {
    return this.get("networkType");
  };
  r.prototype.setNetworkType = function(a) {
    this.set("networkType", a);
  };
  r.prototype.getDeviceOrientation = function() {
    return this.get("deviceOrientation");
  };
  r.prototype.setDeviceOrientation = function(a) {
    this.set("deviceOrientation", a);
  };
  r.prototype.getTouchXUp = function() {
    return this.get("touchXUp");
  };
  r.prototype.setTouchXUp = function(a) {
    this.set("touchXUp", a);
  };
  r.prototype.getTouchXDown = function() {
    return this.get("touchXDown");
  };
  r.prototype.setTouchXDown = function(a) {
    this.set("touchXDown", a);
  };
  r.prototype.getTouchYUp = function() {
    return this.get("touchYUp");
  };
  r.prototype.setTouchYUp = function(a) {
    this.set("touchYUp", a);
  };
  r.prototype.getTouchYDown = function() {
    return this.get("touchYDown");
  };
  r.prototype.setTouchYDown = function(a) {
    this.set("touchYDown", a);
  };
  r.prototype.getTouchDuration = function() {
    return this.get("touchDuration");
  };
  r.prototype.setTouchDuration = function(a) {
    this.set("touchDuration", a);
  };
  r.prototype.getTouchPressure = function() {
    return this.get("touchPressure");
  };
  r.prototype.setTouchPressure = function(a) {
    this.set("touchPressure", a);
  };
  r.prototype.getTouchDiameter = function() {
    return this.get("touchDiameter");
  };
  r.prototype.setTouchDiameter = function(a) {
    this.set("touchDiameter", a);
  };
  r.prototype.getCpuCount = function() {
    return this.get("cpuCount");
  };
  r.prototype.setCpuCount = function(a) {
    this.set("cpuCount", a);
  };
  r.prototype.getTouchUpTotal = function() {
    return this.get("touchUpTotal");
  };
  r.prototype.setTouchUpTotal = function(a) {
    this.set("touchUpTotal", a);
  };
  r.prototype.getTouchDownTotal = function() {
    return this.get("touchDownTotal");
  };
  r.prototype.setTouchDownTotal = function(a) {
    this.set("touchDownTotal", a);
  };
  r.prototype.getTouchMoveTotal = function() {
    return this.get("touchMoveTotal");
  };
  r.prototype.setTouchMoveTotal = function(a) {
    this.set("touchMoveTotal", a);
  };
  r.prototype.getTouchCancelTotal = function() {
    return this.get("touchCancelTotal");
  };
  r.prototype.setTouchCancelTotal = function(a) {
    this.set("touchCancelTotal", a);
  };
  r.prototype.getOsVersion = function() {
    return this.get("osVersion");
  };
  r.prototype.setOsVersion = function(a) {
    this.set("osVersion", a);
  };
  r.prototype.getTimeZoneOffset = function() {
    return this.get("timeZoneOffset");
  };
  r.prototype.setTimeZoneOffset = function(a) {
    this.set("timeZoneOffset", a);
  };
  r.prototype.getUsbConnected = function() {
    return this.get("usbConnected");
  };
  r.prototype.setUsbConnected = function(a) {
    this.set("usbConnected", a);
  };
  r.prototype.getAppActive = function() {
    return this.get("appActive");
  };
  r.prototype.setAppActive = function(a) {
    this.set("appActive", a);
  };
  r.prototype.getAppUptime = function() {
    return this.get("appUptime");
  };
  r.prototype.setAppUptime = function(a) {
    this.set("appUptime", a);
  };
  r.prototype.getAppStartTime = function() {
    return this.get("appStartTime");
  };
  r.prototype.setAppStartTime = function(a) {
    this.set("appStartTime", a);
  };
  r.prototype.getRooted = function() {
    return this.get("rooted");
  };
  r.prototype.setRooted = function(a) {
    this.set("rooted", a);
  };
  r.prototype.getEventTimestamp = function() {
    return this.get("eventTimestamp");
  };
  r.prototype.setEventTimestamp = function(a) {
    this.set("eventTimestamp", a);
  };
  r.prototype.getApkHash = function() {
    return this.get("apkHash");
  };
  r.prototype.setApkHash = function(a) {
    this.set("apkHash", a);
  };
  r.prototype.getApkDeveloperSigningCertificateHash = function() {
    return this.get("apkDeveloperSigningCertificateHash");
  };
  r.prototype.setApkDeveloperSigningCertificateHash = function(a) {
    this.set("apkDeveloperSigningCertificateHash", a);
  };
  r.prototype.getAppVersionName = function() {
    return this.get("appVersionName");
  };
  r.prototype.setAppVersionName = function(a) {
    this.set("appVersionName", a);
  };
  r.prototype.getAppVersionCode = function() {
    return this.get("appVersionCode");
  };
  r.prototype.setAppVersionCode = function(a) {
    this.set("appVersionCode", a);
  };
  r.prototype.getAppIdName = function() {
    return this.get("appIdName");
  };
  r.prototype.setAppIdName = function(a) {
    this.set("appIdName", a);
  };
  r.prototype.getAppInstaller = function() {
    return this.get("appInstaller");
  };
  r.prototype.setAppInstaller = function(a) {
    this.set("appInstaller", a);
  };
  r.prototype.getDeviceUptime = function() {
    return this.get("deviceUptime");
  };
  r.prototype.setDeviceUptime = function(a) {
    this.set("deviceUptime", a);
  };
  r.prototype.getDeviceElapsedRealtime = function() {
    return this.get("deviceElapsedRealtime");
  };
  r.prototype.setDeviceElapsedRealtime = function(a) {
    this.set("deviceElapsedRealtime", a);
  };
  r.prototype.getAdbEnabled = function() {
    return this.get("adbEnabled");
  };
  r.prototype.setAdbEnabled = function(a) {
    this.set("adbEnabled", a);
  };
  r.prototype.getTimeOnScreen = function() {
    return this.get("timeOnScreen");
  };
  r.prototype.setTimeOnScreen = function(a) {
    this.set("timeOnScreen", a);
  };
  r.prototype.getMinimumAlpha = function() {
    return this.get("minimumAlpha");
  };
  r.prototype.setMinimumAlpha = function(a) {
    this.set("minimumAlpha", a);
  };
  r.prototype.getAdViewWidth = function() {
    return this.get("adViewWidth");
  };
  r.prototype.setAdViewWidth = function(a) {
    this.set("adViewWidth", a);
  };
  r.prototype.getAdViewHeight = function() {
    return this.get("adViewHeight");
  };
  r.prototype.setAdViewHeight = function(a) {
    this.set("adViewHeight", a);
  };
  r.prototype.getAndroidTouchObscured = function() {
    return this.get("androidTouchObscured");
  };
  r.prototype.setAndroidTouchObscured = function(a) {
    this.set("androidTouchObscured", a);
  };
  r.prototype.getTouchToolType = function() {
    return this.get("touchToolType");
  };
  r.prototype.setTouchToolType = function(a) {
    this.set("touchToolType", a);
  };
  r.prototype.getTouchSource = function() {
    return this.get("touchSource");
  };
  r.prototype.setTouchSource = function(a) {
    this.set("touchSource", a);
  };
  r.prototype.getTouchDeviceId = function() {
    return this.get("touchDeviceId");
  };
  r.prototype.setTouchDeviceId = function(a) {
    this.set("touchDeviceId", a);
  };
  r.prototype.getTouchDistance = function() {
    return this.get("touchDistance");
  };
  r.prototype.setTouchDistance = function(a) {
    this.set("touchDistance", a);
  };
  r.prototype.getAdViewX = function() {
    return this.get("adViewX");
  };
  r.prototype.setAdViewX = function(a) {
    this.set("adViewX", a);
  };
  r.prototype.getAdViewY = function() {
    return this.get("adViewY");
  };
  r.prototype.setAdViewY = function(a) {
    this.set("adViewY", a);
  };
  r.prototype.getScreenWidth = function() {
    return this.get("screenWidth");
  };
  r.prototype.setScreenWidth = function(a) {
    this.set("screenWidth", a);
  };
  r.prototype.getScreenHeight = function() {
    return this.get("screenHeight");
  };
  r.prototype.setScreenHeight = function(a) {
    this.set("screenHeight", a);
  };
  r.prototype.getBase64ProtoBuf = function() {
    var a = {field_1:this.getSdkVersion(), field_2:this.getBatteryLevel(), field_3:this.getBatteryState(), field_4:this.getAccelerometerX(), field_5:this.getAccelerometerY(), field_6:this.getAccelerometerZ(), field_7:this.getTouchXUp(), field_8:this.getTouchYUp(), field_9:this.getTouchXDown(), field_10:this.getTouchYDown(), field_11:this.getTouchDuration(), field_12:this.getTouchPressure(), field_13:this.getTouchDiameter(), field_14:this.getAndroidTouchObscured(), field_15:this.getTouchToolType(), 
    field_16:this.getTouchSource(), field_17:this.getTouchDeviceId(), field_18:this.getTouchDistance(), field_19:this.getTouchUpTotal(), field_20:this.getTouchDownTotal(), field_21:this.getTouchMoveTotal(), field_22:this.getTouchCancelTotal(), field_23:this.getOsVersion(), field_24:this.getCpuCount(), field_25:this.getDeviceUptime(), field_26:this.getDeviceElapsedRealtime(), field_27:this.getTimeZoneOffset(), field_28:this.getUsbConnected(), field_29:this.getAdbEnabled(), field_30:this.getRooted(), 
    field_31:this.getNetworkType(), field_32:this.getAppActive(), field_33:this.getAppUptime(), field_34:this.getAppStartTime(), field_35:this.getEventTimestamp(), field_36:this.getTimeOnScreen(), field_37:this.getApkHash(), field_38:this.getApkDeveloperSigningCertificateHash(), field_39:this.getAppVersionName(), field_40:this.getAppVersionCode(), field_41:this.getAppIdName(), field_42:this.getAppInstaller(), field_43:this.getAdViewWidth(), field_44:this.getAdViewHeight(), field_45:this.getAdViewX(), 
    field_46:this.getAdViewY(), field_47:this.getMinimumAlpha(), field_48:this.getScreenWidth(), field_49:this.getScreenHeight(), field_50:this.getDeviceOrientation()};
    a = {encryptedBlobs:[zf.UnityInfo.encode(a).finish()], encryptionMethod:zf.UnityProto.EncryptionMethod.UNENCRYPTED, protoName:zf.UnityProto.ProtoName.UNITY_INFO};
    a = zf.UnityProto.encode(a).finish();
    return u.base64.encode(a, 0, a.byteLength);
  };
  r.prototype.getBase64ProtoBufNonEncoded = function() {
    var a = this.getBase64ProtoBuf();
    a = a.replace(/\//g, "_");
    a = a.replace(/\+/g, "-");
    return a = a.replace(/[=]+$/, "");
  };
  r.prototype.getDTO = function() {
    return {sdkVersion:this.getSdkVersion(), batteryLevel:this.getBatteryLevel(), batteryState:this.getBatteryState(), accelerometerX:this.getAccelerometerX(), accelerometerY:this.getAccelerometerY(), accelerometerZ:this.getAccelerometerZ(), networkType:this.getNetworkType(), deviceOrientation:this.getDeviceOrientation(), touchXUp:this.getTouchXUp(), touchXDown:this.getTouchXDown(), touchYUp:this.getTouchYUp(), touchYDown:this.getTouchYDown(), touchDuration:this.getTouchDuration(), touchPressure:this.getTouchPressure(), 
    touchDiameter:this.getTouchDiameter(), cpuCount:this.getCpuCount(), touchUpTotal:this.getTouchUpTotal(), touchDownTotal:this.getTouchDownTotal(), touchMoveTotal:this.getTouchMoveTotal(), touchCancelTotal:this.getTouchCancelTotal(), osVersion:this.getOsVersion(), timeZoneOffset:this.getTimeZoneOffset(), usbConnected:this.getUsbConnected(), appActive:this.getAppActive(), appUptime:this.getAppUptime(), appStartTime:this.getAppStartTime(), rooted:this.getRooted(), eventTimestamp:this.getEventTimestamp(), 
    apkHash:this.getApkHash(), apkDeveloperSigningCertificateHash:this.getApkDeveloperSigningCertificateHash(), appVersionName:this.getAppVersionName(), appVersionCode:this.getAppVersionCode(), appIdName:this.getAppIdName(), appInstaller:this.getAppInstaller(), deviceUptime:this.getDeviceUptime(), deviceElapsedRealtime:this.getDeviceElapsedRealtime(), adbEnabled:this.getAdbEnabled(), timeOnScreen:this.getTimeOnScreen(), minimumAlpha:this.getMinimumAlpha(), adViewWidth:this.getAdViewWidth(), adViewHeight:this.getAdViewHeight(), 
    androidTouchObscured:this.getAndroidTouchObscured(), touchToolType:this.getTouchToolType(), touchSource:this.getTouchSource(), touchDeviceId:this.getTouchDeviceId(), touchDistance:this.getTouchDistance(), adViewX:this.getAdViewX(), adViewY:this.getAdViewY(), screenWidth:this.getScreenWidth(), screenHeight:this.getScreenHeight()};
  };
  var gd;
  (function(a) {
    a[a.ACTION_BUTTON_PRESS = 11] = "ACTION_BUTTON_PRESS";
    a[a.ACTION_BUTTON_RELEASE = 12] = "ACTION_BUTTON_RELEASE";
    a[a.ACTION_CANCEL = 3] = "ACTION_CANCEL";
    a[a.ACTION_DOWN = 0] = "ACTION_DOWN";
    a[a.ACTION_HOVER_ENTER = 9] = "ACTION_HOVER_ENTER";
    a[a.ACTION_HOVER_EXIT = 10] = "ACTION_HOVER_EXIT";
    a[a.ACTION_HOVER_MOVE = 7] = "ACTION_HOVER_MOVE";
    a[a.ACTION_MOVE = 2] = "ACTION_MOVE";
    a[a.ACTION_OUTSIDE = 4] = "ACTION_OUTSIDE";
    a[a.ACTION_POINTER_DOWN = 5] = "ACTION_POINTER_DOWN";
    a[a.ACTION_POINTER_UP = 6] = "ACTION_POINTER_UP";
    a[a.ACTION_SCROLL = 8] = "ACTION_SCROLL";
    a[a.ACTION_UP = 1] = "ACTION_UP";
  })(gd || (gd = {}));
  Ja.prototype.getOptionalSignal = function() {
    var a = this, c = new Y;
    c.setSequenceNumber(p.getAdRequestOrdinal());
    c.setIsJailbroken(this._deviceInfo.isRooted());
    c.setDeviceIncapabilities(this.checkDeviceIncapabilities());
    c.setDeviceSubModel(this._deviceInfo.getModel());
    c.setIsNetworkMetered(!1);
    var d = [];
    d.push(this._deviceInfo.getBatteryLevel().then(function(a) {
      c.setDeviceBatteryLevel(a);
    }).catch(function() {
      a.logFailure("batteryLevel");
    }));
    d.push(this._deviceInfo.getBatteryStatus().then(function(d) {
      c.setIsDeviceCharging(2 === a.getBatteryStatus(a._platform, d));
    }).catch(function() {
      a.logFailure("batteryStatus");
    }));
    d.push($b.getRequestCount(this._core).then(function(a) {
      "number" === typeof a && c.setNumPriorUserRequests(a);
    }).catch(function() {
      a.logFailure("numPriorUserRequets");
    }));
    this._platform === m.ANDROID && d.push(this._core.DeviceInfo.Android.getPackageInfo(this._clientInfo.getApplicationName()).then(function(a) {
      a.versionCode && a.packageName ? c.setAndroidMarketVersion(a.versionCode + "." + a.packageName) : c.setAndroidMarketVersion("null");
    }).catch(function() {
      a.logFailure("androidMarketVersion");
    }));
    d.push($b.getClickCount(this._core).then(function(a) {
      "number" === typeof a && c.setPriorClickCount(a);
    }).catch(function() {
      a.logFailure("priorClickCount");
    }));
    d.push($b.getPriorRequestToReadyTime(this._core).then(function(a) {
      "number" === typeof a && c.setAdLoadDuration(a);
    }).catch(function() {
      a.logFailure("PriorRequestToReadyTime");
    }));
    d.push(Promise.all([this._deviceInfo.getConnectionType(), this._deviceInfo.getNetworkType()]).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      e = e.next().value;
      "wifi" === d ? c.setGranularSpeedBucket("wi") : "cellular" === d ? c.setGranularSpeedBucket(a.getNetworkValue(e)) : c.setGranularSpeedBucket("unknown");
    }).catch(function() {
      a.logFailure("granularSpeedBucket");
    }));
    d.push(Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(a) {
      var d = h.makeIterator(a);
      a = d.next().value;
      d = d.next().value;
      c.setIUSizes(a + "x" + d + "|" + d + "x" + a);
    }).catch(function() {
      a.logFailure("iuSizes");
    }));
    return Promise.all(d).then(function() {
      return c;
    });
  };
  Ja.prototype.getAdRequestSignal = function() {
    return this.getCommonSignal();
  };
  Ja.prototype.setAdmobPackageInfo = function(a, c) {
    this._packageInstaller = a;
    this._packageVersionCode = c;
  };
  Ja.prototype.getClickSignal = function(a, c) {
    var d = this;
    return this.getCommonSignal().then(function(e) {
      a.diameter && e.setTouchDiameter(a.diameter);
      a.pressure && e.setTouchPressure(a.pressure);
      a.start && (e.setTouchXDown(a.start.x), e.setTouchYDown(a.start.y));
      a.end && (e.setTouchXUp(a.end.x), e.setTouchYUp(a.end.y));
      a.duration && e.setTouchDuration(a.duration);
      e.setTouchDownTotal(a.counts.down);
      e.setTouchUpTotal(a.counts.up);
      e.setTouchMoveTotal(a.counts.move);
      e.setTouchCancelTotal(a.counts.cancel);
      e.setTimeOnScreen(c.getTimeOnScreen());
      e.getScreenWidth() && e.getScreenHeight() && (d._platform === m.IOS && d._deviceInfo instanceof Pa && d._deviceInfo.getScreenScale() ? (e.setAdViewWidth(d.getIosViewWidth(e.getScreenWidth(), d._deviceInfo.getScreenScale())), e.setAdViewHeight(d.getIosViewHeight(e.getScreenHeight(), d._deviceInfo.getScreenScale()))) : d._deviceInfo instanceof E && d._deviceInfo.getScreenDensity() && (e.setAdViewWidth(d.getAndroidViewWidth(e.getScreenWidth(), d._deviceInfo.getScreenDensity())), e.setAdViewHeight(d.getAndroidViewHeight(e.getScreenHeight(), 
      d._deviceInfo.getScreenDensity()))));
      e.setAdViewX(0);
      e.setAdViewY(0);
      e.setMinimumAlpha(100);
      var f = [];
      f.push(d._core.SensorInfo.getAccelerometerData().then(function(a) {
        d._platform === m.IOS ? (e.setAccelerometerX(a.x), e.setAccelerometerY(a.y), e.setAccelerometerZ(a.z)) : (e.setAccelerometerX(a.x / 9.80665 * -100), e.setAccelerometerY(a.y / 9.80665 * -100), e.setAccelerometerZ(a.z / 9.80665 * -100));
      }).catch(function() {
        d.logFailure("accelerometer");
      }));
      d._platform === m.ANDROID && f.push(d._ads.Android.AdUnit.getMotionEventCount([gd.ACTION_DOWN, gd.ACTION_UP, gd.ACTION_MOVE, gd.ACTION_CANCEL]).then(function(a) {
        if (a[gd[gd.ACTION_DOWN]]) {
          var c = a[gd[gd.ACTION_DOWN]];
          return d._ads.Android.AdUnit.getMotionEventData({0:[c]}).then(function(a) {
            a["0"] && a["0"][c.toString()] && (a = a["0"][c.toString()], e.setAndroidTouchObscured(a.isObscured), e.setTouchToolType(a.toolType), e.setTouchSource(a.source), e.setTouchDeviceId(a.deviceId));
          }).catch(function() {
            d.logFailure("motionEventData");
          });
        }
      }).catch(function() {
        d.logFailure("motionEventCount");
      }));
      return Promise.all(f).then(function() {
        return e;
      });
    });
  };
  Ja.prototype.getCommonSignal = function() {
    var a = this, c = new r;
    c.setEventTimestamp(this.getEventTimestamp());
    c.setSdkVersion(this.getSdkVersion(this._platform, this._clientInfo));
    c.setOsVersion(this.getOsVersion(this._platform, this._deviceInfo));
    c.setTimeZoneOffset(this.getTimeZoneOffset());
    c.setAppActive(this._focusManager.isAppForeground());
    c.setAppUptime(this.getAppUptime(this._clientInfo));
    c.setAppStartTime(this.getAppStartTime(this._clientInfo));
    c.setAppVersionName(this._clientInfo.getApplicationVersion());
    c.setAppIdName(this._clientInfo.getApplicationName());
    var d = [];
    d.push(this._deviceInfo.getBatteryLevel().then(function(a) {
      c.setBatteryLevel(Math.round(100 * a));
    }).catch(function() {
      a.logFailure("batteryLevel");
    }));
    d.push(this._deviceInfo.getBatteryStatus().then(function(d) {
      c.setBatteryState(a.getBatteryStatus(a._platform, d));
    }).catch(function() {
      a.logFailure("batteryStatus");
    }));
    d.push(this._deviceInfo.getConnectionType().then(function(d) {
      c.setNetworkType(a.getNetworkType(d));
    }).catch(function() {
      a.logFailure("connectionType");
    }));
    d.push(Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      e = e.next().value;
      a._platform === m.IOS && a._deviceInfo instanceof Pa ? (c.setScreenWidth(d * a._deviceInfo.getScreenScale()), c.setScreenHeight(e * a._deviceInfo.getScreenScale())) : (c.setScreenWidth(d), c.setScreenHeight(e));
      c.setDeviceOrientation(a.getDeviceScreenOrientation(d, e));
    }).catch(function() {
      a.logFailure("screenWidth");
    }));
    d.push(this._core.DeviceInfo.getCPUCount().then(function(a) {
      c.setCpuCount(a);
    }).catch(function() {
      a.logFailure("cpucount");
    }));
    this._platform === m.ANDROID && (this._packageInstaller && this._packageVersionCode ? (c.setAppInstaller(this._packageInstaller), c.setAppVersionCode(this._packageVersionCode)) : d.push(this._core.DeviceInfo.Android.getPackageInfo(this._clientInfo.getApplicationName()).then(function(d) {
      d.installer ? (c.setAppInstaller(d.installer), a._packageInstaller = d.installer) : c.setAppInstaller("unknown");
      d.versionCode && (c.setAppVersionCode(d.versionCode), a._packageVersionCode = d.versionCode);
    }).catch(function() {
      a.logFailure("packageInfo");
    })), d.push(this._core.DeviceInfo.Android.isUSBConnected().then(function(a) {
      c.setUsbConnected(a ? 1 : 0);
    }).catch(function() {
      c.setUsbConnected(2);
      a.logFailure("usbConnected");
    })), d.push(this._core.DeviceInfo.Android.getCertificateFingerprint().then(function(a) {
      c.setApkDeveloperSigningCertificateHash(a);
    }).catch(function() {
      a.logFailure("apkDeveloperSigningCertificateHash");
    })), d.push(this._core.DeviceInfo.Android.getUptime().then(function(a) {
      c.setDeviceUptime(a);
    }).catch(function() {
      a.logFailure("deviceUptime");
    })), d.push(this._core.DeviceInfo.Android.getElapsedRealtime().then(function(a) {
      c.setDeviceElapsedRealtime(a);
    }).catch(function() {
      a.logFailure("elapsedRealtime");
    })), d.push(this._core.DeviceInfo.Android.isAdbEnabled().then(function(a) {
      c.setAdbEnabled(a ? 1 : 0);
    }).catch(function() {
      c.setAdbEnabled(2);
      a.logFailure("adbEnabled");
    })));
    this._platform === m.ANDROID ? d.push(this.getAndroidRooted(this._deviceInfo).then(function(a) {
      c.setRooted(a);
    }).catch(function() {
      a.logFailure("rooted");
    })) : c.setRooted(this.getIosRooted(this._deviceInfo));
    return Promise.all(d).then(function() {
      return c;
    });
  };
  Ja.prototype.logFailure = function(a) {
    F.trigger("signal_failed", {signal:a});
  };
  Ja.prototype.getEventTimestamp = function() {
    return Math.round(Date.now() / 1000);
  };
  Ja.prototype.getSdkVersion = function(a) {
    return a === m.IOS ? "unity-ios-v" + this._clientInfo.getSdkVersionName() : "unity-android-v" + this._clientInfo.getSdkVersionName();
  };
  Ja.prototype.getNetworkType = function(a) {
    return "wifi" === a ? 1 : "cellular" === a ? 0 : -1;
  };
  Ja.prototype.getOsVersion = function(a, c) {
    return a === m.IOS ? c.getModel().split(" ")[0].replace(/[0-9]+,[0-9]+$/, "") + " " + c.getOsVersion() : c.getOsVersion();
  };
  Ja.prototype.getTimeZoneOffset = function() {
    return -1 * (new Date).getTimezoneOffset() + 1440;
  };
  Ja.prototype.getAppUptime = function(a) {
    return Math.round((Date.now() - a.getInitTimestamp()) / 1000);
  };
  Ja.prototype.getAppStartTime = function(a) {
    return Math.round(a.getInitTimestamp() / 1000);
  };
  Ja.prototype.getIosRooted = function(a) {
    return a instanceof Pa && a.isSimulator() ? 2 : a.isRooted() ? 1 : 0;
  };
  Ja.prototype.getAndroidRooted = function(a) {
    return this._core.DeviceInfo.Android.getFingerprint().then(function(c) {
      return 0 <= c.indexOf("generic") ? 2 : a.isRooted() ? 1 : 0;
    });
  };
  Ja.prototype.getIosViewWidth = function(a, c) {
    return a / c;
  };
  Ja.prototype.getIosViewHeight = function(a, c) {
    return a / c;
  };
  Ja.prototype.getAndroidViewWidth = function(a, c) {
    return a / (c / 160);
  };
  Ja.prototype.getAndroidViewHeight = function(a, c) {
    return a / (c / 160);
  };
  Ja.prototype.getBatteryStatus = function(a, c) {
    if (a === m.IOS) {
      return c;
    }
    switch(c) {
      case 1:
        return 0;
      case 2:
        return 2;
      case 3:
        return 1;
      case 4:
        return 1;
      case 5:
        return 3;
      default:
        return 0;
    }
  };
  Ja.prototype.getDeviceScreenOrientation = function(a, c) {
    return a === c ? 20 : a > c ? 3 : 1;
  };
  Ja.prototype.checkDeviceIncapabilities = function() {
    var a = "";
    this._deviceInfo instanceof E ? (this._deviceInfo.isGoogleStoreInstalled() || (a += "a"), this._deviceInfo.isGoogleMapsInstalled() || (a += "m"), this._deviceInfo.isTelephonyInstalled() || (a += "t")) : a += "atm";
    return a;
  };
  Ja.prototype.getNetworkValue = function(a) {
    var c = "unknown";
    if (0 === a) {
      c = "unknown";
    } else {
      if (1 === a || 16 === a || 2 === a || 4 === a || 7 === a || 11 === a) {
        c = "ed";
      } else {
        if (3 === a || 5 === a || 6 === a || 8 === a || 9 === a || 10 === a || 12 === a || 14 === a || 15 === a || 17 === a) {
          c = "3g";
        } else {
          if (13 === a || 18 === a || 19 === a) {
            c = "4g";
          }
        }
      }
    }
    return c;
  };
  var Qa;
  (function(a) {
    a[a.SCREEN_ORIENTATION_UNSPECIFIED = -1] = "SCREEN_ORIENTATION_UNSPECIFIED";
    a[a.SCREEN_ORIENTATION_LANDSCAPE = 0] = "SCREEN_ORIENTATION_LANDSCAPE";
    a[a.SCREEN_ORIENTATION_PORTRAIT = 1] = "SCREEN_ORIENTATION_PORTRAIT";
    a[a.SCREEN_ORIENTATION_USER = 2] = "SCREEN_ORIENTATION_USER";
    a[a.SCREEN_ORIENTATION_BEHIND = 3] = "SCREEN_ORIENTATION_BEHIND";
    a[a.SCREEN_ORIENTATION_SENSOR = 4] = "SCREEN_ORIENTATION_SENSOR";
    a[a.SCREEN_ORIENTATION_NOSENSOR = 5] = "SCREEN_ORIENTATION_NOSENSOR";
    a[a.SCREEN_ORIENTATION_SENSOR_LANDSCAPE = 6] = "SCREEN_ORIENTATION_SENSOR_LANDSCAPE";
    a[a.SCREEN_ORIENTATION_SENSOR_PORTRAIT = 7] = "SCREEN_ORIENTATION_SENSOR_PORTRAIT";
    a[a.SCREEN_ORIENTATION_REVERSE_LANDSCAPE = 8] = "SCREEN_ORIENTATION_REVERSE_LANDSCAPE";
    a[a.SCREEN_ORIENTATION_REVERSE_PORTRAIT = 9] = "SCREEN_ORIENTATION_REVERSE_PORTRAIT";
    a[a.SCREEN_ORIENTATION_FULL_SENSOR = 10] = "SCREEN_ORIENTATION_FULL_SENSOR";
    a[a.SCREEN_ORIENTATION_USER_LANDSCAPE = 11] = "SCREEN_ORIENTATION_USER_LANDSCAPE";
    a[a.SCREEN_ORIENTATION_USER_PORTRAIT = 12] = "SCREEN_ORIENTATION_USER_PORTRAIT";
    a[a.SCREEN_ORIENTATION_FULL_USER = 13] = "SCREEN_ORIENTATION_FULL_USER";
    a[a.SCREEN_ORIENTATION_LOCKED = 14] = "SCREEN_ORIENTATION_LOCKED";
  })(Qa || (Qa = {}));
  var wb;
  (function(a) {
    a[a.ROTATION_0 = 0] = "ROTATION_0";
    a[a.ROTATION_90 = 1] = "ROTATION_90";
    a[a.ROTATION_180 = 2] = "ROTATION_180";
    a[a.ROTATION_270 = 3] = "ROTATION_270";
  })(wb || (wb = {}));
  h.inherits(ib, hc);
  ib.prototype.open = function(a, c, d, e, f, g, k, v, l) {
    var n = this;
    this._activityId++;
    this._currentActivityFinished = !1;
    this._androidOptions = l;
    0 === c.length && (c = ["webview"]);
    this._lockedOrientation = (k = hc.getForcedOrientation()) ? k : e;
    e = [];
    f && (e = [4]);
    f = this.isHardwareAccelerationAllowed();
    this._core.Sdk.logInfo("Opening " + a.description() + " ad unit with orientation " + pa[this._lockedOrientation] + ", hardware acceleration " + (f ? "enabled" : "disabled"));
    this._onFocusGainedObserver = this._ads.Android.AdUnit.onFocusGained.subscribe(function() {
      return n.onFocusGained();
    });
    this._onFocusLostObserver = this._ads.Android.AdUnit.onFocusLost.subscribe(function() {
      return n.onFocusLost();
    });
    return this._ads.Android.AdUnit.open(this._activityId, c, this.getOrientation(d, this._lockedOrientation, l), e, 1, f, g);
  };
  ib.prototype.close = function() {
    if (this._currentActivityFinished) {
      return Promise.resolve();
    }
    this._currentActivityFinished = !0;
    this._ads.Android.AdUnit.onFocusLost.unsubscribe(this._onFocusLostObserver);
    this._ads.Android.AdUnit.onFocusGained.unsubscribe(this._onFocusGainedObserver);
    return this._ads.Android.AdUnit.close();
  };
  ib.prototype.reconfigure = function(a) {
    var c = this, d = [];
    return Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(e) {
      var f = h.makeIterator(e);
      e = f.next().value;
      f = f.next().value;
      switch(a) {
        case 0:
          d.push(c._ads.Android.AdUnit.setViews(["webview"]));
          d.push(c._ads.Android.AdUnit.setOrientation(Qa.SCREEN_ORIENTATION_FULL_SENSOR));
          break;
        case 1:
          d.push(c._ads.Android.AdUnit.setOrientation(Qa.SCREEN_ORIENTATION_LANDSCAPE));
          d.push(c._ads.Android.AdUnit.setViewFrame("videoplayer", 0, 0, f, e));
          break;
        case 2:
          d.push(c._ads.Android.AdUnit.setViews(["webplayer", "webview"])), d.push(c._ads.Android.AdUnit.setOrientation(Qa.SCREEN_ORIENTATION_FULL_SENSOR));
      }
      return Promise.all(d);
    });
  };
  ib.prototype.reorient = function(a, c) {
    return this._ads.Android.AdUnit.setOrientation(this.getOrientation(a, c, this._androidOptions));
  };
  ib.prototype.isPaused = function() {
    return this._paused;
  };
  ib.prototype.setViewFrame = function(a, c, d, e, f) {
    return this._ads.Android.AdUnit.setViewFrame(a, c, d, e, f);
  };
  ib.prototype.getViews = function() {
    return this._ads.Android.AdUnit.getViews();
  };
  ib.prototype.getOrientation = function(a, c, d) {
    var e = Qa.SCREEN_ORIENTATION_FULL_SENSOR;
    a ? c === pa.PORTRAIT ? e = d.requestedOrientation === Qa.SCREEN_ORIENTATION_PORTRAIT ? Qa.SCREEN_ORIENTATION_PORTRAIT : d.requestedOrientation === Qa.SCREEN_ORIENTATION_REVERSE_PORTRAIT ? Qa.SCREEN_ORIENTATION_REVERSE_PORTRAIT : d.display && this.getNaturalRotation(d.display) === wb.ROTATION_0 ? Qa.SCREEN_ORIENTATION_PORTRAIT : d.display && this.getNaturalRotation(d.display) === wb.ROTATION_180 ? Qa.SCREEN_ORIENTATION_REVERSE_PORTRAIT : Qa.SCREEN_ORIENTATION_SENSOR_PORTRAIT : c === pa.LANDSCAPE && 
    (e = d.requestedOrientation === Qa.SCREEN_ORIENTATION_LANDSCAPE ? Qa.SCREEN_ORIENTATION_LANDSCAPE : d.requestedOrientation === Qa.SCREEN_ORIENTATION_REVERSE_LANDSCAPE ? Qa.SCREEN_ORIENTATION_REVERSE_LANDSCAPE : d.display && this.getNaturalRotation(d.display) === wb.ROTATION_90 ? Qa.SCREEN_ORIENTATION_LANDSCAPE : d.display && this.getNaturalRotation(d.display) === wb.ROTATION_270 ? Qa.SCREEN_ORIENTATION_REVERSE_LANDSCAPE : Qa.SCREEN_ORIENTATION_SENSOR_LANDSCAPE) : e = c === pa.PORTRAIT ? Qa.SCREEN_ORIENTATION_PORTRAIT : 
    c === pa.LANDSCAPE ? Qa.SCREEN_ORIENTATION_LANDSCAPE : Qa.SCREEN_ORIENTATION_LOCKED;
    return e;
  };
  ib.prototype.onCreate = function(a) {
    this._paused = !1;
    a === this._activityId && this._handlers.forEach(function(a) {
      return a.onContainerShow();
    });
  };
  ib.prototype.onRestore = function(a) {
    this._paused = !1;
    a === this._activityId && this._handlers.forEach(function(a) {
      return a.onContainerShow();
    });
  };
  ib.prototype.onResume = function(a) {
    this._paused = !1;
    a === this._activityId && this._handlers.forEach(function(a) {
      return a.onContainerForeground();
    });
  };
  ib.prototype.onPause = function(a, c) {
    this._paused = !0;
    this._handlers.forEach(function(a) {
      return a.onContainerBackground();
    });
    a && c === this._activityId && !this._currentActivityFinished && (this._currentActivityFinished = !0, this._handlers.forEach(function(a) {
      return a.onContainerDestroy();
    }));
  };
  ib.prototype.onDestroy = function(a, c) {
    a && c === this._activityId && !this._currentActivityFinished && (this._currentActivityFinished = !0, this._handlers.forEach(function(a) {
      return a.onContainerDestroy();
    }));
  };
  ib.prototype.onFocusGained = function() {
    this._paused = !1;
    this._handlers.forEach(function(a) {
      return a.onContainerForeground();
    });
  };
  ib.prototype.onFocusLost = function() {
    this._paused = !0;
    this._handlers.forEach(function(a) {
      return a.onContainerBackground();
    });
  };
  ib.prototype.isHardwareAccelerationAllowed = function() {
    return 18 > this._deviceInfo.getApiLevel() ? !1 : !0;
  };
  ib.prototype.getNaturalRotation = function(a) {
    switch(a.rotation) {
      case wb.ROTATION_0:
        return a.width > a.height ? wb.ROTATION_90 : wb.ROTATION_0;
      case wb.ROTATION_90:
        return a.width < a.height ? wb.ROTATION_180 : wb.ROTATION_90;
      case wb.ROTATION_180:
        return a.width > a.height ? wb.ROTATION_270 : wb.ROTATION_180;
      case wb.ROTATION_270:
        return a.width < a.height ? wb.ROTATION_180 : wb.ROTATION_270;
      default:
        return a.rotation;
    }
  };
  var ye;
  (function(a) {
    a[a.UNKNOWN = 0] = "UNKNOWN";
    a[a.PORTRAIT = 1] = "PORTRAIT";
    a[a.PORTRAIT_UPSIDE_DOWN = 2] = "PORTRAIT_UPSIDE_DOWN";
    a[a.LANDSCAPE_RIGHT = 3] = "LANDSCAPE_RIGHT";
    a[a.LANDSCAPE_LEFT = 4] = "LANDSCAPE_LEFT";
  })(ye || (ye = {}));
  var Od;
  (function(a) {
    a[a.INTERFACE_ORIENTATION_MASK_PORTRAIT = 2] = "INTERFACE_ORIENTATION_MASK_PORTRAIT";
    a[a.INTERFACE_ORIENTATION_MASK_LANDSCAPE_LEFT = 16] = "INTERFACE_ORIENTATION_MASK_LANDSCAPE_LEFT";
    a[a.INTERFACE_ORIENTATION_MASK_LANDSCAPE_RIGHT = 8] = "INTERFACE_ORIENTATION_MASK_LANDSCAPE_RIGHT";
    a[a.INTERFACE_ORIENTATION_MASK_PORTRAIT_UPSIDE_DOWN = 4] = "INTERFACE_ORIENTATION_MASK_PORTRAIT_UPSIDE_DOWN";
    a[a.INTERFACE_ORIENTATION_MASK_LANDSCAPE = 24] = "INTERFACE_ORIENTATION_MASK_LANDSCAPE";
    a[a.INTERFACE_ORIENTATION_MASK_ALL = 30] = "INTERFACE_ORIENTATION_MASK_ALL";
    a[a.INTERFACE_ORIENTATION_MASK_ALL_BUT_UPSIDE_DOWN = 26] = "INTERFACE_ORIENTATION_MASK_ALL_BUT_UPSIDE_DOWN";
  })(Od || (Od = {}));
  h.inherits(Aa, hc);
  Aa.prototype.open = function(a, c, d, e, f, g, k, v, l) {
    var n = this;
    this._options = l;
    this._showing = !0;
    0 === c.length && (c = ["webview"]);
    (f = hc.getForcedOrientation()) ? (d = !1, this._lockedOrientation = f) : this._lockedOrientation = e;
    this._onAppBackgroundObserver = this._focusManager.onAppBackground.subscribe(function() {
      return n.onAppBackground();
    });
    this._onAppForegroundObserver = this._focusManager.onAppForeground.subscribe(function() {
      return n.onAppForeground();
    });
    this._core.iOS.Notification.addAVNotificationObserver(Aa._audioSessionInterrupt, ["AVAudioSessionInterruptionTypeKey", "AVAudioSessionInterruptionOptionKey"]);
    this._core.iOS.Notification.addAVNotificationObserver(Aa._audioSessionRouteChange, ["AVAudioSessionRouteChangeReasonKey"]);
    this._core.Sdk.logInfo("Opening " + a.description() + " ad with orientation " + pa[this._lockedOrientation]);
    a = !0;
    v && (a = l.statusBarHidden);
    return this._ads.iOS.AdUnit.open(c, this.getOrientation(l, d, this._lockedOrientation), a, d, g, k);
  };
  Aa.prototype.close = function() {
    this._showing = !1;
    fa.isSimejiJapaneseKeyboardApp(this._clientInfo.getGameId()) && this.unPause();
    this._focusManager.onAppBackground.unsubscribe(this._onAppBackgroundObserver);
    this._focusManager.onAppForeground.unsubscribe(this._onAppForegroundObserver);
    this._core.iOS.Notification.removeAVNotificationObserver(Aa._audioSessionInterrupt);
    this._core.iOS.Notification.removeAVNotificationObserver(Aa._audioSessionRouteChange);
    return this._ads.iOS.AdUnit.close();
  };
  Aa.prototype.reconfigure = function(a) {
    var c = this, d = [];
    return Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(e) {
      var f = h.makeIterator(e);
      e = f.next().value;
      f = f.next().value + c._deviceInfo.getStatusBarHeight();
      switch(a) {
        case 0:
          d.push(c._ads.iOS.AdUnit.setViews(["webview"]));
          d.push(c._ads.iOS.AdUnit.setSupportedOrientations(Od.INTERFACE_ORIENTATION_MASK_ALL));
          break;
        case 1:
          d.push(c._ads.iOS.AdUnit.setViewFrame("videoplayer", new Ya(0), new Ya(0), new Ya(e), new Ya(f)));
          d.push(c._ads.iOS.AdUnit.setTransform(new Ya(1.57079632679)));
          d.push(c._ads.iOS.AdUnit.setViewFrame("adunit", new Ya(0), new Ya(0), new Ya(e), new Ya(f)));
          break;
        case 2:
          d.push(c._ads.iOS.AdUnit.setViews(["webplayer", "webview"])), d.push(c._ads.iOS.AdUnit.setSupportedOrientations(Od.INTERFACE_ORIENTATION_MASK_ALL));
      }
      return Promise.all(d);
    });
  };
  Aa.prototype.reorient = function(a, c) {
    var d = this;
    return this._ads.iOS.AdUnit.setShouldAutorotate(a).then(function() {
      if (d._options) {
        return d._ads.iOS.AdUnit.setSupportedOrientations(d.getOrientation(d._options, a, c));
      }
    });
  };
  Aa.prototype.isPaused = function() {
    return this._paused;
  };
  Aa.prototype.pause = function() {
    this._paused = !0;
  };
  Aa.prototype.unPause = function() {
    this._paused = !1;
  };
  Aa.prototype.setViewFrame = function(a, c, d, e, f) {
    return this._ads.iOS.AdUnit.setViewFrame(a, new Ya(c), new Ya(d), new Ya(e), new Ya(f));
  };
  Aa.prototype.getViews = function() {
    return this._ads.iOS.AdUnit.getViews();
  };
  Aa.prototype.getOrientation = function(a, c, d) {
    c = a.supportedOrientations;
    if (d === pa.LANDSCAPE) {
      switch(a.statusBarOrientation) {
        case ye.LANDSCAPE_LEFT:
          c = Od.INTERFACE_ORIENTATION_MASK_LANDSCAPE_LEFT;
          break;
        case ye.LANDSCAPE_RIGHT:
          c = Od.INTERFACE_ORIENTATION_MASK_LANDSCAPE_RIGHT;
      }
    } else {
      if (d === pa.PORTRAIT) {
        switch(a.statusBarOrientation) {
          case ye.PORTRAIT:
            c = Od.INTERFACE_ORIENTATION_MASK_PORTRAIT;
            break;
          case ye.PORTRAIT_UPSIDE_DOWN:
            c = Od.INTERFACE_ORIENTATION_MASK_PORTRAIT_UPSIDE_DOWN;
        }
      }
    }
    (a.supportedOrientations & c) !== c && (c = a.supportedOrientations);
    return c;
  };
  Aa.prototype.onViewDidAppear = function() {
    this._handlers.forEach(function(a) {
      return a.onContainerShow();
    });
  };
  Aa.prototype.onViewDidDisappear = function() {
    this._handlers.forEach(function(a) {
      return a.onContainerDestroy();
    });
  };
  Aa.prototype.onMemoryWarning = function() {
    this._handlers.forEach(function(a) {
      return a.onContainerSystemMessage(Pc.MEMORY_WARNING);
    });
  };
  Aa.prototype.onAppBackground = function() {
    this._paused = !0;
    this._handlers.forEach(function(a) {
      return a.onContainerBackground();
    });
  };
  Aa.prototype.onAppForeground = function() {
    this._paused = !1;
    this._handlers.forEach(function(a) {
      return a.onContainerForeground();
    });
  };
  Aa.prototype.onNotification = function(a, c) {
    if (this._showing) {
      switch(a) {
        case Aa._audioSessionInterrupt:
          0 === c.AVAudioSessionInterruptionTypeKey ? 1 === c.AVAudioSessionInterruptionOptionKey && this._handlers.forEach(function(a) {
            return a.onContainerSystemMessage(Pc.AUDIO_SESSION_INTERRUPT_ENDED);
          }) : 1 === c.AVAudioSessionInterruptionTypeKey && this._handlers.forEach(function(a) {
            return a.onContainerSystemMessage(Pc.AUDIO_SESSION_INTERRUPT_BEGAN);
          });
          break;
        case Aa._audioSessionRouteChange:
          3 !== c.AVAudioSessionRouteChangeReasonKey ? this._handlers.forEach(function(a) {
            return a.onContainerSystemMessage(Pc.AUDIO_SESSION_ROUTE_CHANGED);
          }) : this._handlers.forEach(function(a) {
            return a.onContainerSystemMessage(Pc.AUDIO_SESSION_CATEGORY_CHANGED);
          });
      }
    }
  };
  Aa._audioSessionInterrupt = "AVAudioSessionInterruptionNotification";
  Aa._audioSessionRouteChange = "AVAudioSessionRouteChangeNotification";
  var cd;
  (function(a) {
    a[a.STARTED = 0] = "STARTED";
    a[a.RESUMED = 1] = "RESUMED";
    a[a.STOPPED = 2] = "STOPPED";
    a[a.FINISHED = 3] = "FINISHED";
    a[a.REDIRECTED = 4] = "REDIRECTED";
    a[a.ERROR = 5] = "ERROR";
  })(cd || (cd = {}));
  ag.prototype.stop = function() {
    this._cache.onStart.unsubscribe(this._startObserver);
    this._cache.onRedirect.unsubscribe(this._redirectObserver);
    this._cache.onFinish.unsubscribe(this._finishObserver);
    this._cache.onStop.unsubscribe(this._stopObserver);
    this._cache.onFinishError.unsubscribe(this._finishErrorObserver);
    this._cache.onError.unsubscribe(this._errorObserver);
  };
  ag.prototype.sendDiagnostic = function(a, c) {
    a = {eventTimestamp:Date.now(), eventType:cd[a], creativeType:this._data.creativeType, size:c.contentLength, downloadStartTimestamp:c.contentLength, targetGameId:this._data.targetGameId, targetCampaignId:this._data.targetCampaignId};
    I.sendEvent("ads.sdk2.events.creativedownload.json", ub.ANONYMOUS, a);
  };
  h.inherits(qe, w);
  qe.prototype.getMetaData = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "getMetaData", [a, c]);
  };
  qe.prototype.getCacheDirectoryType = function() {
    return this._nativeBridge.invoke(this._apiClass, "getCacheDirectoryType");
  };
  qe.prototype.getCacheDirectoryExists = function() {
    return this._nativeBridge.invoke(this._apiClass, "getCacheDirectoryExists");
  };
  qe.prototype.recreateCacheDirectory = function() {
    return this._nativeBridge.invoke(this._apiClass, "recreateCacheDirectory");
  };
  h.inherits($f, w);
  $f.prototype.getVideoInfo = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getVideoInfo", [a]);
  };
  var Rb;
  (function(a) {
    a[a.FILE_IO_ERROR = 0] = "FILE_IO_ERROR";
    a[a.FILE_NOT_FOUND = 1] = "FILE_NOT_FOUND";
    a[a.FILE_ALREADY_CACHING = 2] = "FILE_ALREADY_CACHING";
    a[a.NOT_CACHING = 3] = "NOT_CACHING";
    a[a.JSON_ERROR = 4] = "JSON_ERROR";
    a[a.NO_INTERNET = 5] = "NO_INTERNET";
    a[a.MALFORMED_URL = 6] = "MALFORMED_URL";
    a[a.NETWORK_ERROR = 7] = "NETWORK_ERROR";
    a[a.ILLEGAL_STATE = 8] = "ILLEGAL_STATE";
    a[a.INVALID_ARGUMENT = 9] = "INVALID_ARGUMENT";
  })(Rb || (Rb = {}));
  var Dc;
  (function(a) {
    a[a.DOWNLOAD_STARTED = 0] = "DOWNLOAD_STARTED";
    a[a.DOWNLOAD_PROGRESS = 1] = "DOWNLOAD_PROGRESS";
    a[a.DOWNLOAD_END = 2] = "DOWNLOAD_END";
    a[a.DOWNLOAD_STOPPED = 3] = "DOWNLOAD_STOPPED";
    a[a.DOWNLOAD_ERROR = 4] = "DOWNLOAD_ERROR";
  })(Dc || (Dc = {}));
  h.inherits(ob, w);
  ob.prototype.download = function(a, c, d, e) {
    return this._nativeBridge.invoke(this._apiClass, "download", [a, c, d, e]);
  };
  ob.prototype.stop = function() {
    return this._nativeBridge.invoke(this._apiClass, "stop");
  };
  ob.prototype.isCaching = function() {
    return this._nativeBridge.invoke(this._apiClass, "isCaching");
  };
  ob.prototype.getFiles = function() {
    return this._nativeBridge.invoke(this._apiClass, "getFiles");
  };
  ob.prototype.getFileInfo = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getFileInfo", [a]);
  };
  ob.prototype.getFilePath = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getFilePath", [a]);
  };
  ob.prototype.getHash = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getHash", [a]);
  };
  ob.prototype.deleteFile = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "deleteFile", [a]);
  };
  ob.prototype.setProgressInterval = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setProgressInterval", [a]);
  };
  ob.prototype.getProgressInterval = function() {
    return this._nativeBridge.invoke(this._apiClass, "getProgressInterval");
  };
  ob.prototype.setTimeouts = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "setTimeouts", [a, c]);
  };
  ob.prototype.getTimeouts = function() {
    return this._nativeBridge.invoke(this._apiClass, "getTimeouts");
  };
  ob.prototype.getFreeSpace = function() {
    return this._nativeBridge.invoke(this._apiClass, "getFreeSpace");
  };
  ob.prototype.getTotalSpace = function() {
    return this._nativeBridge.invoke(this._apiClass, "getTotalSpace");
  };
  ob.prototype.getFileContent = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "getFileContent", [a, c]);
  };
  ob.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Dc[Dc.DOWNLOAD_STARTED]:
        this.onDownloadStarted.trigger(c[0], c[1], c[2], c[3], c[4]);
        break;
      case Dc[Dc.DOWNLOAD_PROGRESS]:
        this.onDownloadProgress.trigger(c[0], c[1], c[2]);
        break;
      case Dc[Dc.DOWNLOAD_END]:
        this.onDownloadEnd.trigger(c[0], c[1], c[2], c[3], c[4], c[5]);
        break;
      case Dc[Dc.DOWNLOAD_STOPPED]:
        this.onDownloadStopped.trigger(c[0], c[1], c[2], c[3], c[4], c[5]);
        break;
      case Dc[Dc.DOWNLOAD_ERROR]:
        this.onDownloadError.trigger(c[0], c[1], c[2]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  mf.getFileInfo = function(a, c) {
    return a.getFileInfo(c).catch(function() {
      return Promise.resolve(void 0);
    });
  };
  mf.isCached = function(a, c, d) {
    var e = this;
    return Ea.getFileId(d, a).then(function(d) {
      return e.getFileInfo(a, d).then(function(a) {
        return a && a.found && 0 < a.size ? c.getFileInfo(d).then(function(a) {
          return a.fullyDownloaded;
        }).catch(function() {
          return !1;
        }) : !1;
      });
    });
  };
  var ya;
  (function(a) {
    a[a.OK = 0] = "OK";
    a[a.STOPPED = 1] = "STOPPED";
    a[a.FAILED = 2] = "FAILED";
  })(ya || (ya = {}));
  ra.prototype.cache = function(a) {
    var c = this;
    return Promise.all([mf.isCached(this._core.Cache, this._cacheBookkeeping, a), Ea.getFileId(a, this._core.Cache)]).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      e = e.next().value;
      if (d) {
        return Promise.resolve([ya.OK, e]);
      }
      d = c.registerCallback(a, e, c._paused);
      c._paused || c.downloadFile(a, e);
      return d;
    }).then(function(a) {
      a = h.makeIterator(a);
      var d = a.next().value, f = a.next().value;
      if (d === ya.OK) {
        return Ea.getFileUrl(f, c._core.Cache).then(function(a) {
          return [f, a];
        });
      }
      throw d;
    }).catch(function(a) {
      throw a;
    });
  };
  ra.prototype.stop = function() {
    var a = !1, c;
    for (c in this._callbacks) {
      if (this._callbacks.hasOwnProperty(c)) {
        var d = this._callbacks[c];
        d.networkRetry || d.paused ? this.fulfillCallback(c, ya.STOPPED) : a = !0;
      }
    }
    a && this._core.Cache.stop();
  };
  ra.prototype.isPaused = function() {
    return this._paused;
  };
  ra.prototype.getFreeSpace = function() {
    return this._core.Cache.getFreeSpace().then(function(a) {
      return a;
    });
  };
  ra.prototype.downloadFile = function(a, c) {
    var d = this;
    this._currentUrl = a;
    mf.getFileInfo(this._core.Cache, c).then(function(e) {
      var f = !1;
      e && e.found && 0 < e.size && (f = !0);
      "file://" === a.substring(0, 7) ? (F.trigger("rejected_cache_file_url", {url:a, fileId:c}), d.fulfillCallback(a, ya.FAILED)) : d._core.Cache.download(a, c, [], f).catch(function(e) {
        var f = d._callbacks[a];
        if (f) {
          switch(e) {
            case Rb[Rb.FILE_ALREADY_CACHING]:
              d._core.Sdk.logError("Unity Ads cache error: attempted to add second download from " + a + " to " + c);
              d.fulfillCallback(a, ya.FAILED);
              break;
            case Rb[Rb.NO_INTERNET]:
              d.handleRetry(f, a, Rb[Rb.NO_INTERNET]);
              break;
            default:
              d.fulfillCallback(a, ya.FAILED);
          }
        }
      });
    });
  };
  ra.prototype.registerCallback = function(a, c, d, e) {
    var f = this;
    return new Promise(function(g, k) {
      f._callbacks[a] = {fileId:c, networkRetry:!1, retryCount:0, networkRetryCount:0, paused:d, startTimestamp:0, contentLength:0, resolve:g, reject:k, originalUrl:e};
    });
  };
  ra.prototype.fulfillCallback = function(a, c) {
    var d = this._callbacks[a], e = d.originalUrl ? this._callbacks[d.originalUrl] : void 0;
    c === ya.FAILED ? (d.reject(ya.FAILED), e && e.reject(ya.FAILED)) : (d.resolve([c, d.fileId]), e && e.resolve([c, e.fileId]));
    d.originalUrl && delete this._callbacks[d.originalUrl];
    delete this._callbacks[a];
  };
  ra.prototype.onDownloadStarted = function(a, c, d, e, f) {
    this.updateProgress(0, !1);
    var g = this._callbacks[a];
    g ? (g.startTimestamp = Date.now(), g.contentLength = d, this.onStart.trigger(ra.getCacheEvent(g), c), 0 === c && this._cacheBookkeeping.writeFileEntry(g.fileId, this._cacheBookkeeping.createFileInfo(!1, c, d, Ea.getFileIdExtension(g.fileId))), d > this._maxFileSize && (this._core.Cache.stop(), this.onTooLargeFile.trigger(ra.getCacheEvent(g), c, d, e, f))) : F.trigger("cache_callback_error", {url:a, currentUrl:this._currentUrl, callbacks:JSON.stringify(this._callbacks), size:c, totalSize:d, responseCode:e, 
    headers:f});
  };
  ra.prototype.onDownloadProgress = function(a, c, d) {
    this.updateProgress(c, !1);
    this._core.Sdk.logDebug('Cache progress for "' + a + '": ' + Math.round(c / d * 100) + "%");
  };
  ra.prototype.onDownloadEnd = function(a, c, d, e, f, g) {
    this.updateProgress(c, !0);
    if (e = this._callbacks[a]) {
      if (x.AllowedResponseCodes.exec(f.toString())) {
        this._cacheBookkeeping.writeFileEntry(e.fileId, this._cacheBookkeeping.createFileInfo(!0, c, d, Ea.getFileIdExtension(e.fileId))), this.fulfillCallback(a, ya.OK), this.onFinish.trigger(ra.getCacheEvent(e));
      } else {
        if (x.RedirectResponseCodes.exec(f.toString())) {
          this.onRedirect.trigger(ra.getCacheEvent(e));
          this._cacheBookkeeping.removeFileEntry(e.fileId);
          this._core.Cache.deleteFile(e.fileId);
          var k = x.getHeader(g, "location");
          if (k) {
            c = e.fileId;
            e.originalUrl && (c = this._callbacks[e.originalUrl].fileId, a = e.originalUrl);
            this.registerCallback(k, c, !1, a);
            this.downloadFile(k, c);
            return;
          }
        } else {
          if (416 === f) {
            this.onFinishError.trigger(ra.getCacheEvent(e), c, d, f, g);
            this.handleRequestRangeError(e, a);
            return;
          }
        }
        this.onFinishError.trigger(ra.getCacheEvent(e), c, d, f, g);
        this._cacheBookkeeping.removeFileEntry(e.fileId);
        0 < c && this._core.Cache.deleteFile(e.fileId);
        this.fulfillCallback(a, ya.FAILED);
      }
    }
  };
  ra.prototype.onDownloadStopped = function(a, c, d) {
    this.updateProgress(c, !0);
    var e = this._callbacks[a];
    e && (this._cacheBookkeeping.writeFileEntry(e.fileId, this._cacheBookkeeping.createFileInfo(!1, c, d, Ea.getFileIdExtension(e.fileId))), this.onStop.trigger(ra.getCacheEvent(e)), e.contentLength > this._maxFileSize ? this.fulfillCallback(a, ya.FAILED) : e.paused || this.fulfillCallback(a, ya.STOPPED));
  };
  ra.prototype.onDownloadError = function(a, c, d) {
    var e = this._callbacks[c];
    if (e) {
      switch(this.onError.trigger(ra.getCacheEvent(e), c, d), a) {
        case Rb[Rb.NETWORK_ERROR]:
          this.handleRetry(e, c, a);
          break;
        case Rb[Rb.NO_INTERNET]:
          this.handleRetry(e, c, a);
          break;
        default:
          this.fulfillCallback(c, ya.FAILED);
      }
    }
  };
  ra.prototype.handleRetry = function(a, c) {
    var d = this;
    a.retryCount < this._maxRetries ? (a.retryCount++, a.networkRetry = !0, setTimeout(function() {
      var a = d._callbacks[c];
      a && a.networkRetry && (a.networkRetry = !1, d.downloadFile(c, a.fileId));
    }, this._retryDelay)) : a.networkRetryCount < this._maxRetries ? (a.networkRetryCount++, a.networkRetry = !0) : this.fulfillCallback(c, ya.FAILED);
  };
  ra.prototype.handleRequestRangeError = function(a, c) {
    var d = this;
    Promise.all([this._core.Cache.getFileInfo(a.fileId), this._request.head(c)]).then(function(e) {
      var f = h.makeIterator(e);
      e = f.next().value;
      f = f.next().value;
      var g = x.getHeader(f.headers, "Content-Length");
      200 === f.responseCode && e.found && g && e.size === parseInt(g, 10) && 0 < e.size ? (d._cacheBookkeeping.writeFileEntry(a.fileId, d._cacheBookkeeping.createFileInfo(!0, e.size, e.size, Ea.getFileIdExtension(a.fileId))), d.fulfillCallback(c, ya.OK)) : (d._cacheBookkeeping.removeFileEntry(a.fileId), e.found && d._core.Cache.deleteFile(a.fileId), d.fulfillCallback(c, ya.FAILED));
    }).catch(function() {
      d._cacheBookkeeping.removeFileEntry(a.fileId);
      d.fulfillCallback(c, ya.FAILED);
    });
  };
  ra.prototype.onNetworkConnected = function() {
    for (var a in this._callbacks) {
      if (this._callbacks.hasOwnProperty(a)) {
        var c = this._callbacks[a];
        c.networkRetry && (c.networkRetry = !1, this.downloadFile(a, c.fileId));
      }
    }
  };
  ra.prototype.pause = function(a) {
    if (a !== this._paused) {
      if (this._paused = a) {
        var c = !1;
        for (d in this._callbacks) {
          this._callbacks.hasOwnProperty(d) && (a = this._callbacks[d], a.paused = !0, a.networkRetry || (c = !0));
        }
        c && this._core.Cache.stop();
      } else {
        for (c in this._callbacks) {
          if (this._callbacks.hasOwnProperty(c)) {
            var d = this._callbacks[c];
            d.paused && (d.paused = !1, this.downloadFile(c, d.fileId));
          }
        }
      }
    }
  };
  ra.prototype.onStorageSet = function(a, c) {
    a = !1;
    c && c.caching && c.caching.pause && "value" in c.caching.pause && (this.pause(c.caching.pause.value), a = !0);
    a && (this._core.Storage.delete(t.PUBLIC, "caching.pause"), this._core.Storage.write(t.PUBLIC));
  };
  ra.prototype.updateProgress = function(a, c) {
    var d = a - this._currentDownloadPosition, e = Date.now() - (this._lastProgressEvent || 0);
    0 < a && 102400 < d && 512 < d / e && !this._fastConnectionDetected && (this._fastConnectionDetected = !0, this.onFastConnectionDetected.trigger());
    c ? (this._currentDownloadPosition = 0, this._fastConnectionDetected = !1) : (this._currentDownloadPosition = a, this._lastProgressEvent = Date.now());
  };
  ra.getCacheEvent = function(a) {
    return {fileId:a.fileId, startTimestamp:a.startTimestamp, contentLength:a.contentLength};
  };
  var Pd;
  (function(a) {
    a[a.METADATA_KEY_DURATION = 9] = "METADATA_KEY_DURATION";
    a[a.METADATA_KEY_VIDEO_HEIGHT = 19] = "METADATA_KEY_VIDEO_HEIGHT";
    a[a.METADATA_KEY_VIDEO_WIDTH = 18] = "METADATA_KEY_VIDEO_WIDTH";
  })(Pd || (Pd = {}));
  ce.getVideoInfo = function(a, c, d) {
    return a === m.IOS ? c.Ios.getVideoInfo(d).then(function(a) {
      var c = h.makeIterator(a);
      a = c.next().value;
      var d = c.next().value;
      c = c.next().value;
      return [a, d, c];
    }) : c.Android.getMetaData(d, [Pd.METADATA_KEY_VIDEO_WIDTH, Pd.METADATA_KEY_VIDEO_HEIGHT, Pd.METADATA_KEY_DURATION]).then(function(a) {
      var c = 0, d = 0, e = 0;
      a = h.makeIterator(a);
      for (var v = a.next(); !v.done; v = a.next()) {
        v = v.value;
        var l = v[1];
        switch(v[0]) {
          case Pd.METADATA_KEY_VIDEO_WIDTH:
            c = l;
            break;
          case Pd.METADATA_KEY_VIDEO_HEIGHT:
            d = l;
            break;
          case Pd.METADATA_KEY_DURATION:
            e = l;
        }
      }
      return [c, d, e];
    });
  };
  ce.isVideoValid = function(a, c, d, e) {
    var f = this;
    return Ea.getFileId(d.getOriginalUrl(), c).then(function(g) {
      return ce.getVideoInfo(a, c, g).then(function(a) {
        var c = h.makeIterator(a);
        a = c.next().value;
        var g = c.next().value;
        c = c.next().value;
        var k = 0 < a && 0 < g && 0 < c && c <= f._maxVideoDuration, l = "video_validation_failed";
        c > f._maxVideoDuration && (l = "video_validation_failed_video_too_long");
        k || ua.trigger(l, {url:d.getOriginalUrl(), width:a, height:g, duration:c}, e.getSession());
        return k;
      }).catch(function(a) {
        ua.trigger("video_validation_failed", {url:d.getOriginalUrl(), error:a}, e.getSession());
        return !1;
      });
    });
  };
  ce._maxVideoDuration = 40000;
  var vd;
  (function(a) {
    a[a.REQUIRED = 0] = "REQUIRED";
    a[a.OPTIONAL = 1] = "OPTIONAL";
  })(vd || (vd = {}));
  Lb.prototype.setCacheDiagnostics = function(a) {
    this._sendCacheDiagnostics = a;
  };
  Lb.prototype.setup = function(a) {
    var c = this;
    return this._cacheMode === Zb.DISABLED ? Promise.resolve(a) : this.selectAssets(a).then(function(d) {
      d = h.makeIterator(d);
      var e = d.next().value, f = d.next().value;
      d = c.cache(e, a, vd.REQUIRED).then(function() {
        return c.validateVideos(e, a);
      });
      if (c._cacheMode === Zb.FORCED) {
        return d.then(function() {
          c.cache(f, a, vd.OPTIONAL).then(function() {
            c._backupCampaignManager.storeCampaign(a);
          }).catch(function() {
          });
          return a;
        });
      }
      if (c._cacheMode === Zb.ADAPTIVE) {
        if (c._fastConnectionDetected) {
          d.then(function() {
            return c.cache(f, a, vd.OPTIONAL);
          }).catch(function() {
          });
        } else {
          var g = c._queueId, k = c.registerCampaign(a, g);
          c._queueId++;
          d.then(function() {
            var d = c._campaignQueue[g];
            d && (d.resolved || (d.resolved = !0, d.resolve(a)), delete c._campaignQueue[g]);
            c.cache(f, a, vd.OPTIONAL).catch(function() {
            });
            return a;
          }).catch(function(a) {
            var d = c._campaignQueue[g];
            d && (d.resolved || (d.resolved = !0, d.reject(a)), delete c._campaignQueue[g]);
          });
          return k;
        }
      } else {
        d.then(function() {
          return c.cache(f, a, vd.OPTIONAL);
        }).then(function() {
          c._backupCampaignManager.storeCampaign(a);
        }).catch(function() {
        });
      }
      return Promise.resolve(a);
    });
  };
  Lb.prototype.selectAssets = function(a) {
    var c = a.getRequiredAssets(), d = a.getOptionalAssets();
    return a instanceof D || a instanceof L ? this.getOrientedVideo(a).then(function(a) {
      return [[a], d];
    }) : Promise.resolve([c, d]);
  };
  Lb.prototype.enableCaching = function() {
    this._stopped = !1;
  };
  Lb.prototype.stopCaching = function() {
    this._stopped = !0;
    this._fastConnectionDetected = !1;
    for (this._cache.stop(); this._requiredQueue.length;) {
      var a = this._requiredQueue.shift();
      a && a.reject(ya.STOPPED);
    }
    for (; this._optionalQueue.length;) {
      (a = this._optionalQueue.shift()) && a.reject(ya.STOPPED);
    }
  };
  Lb.prototype.checkFreeSpace = function() {
    var a = this;
    return this._cacheMode === Zb.DISABLED ? Promise.resolve() : this._cache.getFreeSpace().then(function(c) {
      20480 > c && (a._cacheMode = Zb.DISABLED, F.trigger("caching_disabled", {freeCacheSpace:c}));
    }).catch(function() {
      F.trigger("cache_space_check_failed", {});
    });
  };
  Lb.prototype.cache = function(a, c, d) {
    var e = this, f = Promise.resolve(), g = {};
    a = h.makeIterator(a);
    for (var k = a.next(); !k.done; g = {asset:g.asset}, k = a.next()) {
      g.asset = k.value, f = f.then(function(a) {
        return function() {
          if (e._stopped) {
            return Promise.reject(ya.STOPPED);
          }
          var f = e.queueAsset(a.asset.getOriginalUrl(), d, e.getCacheDiagnostics(a.asset, c)).then(function(c) {
            var d = h.makeIterator(c);
            c = d.next().value;
            d = d.next().value;
            a.asset.setFileId(c);
            a.asset.setCachedUrl(d);
            return c;
          }).then(function(a) {
            return d === vd.REQUIRED ? e._cacheBookkeeping.writeFileForCampaign(c.getId(), a) : Promise.resolve();
          });
          e.executeAssetQueue(c);
          return f;
        };
      }(g));
    }
    return f;
  };
  Lb.prototype.queueAsset = function(a, c, d) {
    var e = this;
    return new Promise(function(f, g) {
      f = {url:a, diagnostics:d, resolve:f, reject:g};
      c === vd.REQUIRED ? e._requiredQueue.push(f) : e._optionalQueue.push(f);
    });
  };
  Lb.prototype.executeAssetQueue = function(a) {
    var c = this;
    if (!this._caching) {
      var d = this._requiredQueue.shift();
      d || (d = this._optionalQueue.shift());
      if (d) {
        var e = d;
        this._caching = !0;
        var f = this._cache.onTooLargeFile.subscribe(function(d, f, g, l, m) {
          c.handleTooLargeFile(e.url, a, f, g, l, m);
        }), g;
        d.diagnostics && (g = new ag(this._cache, d.diagnostics));
        this._cache.cache(e.url).then(function(d) {
          var k = h.makeIterator(d);
          d = k.next().value;
          k = k.next().value;
          c._cache.onTooLargeFile.unsubscribe(f);
          g && g.stop();
          e.resolve([d, k]);
          c._caching = !1;
          c.executeAssetQueue(a);
        }).catch(function(d) {
          c._cache.onTooLargeFile.unsubscribe(f);
          g && g.stop();
          e.reject(d);
          c._caching = !1;
          c.executeAssetQueue(a);
        });
      }
    }
  };
  Lb.prototype.validateVideos = function(a, c) {
    var d = [], e = {};
    a = h.makeIterator(a);
    for (var f = a.next(); !f.done; e = {asset:e.asset}, f = a.next()) {
      e.asset = f.value, e.asset instanceof ta && d.push(ce.isVideoValid(this._platform, this._core.Cache, e.asset, c).then(function(a) {
        return function(c) {
          if (!c) {
            throw Error("Video failed to validate: " + a.asset.getOriginalUrl());
          }
        };
      }(e)));
    }
    return Promise.all(d);
  };
  Lb.prototype.getOrientedVideo = function(a) {
    return Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(c) {
      c = h.makeIterator(c);
      var d = c.next().value, e = c.next().value;
      c = d >= e;
      d = e > d;
      e = a.getVideo();
      var f = a.getPortraitVideo();
      if (c) {
        if (e) {
          return e;
        }
        if (f) {
          return f;
        }
      }
      if (d) {
        if (f) {
          return f;
        }
        if (e) {
          return e;
        }
      }
      throw new pb("Unable to select oriented video for caching");
    });
  };
  Lb.prototype.onFastConnectionDetected = function() {
    this._fastConnectionDetected = !0;
    for (var a in this._campaignQueue) {
      if (this._campaignQueue.hasOwnProperty(a)) {
        var c = this._campaignQueue[a];
        c.resolved || (c.resolved = !0, c.resolve(c.campaign));
      }
    }
  };
  Lb.prototype.registerCampaign = function(a, c) {
    var d = this;
    return new Promise(function(e, f) {
      d._campaignQueue[c] = {campaign:a, resolved:!1, resolve:e, reject:f};
    });
  };
  Lb.prototype.getCacheDiagnostics = function(a, c) {
    if (this._sendCacheDiagnostics) {
      return {creativeType:a.getDescription(), targetGameId:c instanceof D ? c.getGameId() : 0, targetCampaignId:c.getId()};
    }
  };
  Lb.prototype.handleTooLargeFile = function(a, c, d, e, f, g) {
    ua.trigger("too_large_file", {url:a, size:d, totalSize:e, responseCode:f, headers:g}, c.getSession());
    a = c.getSeatId();
    void 0 !== a && (d = "", c = c.getAdType(), void 0 !== c && (d = c), c = this._pts.buildErrorData(tg.TooLargeFile, d, a), this._pts.reportError(c));
  };
  h.inherits(xc, A);
  xc.getDefaultAdUnitStyle = function() {
    return new xc({ctaButtonColor:"#167dfb"});
  };
  xc.validateIAdUnitStyle = function(a) {
    var c = Object.assign({}, a);
    a.ctaButtonColor && a.ctaButtonColor.match(/#[0-F]{6}/i) || (c.ctaButtonColor = void 0);
    return c;
  };
  xc.prototype.getCTAButtonColor = function() {
    return this.get("ctaButtonColor");
  };
  xc.prototype.getDTO = function() {
    return {ctaButtonColor:this.getCTAButtonColor()};
  };
  xc.Schema = {ctaButtonColor:["string", "undefined"]};
  h.inherits(Kb, Ka);
  Kb.prototype.getDescription = function() {
    return "IMAGE";
  };
  var ha;
  (function(a) {
    a[a.START = 0] = "START";
    a[a.FIRST_QUARTILE = 1] = "FIRST_QUARTILE";
    a[a.MIDPOINT = 2] = "MIDPOINT";
    a[a.THIRD_QUARTILE = 3] = "THIRD_QUARTILE";
    a[a.VIEW = 4] = "VIEW";
    a[a.SKIP = 5] = "SKIP";
    a[a.CLICK = 6] = "CLICK";
    a[a.IMPRESSION = 7] = "IMPRESSION";
    a[a.VAST_COMPLETE = 8] = "VAST_COMPLETE";
  })(ha || (ha = {}));
  h.inherits(Nc, A);
  Nc.prototype.getId = function() {
    return this.get("id");
  };
  Nc.prototype.getAdPlan = function() {
    return this.get("adPlan");
  };
  Nc.prototype.setAdPlan = function(a) {
    this.set("adPlan", a);
  };
  Nc.prototype.getEventSent = function(a) {
    var c = this.get("eventSent");
    return a in c ? c[a] : !1;
  };
  Nc.prototype.setEventSent = function(a) {
    var c = this.get("eventSent");
    a in c || (c[a] = !0);
    this.set("eventSent", c);
  };
  Nc.prototype.setGameSessionCounters = function(a) {
    this.set("gameSessionCounters", a);
  };
  Nc.prototype.getGameSessionCounters = function() {
    return this.get("gameSessionCounters");
  };
  Nc.prototype.getDTO = function() {
    return {id:this.getId(), eventSent:this.get("eventSent")};
  };
  Lc.prototype.loadSession = function(a) {
    try {
      var c = JSON.parse(a);
    } catch (d) {
      return;
    }
    if (c.id) {
      return a = new Nc(c.id), c.adPlan && a.setAdPlan(c.adPlan), a.setGameSessionCounters({adRequests:0, starts:0, views:0, startsPerCampaign:{}, startsPerTarget:{}, viewsPerCampaign:{}, viewsPerTarget:{}, latestCampaignsStarts:{}}), a;
    }
  };
  Lc.prototype.loadAdUnitStyle = function(a) {
    try {
      var c = JSON.parse(a);
    } catch (d) {
      return;
    }
    if (c.ctaButtonColor) {
      return new xc({ctaButtonColor:c.ctaButtonColor});
    }
  };
  Lc.prototype.loadImage = function(a, c) {
    try {
      var d = JSON.parse(a);
    } catch (e) {
      return;
    }
    a = new Kb(d.url, c);
    d.fileId && a.setFileId(d.fileId);
    d.cachedUrl && a.setCachedUrl(d.cachedUrl);
    return a;
  };
  Lc.prototype.loadVideo = function(a, c) {
    try {
      var d = JSON.parse(a);
    } catch (e) {
      return;
    }
    a = new ta(d.url, c, d.size, d.creativeId);
    d.fileId && a.setFileId(d.fileId);
    d.cachedUrl && a.setCachedUrl(d.cachedUrl);
    return a;
  };
  Lc.prototype.loadHTML = function(a, c) {
    try {
      var d = JSON.parse(a);
    } catch (e) {
      return;
    }
    a = new fe(d.url, c, d.creativeId);
    d.fileId && a.setFileId(d.fileId);
    d.cachedUrl && a.setCachedUrl(d.cachedUrl);
    return a;
  };
  h.inherits(Zf, Lc);
  Zf.prototype.load = function(a) {
    try {
      var c = JSON.parse(a);
    } catch (f) {
      return;
    }
    c.session && (c.session = this.loadSession(c.session));
    if (c.video) {
      try {
        var d = JSON.parse(c.video);
      } catch (f) {
        return;
      }
      d.video && (d.video = this.loadVideo(d.video, c.session));
      c.video = new Ld(d);
    }
    try {
      var e = new ed(c);
    } catch (f) {
      return;
    }
    return e;
  };
  var ze;
  (function(a) {
    a[a.SET = 0] = "SET";
    a[a.DELETE = 1] = "DELETE";
  })(ze || (ze = {}));
  Mc.prototype.set = function(a, c) {
    this._batch.commands.push({type:ze.SET, key:a, value:c});
  };
  Mc.prototype.delete = function(a) {
    this._batch.commands.push({type:ze.DELETE, key:a});
  };
  Mc.prototype.getType = function() {
    return this._type;
  };
  Mc.prototype.getBatch = function() {
    return this._batch;
  };
  h.inherits(Yf, Lc);
  Yf.prototype.load = function(a) {
    try {
      var c = JSON.parse(a);
    } catch (e) {
      return;
    }
    c.session && (c.session = this.loadSession(c.session));
    c.gameIcon && (c.gameIcon = this.loadImage(c.gameIcon, c.session));
    c.landscapeImage && (c.landscapeImage = this.loadImage(c.landscapeImage, c.session));
    c.portraitImage && (c.portraitImage = this.loadImage(c.portraitImage, c.session));
    c.resourceAsset && (c.resourceAsset = this.loadHTML(c.resourceAsset, c.session));
    c.playableConfiguration && delete c.playableConfiguration;
    try {
      var d = new V(c);
    } catch (e) {
      return;
    }
    return d;
  };
  h.inherits(Xf, Lc);
  Xf.prototype.load = function(a) {
    try {
      var c = JSON.parse(a);
    } catch (e) {
      return;
    }
    c.session && (c.session = this.loadSession(c.session));
    c.adUnitStyle && (c.adUnitStyle = this.loadAdUnitStyle(c.adUnitStyle));
    c.gameIcon && (c.gameIcon = this.loadImage(c.gameIcon, c.session));
    c.squareImage && (c.squareImage = this.loadImage(c.squareImage, c.session));
    c.landscapeImage && (c.landscapeImage = this.loadImage(c.landscapeImage, c.session));
    c.portraitImage && (c.portraitImage = this.loadImage(c.portraitImage, c.session));
    c.video && (c.video = this.loadVideo(c.video, c.session));
    c.streamingVideo && (c.streamingVideo = this.loadVideo(c.streamingVideo, c.session));
    c.videoPortrait && (c.videoPortrait = this.loadVideo(c.videoPortrait, c.session));
    c.streamingPortraitVideo && (c.streamingPortraitVideo = this.loadVideo(c.streamingPortraitVideo, c.session));
    try {
      var d = new D(c);
    } catch (e) {
      return;
    }
    return d;
  };
  cc.prototype.storePlacement = function(a, c, d) {
    if (!this._coreConfiguration.getTestMode()) {
      var e = "backupcampaign.placement." + a.getId(), f = new Mc(t.PRIVATE);
      f.set(e + ".mediaid", c);
      f.set(e + ".adtypes", JSON.stringify(a.getAdTypes()));
      d && f.set(e + ".trackingurls", JSON.stringify(d));
      this._storageBridge.queue(f);
    }
  };
  cc.prototype.storeCampaign = function(a) {
    if (!this._coreConfiguration.getTestMode()) {
      var c = "backupcampaign.campaign." + a.getMediaId(), d = this.getCampaignType(a);
      if (d) {
        var e = a.getWillExpireAt();
        e || (e = Date.now() + cc._maxExpiryDelay);
        var f = new Mc(t.PRIVATE);
        f.set(c + ".type", d);
        f.set(c + ".data", a.toJSON());
        f.set(c + ".willexpireat", e);
        this._storageBridge.queue(f);
      }
    }
  };
  cc.prototype.loadCampaign = function(a) {
    var c = this;
    if (this._coreConfiguration.getTestMode()) {
      return Promise.resolve(void 0);
    }
    var d = "backupcampaign.placement." + a.getId();
    return Promise.all([this.getString(d + ".mediaid"), this.getString(d + ".adtypes")]).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      e = e.next().value;
      if (d && e && e === JSON.stringify(a.getAdTypes())) {
        return d = "backupcampaign.campaign." + d, Promise.all([c.getString(d + ".type"), c.getString(d + ".data"), c.getNumber(d + ".willexpireat")]).then(function(a) {
          var d = h.makeIterator(a);
          a = d.next().value;
          var e = d.next().value;
          d = d.next().value;
          if (a && e && d && Date.now() < d) {
            var f = c.getCampaignLoader(a);
            if (f) {
              if (f = f.load(e)) {
                return c.verifyCachedFiles(f);
              }
              F.trigger("backup_campaign_loading_failed", {type:a, data:e, willExpireAt:d});
            }
          }
          return Promise.resolve(void 0);
        });
      }
    }).catch(function() {
    });
  };
  cc.prototype.loadTrackingUrls = function(a) {
    return this.getString("backupcampaign.placement." + a.getId() + ".trackingurls").then(function(a) {
      return JSON.parse(a);
    }).catch(function() {
    });
  };
  cc.prototype.deleteBackupCampaigns = function() {
    var a = new Mc(t.PRIVATE);
    a.delete("backupcampaign");
    this._storageBridge.queue(a);
  };
  cc.prototype.getCampaignType = function(a) {
    if (a instanceof D) {
      return "performance";
    }
    if (a instanceof ed) {
      return "admob";
    }
    if (a instanceof V) {
      return "mraid";
    }
  };
  cc.prototype.getCampaignLoader = function(a) {
    if ("performance" === a) {
      return new Xf;
    }
    if ("admob" === a) {
      return new Zf;
    }
    if ("mraid" === a) {
      return new Yf;
    }
  };
  cc.prototype.getString = function(a) {
    return this._core.Storage.get(t.PRIVATE, a);
  };
  cc.prototype.getNumber = function(a) {
    return this._core.Storage.get(t.PRIVATE, a);
  };
  cc.prototype.verifyCachedFiles = function(a) {
    var c = a.getRequiredAssets(), d = a.getOptionalAssets();
    if (0 === c.length && 0 === d.length) {
      return Promise.resolve(a);
    }
    var e = [];
    if (a instanceof D) {
      var f = a.getVideo(), g = a.getPortraitVideo();
      f && f.isCached() && e.push(this.verifyCachedAsset(f));
      g && g.isCached() && e.push(this.verifyCachedAsset(g));
    }
    c = h.makeIterator(c);
    for (f = c.next(); !f.done; f = c.next()) {
      e.push(this.verifyCachedAsset(f.value));
    }
    d = h.makeIterator(d);
    for (c = d.next(); !c.done; c = d.next()) {
      e.push(this.verifyCachedAsset(c.value));
    }
    return Promise.all(e).then(function() {
      return a;
    });
  };
  cc.prototype.verifyCachedAsset = function(a) {
    var c = a.getFileId();
    return a.isCached() && c ? this._core.Cache.getFileInfo(c).then(function(c) {
      c.found && 0 < c.size || (a.setCachedUrl(void 0), a.setFileId(void 0));
    }) : Promise.resolve();
  };
  cc._maxExpiryDelay = 6048E5;
  Kg.prototype.handleCampaignError = function() {
    return Promise.resolve();
  };
  Jg.getCampaignErrorHandler = function(a, c, d) {
    switch(a) {
      case Qc.ProgrammaticVast:
        return new cg(c, d);
      default:
        return new Kg;
    }
  };
  wc.NoFillDelay = 3600;
  wc.ErrorRefillDelay = 3600;
  wc.ParsingErrorRefillDelay = 60;
  h.inherits(Ca, A);
  Ca.prototype.getPlacements = function() {
    return this.get("placements");
  };
  Ca.prototype.getContentType = function() {
    return this.get("contentType");
  };
  Ca.prototype.getContent = function() {
    return this.get("content");
  };
  Ca.prototype.getJsonContent = function() {
    return qd.parse(this.getContent());
  };
  Ca.prototype.getCacheTTL = function() {
    return this.get("cacheTTL");
  };
  Ca.prototype.getTrackingUrls = function() {
    return this.get("trackingUrls");
  };
  Ca.prototype.getAdType = function() {
    return this.get("adType");
  };
  Ca.prototype.getCreativeId = function() {
    return this.get("creativeId");
  };
  Ca.prototype.getSeatId = function() {
    return this.get("seatId");
  };
  Ca.prototype.getCorrelationId = function() {
    return this.get("correlationId");
  };
  Ca.prototype.getCategory = function() {
    return this.get("appCategory");
  };
  Ca.prototype.getSubCategory = function() {
    return this.get("appSubCategory");
  };
  Ca.prototype.getAdvertiserDomain = function() {
    return this.get("advertiserDomain");
  };
  Ca.prototype.getAdvertiserCampaignId = function() {
    return this.get("advertiserCampaignId");
  };
  Ca.prototype.getAdvertiserBundleId = function() {
    return this.get("advertiserBundleId");
  };
  Ca.prototype.getUseWebViewUserAgentForTracking = function() {
    return this.get("useWebViewUserAgentForTracking");
  };
  Ca.prototype.getBuyerId = function() {
    return this.get("buyerId");
  };
  Ca.prototype.getMediaId = function() {
    return this.get("mediaId");
  };
  Ca.prototype.getWidth = function() {
    return this.get("width");
  };
  Ca.prototype.getHeight = function() {
    return this.get("height");
  };
  Ca.prototype.isMoatEnabled = function() {
    return this.get("isMoatEnabled");
  };
  Ca.prototype.getDTO = function() {
    return {placements:this.getPlacements(), contentType:this.getContentType(), content:this.getContent(), cacheTTL:this.getCacheTTL(), trackingUrls:this.getTrackingUrls(), adType:this.getAdType(), creativeId:this.getCreativeId(), seatId:this.getSeatId(), correlationId:this.getCorrelationId(), appCategory:this.getCategory(), appSubCategory:this.getSubCategory(), useWebViewUserAgentForTracking:this.getUseWebViewUserAgentForTracking(), buyerId:this.getBuyerId(), mediaId:this.getMediaId()};
  };
  cb.init = function() {
    this._totalViewCount = this._totalStartCount = this._adRequestCount = 0;
    this._targetStartCounter = {};
    this._targetViewCounter = {};
    this._campaignStartCounter = {};
    this._campaignViewCounter = {};
    this._latestCampaignsStarts = {};
  };
  cb.addStart = function(a) {
    this._totalStartCount++;
    var c = a.getId();
    this._latestCampaignsStarts[c] = (new Date).toISOString();
    if (this._campaignStartCounter[c]) {
      var d = this._campaignStartCounter[c];
      this._campaignStartCounter[c] = ++d;
    } else {
      this._campaignStartCounter[c] = 1;
    }
    if (a instanceof D || a instanceof L) {
      a = a.getGameId(), this._targetStartCounter[a] ? (c = this._targetStartCounter[a], this._targetStartCounter[a] = ++c) : this._targetStartCounter[a] = 1;
    }
  };
  cb.addView = function(a) {
    this._totalViewCount++;
    var c = a.getId();
    if (this._campaignViewCounter[c]) {
      var d = this._campaignViewCounter[c];
      this._campaignViewCounter[c] = ++d;
    } else {
      this._campaignViewCounter[c] = 1;
    }
    if (a instanceof D || a instanceof L) {
      a = a.getGameId(), this._targetViewCounter[a] ? (c = this._targetViewCounter[a], this._targetViewCounter[a] = ++c) : this._targetViewCounter[a] = 1;
    }
  };
  cb.addAdRequest = function() {
    this._adRequestCount++;
  };
  cb.getCurrentCounters = function() {
    return {adRequests:this._adRequestCount, starts:this._totalStartCount, views:this._totalViewCount, startsPerCampaign:Object.assign({}, this._campaignStartCounter), startsPerTarget:Object.assign({}, this._targetStartCounter), viewsPerCampaign:Object.assign({}, this._campaignViewCounter), viewsPerTarget:Object.assign({}, this._targetViewCounter), latestCampaignsStarts:Object.assign({}, this._latestCampaignsStarts)};
  };
  cb._adRequestCount = 0;
  cb._totalStartCount = 0;
  cb._totalViewCount = 0;
  cb._targetStartCounter = {};
  cb._targetViewCounter = {};
  cb._campaignStartCounter = {};
  cb._campaignViewCounter = {};
  cb._latestCampaignsStarts = {};
  bd.genTimestamp = function() {
    return 1000 * Date.now();
  };
  bd.stripQueryAndFragment = function(a) {
    return a.split(/[?#]/)[0];
  };
  bd.uuidv4 = function() {
    return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(a) {
      var c = 16 * Math.random() | 0;
      return ("x" === a ? c : c & 3 | 8).toString(16);
    });
  };
  var Sb;
  (function(a) {
    a.StatusCode = "status.code";
    a.DeviceType = "device.type";
    a.Error = "error";
    a.ErrorMessage = "error.message";
  })(Sb || (Sb = {}));
  Pe.prototype.addTag = function(a, c) {
    this.tags[a] = c;
  };
  Pe.prototype.addAnnotation = function(a) {
    a = new lh(a);
    this.annotations.push(a);
  };
  Pe.prototype.stop = function() {
    this.duration = bd.genTimestamp() - this.timestamp;
  };
  h.inherits(be, ab);
  be.prototype.getName = function() {
    return this.get("name");
  };
  be.prototype.getVersion = function() {
    return this.get("version");
  };
  be.prototype.getDTO = function() {
    return {frameworkName:this.getName(), frameworkVersion:this.getVersion()};
  };
  h.inherits(lf, V);
  h.inherits(Fd, A);
  Fd.prototype.getPlacementId = function() {
    return this.get("placementId");
  };
  Fd.prototype.getMediaId = function() {
    return this.get("mediaId");
  };
  Fd.prototype.getTrackingUrls = function() {
    return this.get("trackingUrls");
  };
  Fd.prototype.getDTO = function() {
    return {placementId:this.getPlacementId(), mediaId:this.getMediaId(), trackingUrls:this.getTrackingUrls()};
  };
  C.setCampaignId = function(a) {
    C.CampaignId = a;
  };
  C.setSessionId = function(a) {
    C.SessionId = a;
  };
  C.setCountry = function(a) {
    C.Country = a;
  };
  C.setCampaignResponse = function(a) {
    C.CampaignResponse = a;
  };
  C.setBaseUrl = function(a) {
    C.BaseUrl = a + "/v4/games";
  };
  C.prototype.request = function(a) {
    var c = this;
    if (this._requesting) {
      return Promise.resolve();
    }
    cb.addAdRequest();
    var d = cb.getCurrentCounters();
    this._assetManager.enableCaching();
    this._assetManager.checkFreeSpace();
    this._requesting = !0;
    this.resetRealtimeDataForPlacements();
    var e = this._jaegerManager.startSpan("CampaignManagerRequest");
    e.addTag(Sb.DeviceType, m[this._platform]);
    return Promise.all([this.createRequestUrl(!1, a), this.createRequestBody(d, a)]).then(function(a) {
      a = h.makeIterator(a);
      var f = a.next().value;
      a = a.next().value;
      c._core.Sdk.logInfo("Requesting ad plan from " + f);
      var k = JSON.stringify(a);
      p.setAdRequestTimestamp();
      var l = Date.now();
      return Promise.resolve().then(function() {
        if (C.CampaignResponse) {
          return Promise.resolve({url:f, response:C.CampaignResponse, responseCode:200, headers:[]});
        }
        var a = [];
        c._jaegerManager.isJaegerTracingEnabled() && a.push(c._jaegerManager.getTraceId(e));
        return c._request.post(f, k, a, {retries:2, retryDelay:10000, followRedirects:!1, retryWithConnectionEvents:!1});
      }).then(function(a) {
        a && a.responseCode && e.addTag(Sb.StatusCode, a.responseCode.toString());
        if (a) {
          return c.setSDKSignalValues(l), uf.isValid(c._coreConfig.getAbGroup()) ? c.parseAuctionV5Campaigns(a, d).catch(function(a) {
            c.handleGeneralError(a, "parse_auction_v5_campaigns_error");
          }) : c.parseCampaigns(a, d).catch(function(a) {
            c.handleGeneralError(a, "parse_campaigns_error");
          });
        }
        throw new pb("Empty campaign response", "CampaignRequestError");
      }).then(function() {
        c._requesting = !1;
      }).catch(function(a) {
        c._requesting = !1;
        return a instanceof sd && !a.nativeResponse ? (c.onConnectivityError.trigger(c._adsConfig.getPlacementIds()), Promise.resolve()) : c.handleGeneralError(a, "auction_request_failed");
      });
    }).then(function(a) {
      c._jaegerManager.stop(e);
      return a;
    }).catch(function(a) {
      e.addTag(Sb.Error, "true");
      e.addTag(Sb.ErrorMessage, a.message);
      e.addAnnotation(a.message);
      c._jaegerManager.stop(e);
      throw Error(a);
    });
  };
  C.prototype.requestRealtime = function(a, c) {
    var d = this;
    return Promise.all([this.createRequestUrl(!0, void 0, c), this.createRequestBody(c.getGameSessionCounters(), !1, a)]).then(function(e) {
      var f = h.makeIterator(e);
      e = f.next().value;
      f = f.next().value;
      d._core.Sdk.logInfo("Requesting realtime ad plan from " + e);
      f = JSON.stringify(f);
      return d._request.post(e, f, [], {retries:0, retryDelay:0, followRedirects:!1, retryWithConnectionEvents:!1, timeout:2000}).then(function(e) {
        if (e) {
          return d.parseRealtimeCampaign(e, c, a);
        }
        throw new pb("Empty realtime campaign response", "CampaignRequestError");
      });
    });
  };
  C.prototype.setPreviousPlacementId = function(a) {
    this._previousPlacementId = a;
  };
  C.prototype.getPreviousPlacementId = function() {
    return this._previousPlacementId;
  };
  C.prototype.getFullyCachedCampaigns = function() {
    return this._core.Storage.getKeys(t.PRIVATE, "cache.campaigns", !1).then(function(a) {
      return a;
    }).catch(function() {
      return [];
    });
  };
  C.prototype.resetRealtimeDataForPlacements = function() {
    var a = this._adsConfig.getPlacements();
    Object.keys(a).forEach(function(c) {
      a[c].setRealtimeData(void 0);
    });
  };
  C.prototype.parseCampaigns = function(a, c) {
    var d = this;
    try {
      var e = qd.parse(a.response);
    } catch (ae) {
      return F.trigger("auction_invalid_json", {response:a.response}), Promise.reject(Error("Could not parse campaign JSON: " + ae.message));
    }
    if (e.auctionId) {
      this._lastAuctionId = e.auctionId;
    } else {
      throw Error("No auction ID found");
    }
    var f = this._sessionManager.create(e.auctionId);
    f.setAdPlan(a.response);
    f.setGameSessionCounters(c);
    this._backupCampaignManager.deleteBackupCampaigns();
    this._cacheBookkeeping.deleteCachedCampaignResponse();
    if ("placements" in e) {
      var g = {};
      c = [];
      a = this._adsConfig.getPlacements();
      for (var k in a) {
        if (a.hasOwnProperty(k)) {
          var l = e.placements[k];
          if (l) {
            var m = new Fd(k, l);
            g[l] ? g[l].push(m) : g[l] = [m];
            this._backupCampaignManager.storePlacement(this._adsConfig.getPlacement(k), l);
          } else {
            c.push(k);
          }
          e.realtimeData && e.realtimeData[k] && this._adsConfig.getPlacement(k).setRealtimeData(e.realtimeData[k]);
        }
      }
      a = 0;
      k = [];
      c = h.makeIterator(c);
      for (l = c.next(); !l.done; l = c.next()) {
        k.push(this.handleNoFill(l.value)), a = wc.NoFillDelay;
      }
      c = 0;
      for (var n in g) {
        g.hasOwnProperty(n) && (c++, l = e.media[n].contentType, m = e.media[n].cacheTTL ? e.media[n].cacheTTL : 3600, l && "comet/campaign" !== l && 0 < m && (m < a || 0 === a) && (a = m));
      }
      this._core.Sdk.logInfo("AdPlan received with " + c + " campaigns and refreshDelay " + a);
      this.onAdPlanReceived.trigger(a, c);
      n = {};
      for (var p in g) {
        n.mediaId$110 = p;
        if (g.hasOwnProperty(n.mediaId$110)) {
          n.auctionResponse = void 0;
          try {
            n.auctionResponse = new Ca(g[n.mediaId$110], e.media[n.mediaId$110], n.mediaId$110, e.correlationId), k.push(this.handleCampaign(n.auctionResponse, f).catch(function(a) {
              return function(c) {
                return c === ya.STOPPED ? Promise.resolve() : c === ya.FAILED ? d.handlePlacementError(new pb("Caching failed", "CacheStatusFailed"), g[a.mediaId$110], "campaign_caching_failed", f) : c === Rb[Rb.FILE_NOT_FOUND] ? d.handlePlacementError(new pb("Getting file path failed", "GetFilePathFailed"), g[a.mediaId$110], "campaign_caching_get_file_path_failed", f) : d.handleParseCampaignError(a.auctionResponse.getContentType(), c, g[a.mediaId$110], f);
              };
            }(n)));
          } catch (ae) {
            this.handlePlacementError(ae, g[n.mediaId$110], "error_creating_handle_campaign_chain", f);
          }
        }
        n = {mediaId$110:n.mediaId$110, auctionResponse:n.auctionResponse};
      }
      return Promise.all(k);
    }
    throw Error("No placements found");
  };
  C.prototype.parseAuctionV5Campaigns = function(a, c) {
    var d = this;
    try {
      var e = qd.parse(a.response);
    } catch (ae) {
      return F.trigger("invalid_auction_v5_json", {response:a.response}), Promise.reject(Error("Could not parse campaign JSON: " + ae.message));
    }
    if (e.auctionId) {
      this._lastAuctionId = e.auctionId;
    } else {
      throw Error("No auction ID found");
    }
    var f = this._sessionManager.create(e.auctionId);
    f.setAdPlan(a.response);
    f.setGameSessionCounters(c);
    this._backupCampaignManager.deleteBackupCampaigns();
    this._cacheBookkeeping.deleteCachedCampaignResponse();
    if (!("placements" in e)) {
      throw Error("No placements found");
    }
    var g = {};
    a = [];
    c = this._adsConfig.getPlacements();
    for (var k in c) {
      if (c.hasOwnProperty(k)) {
        var l = void 0;
        e.placements.hasOwnProperty(k) ? e.placements[k].hasOwnProperty("mediaId") ? l = e.placements[k].mediaId : ua.trigger("mission_auction_v5_mediaid", {placementId:k}, f) : ua.trigger("missing_auction_v5_placement", {placementId:k}, f);
        if (l) {
          var m = void 0;
          if (e.placements[k].hasOwnProperty("trackingId")) {
            if (m = e.placements[k].trackingId, e.tracking[m]) {
              m = e.tracking[m];
            } else {
              throw ua.trigger("invalid_auction_v5_tracking_id", {mediaId:l, trackingId:m}, f), Error("Invalid tracking ID " + m);
            }
          } else {
            throw ua.trigger("missing_auction_v5_tracking_id", {mediaId:l}, f), Error("Missing tracking ID");
          }
          this._backupCampaignManager.storePlacement(this._adsConfig.getPlacement(k), l, m);
          m = new Fd(k, l, m);
          g[l] ? g[l].push(m) : g[l] = [m];
        } else {
          a.push(k);
        }
        e.realtimeData && e.realtimeData[k] && this._adsConfig.getPlacement(k).setRealtimeData(e.realtimeData[k]);
      }
    }
    c = 0;
    k = [];
    a = h.makeIterator(a);
    for (l = a.next(); !l.done; l = a.next()) {
      k.push(this.handleNoFill(l.value)), c = wc.NoFillDelay;
    }
    a = 0;
    for (var n in g) {
      g.hasOwnProperty(n) && (a++, l = e.media[n].contentType, m = e.media[n].cacheTTL ? e.media[n].cacheTTL : 3600, l && "comet/campaign" !== l && 0 < m && (m < c || 0 === c) && (c = m));
    }
    this._core.Sdk.logInfo("AdPlan received with " + g + " campaigns and refreshDelay " + c);
    this.onAdPlanReceived.trigger(c, a);
    n = {};
    for (var p in g) {
      n.mediaId$113 = p;
      if (g.hasOwnProperty(n.mediaId$113)) {
        a = void 0;
        try {
          a = new Ca(g[n.mediaId$113], e.media[n.mediaId$113], n.mediaId$113, e.correlationId), k.push(this.handleCampaign(a, f).catch(function(a) {
            return function(c) {
              return c === ya.STOPPED ? Promise.resolve() : c === ya.FAILED ? d.handlePlacementError(new pb("Caching failed", "CacheStatusFailed"), g[a.mediaId$113], "campaign_caching_failed", f) : c === Rb[Rb.FILE_NOT_FOUND] ? d.handlePlacementError(new pb("Getting file path failed", "GetFilePathFailed"), g[a.mediaId$113], "campaign_caching_get_file_path_failed", f) : d.handlePlacementError(c, g[a.mediaId$113], "handle_auction_v5_campaign_error", f);
            };
          }(n)));
        } catch (ae) {
          this.handlePlacementError(ae, g[n.mediaId$113], "error_creating_auction_v5_handle_campaign_chain", f);
        }
      }
      n = {mediaId$113:n.mediaId$113};
    }
    return Promise.all(k);
  };
  C.prototype.parseRealtimeCampaign = function(a, c, d) {
    a = qd.parse(a.response);
    if ("placements" in a) {
      var e = a.placements[d.getId()];
      if (e) {
        var f = d.getCurrentCampaign();
        if (f && f.getMediaId() === e) {
          return Promise.resolve(f);
        }
        d = new Fd(d.getId(), e);
        d = new Ca([d], a.media[e], e, a.correlationId);
        return this.handleRealtimeCampaign(d, c);
      }
      return Promise.resolve();
    }
    this._core.Sdk.logError("No placements found in realtime campaign json.");
    return Promise.resolve();
  };
  C.prototype.handleCampaign = function(a, c) {
    var d = this;
    this._core.Sdk.logDebug("Parsing campaign " + a.getContentType() + ": " + a.getContent());
    99 === this._sessionManager.getGameSessionId() % 1000 && ua.trigger("ad_received", {contentType:a.getContentType(), auctionProtocol:uf.isValid(this._coreConfig.getAbGroup()) ? 5 : 4}, c);
    try {
      var e = this.getCampaignParser(a.getContentType());
    } catch (g) {
      return Promise.reject(g);
    }
    var f = Date.now();
    return e.parse(this._platform, this._core, this._request, a, c, this._deviceInfo.getOsVersion(), this._clientInfo.getGameId(), this._deviceConnectionType).then(function(e) {
      for (var g = Date.now() - f, l = h.makeIterator(a.getPlacements()), m = l.next(); !m.done; m = l.next()) {
        p.setParseDuration(m.value.getPlacementId(), g);
      }
      e.setMediaId(a.getMediaId());
      return d.setupCampaignAssets(a.getPlacements(), e, a.getContentType(), c);
    });
  };
  C.prototype.setupCampaignAssets = function(a, c, d, e) {
    var f = this, g = Date.now();
    return this._assetManager.setup(c).then(function() {
      99 === f._sessionManager.getGameSessionId() % 1000 && ua.trigger("ad_ready", {contentType:d, auctionProtocol:uf.isValid(f._coreConfig.getAbGroup()) ? 5 : 4}, e);
      if (c instanceof lf) {
        var k = Date.now() - g, l = {type:"playable_caching_time"};
        l.eventData = {contentType:d};
        l.timeFromShow = k / 1000;
        l.timeFromPlayableStart = 0;
        l.backgroundTime = 0;
        l.auctionId = c.getSession().getId();
        if (k = c.getResourceUrl()) {
          l.url = k.getOriginalUrl();
        }
        I.sendEvent("ads.sdk2.events.playable.json", ub.ANONYMOUS, l);
      }
      l = h.makeIterator(a);
      for (k = l.next(); !k.done; k = l.next()) {
        k = k.value, f.onCampaign.trigger(k.getPlacementId(), c, k.getTrackingUrls());
      }
    });
  };
  C.prototype.handleRealtimeCampaign = function(a, c) {
    this._core.Sdk.logDebug("Parsing campaign " + a.getContentType() + ": " + a.getContent());
    return this.getCampaignParser(a.getContentType()).parse(this._platform, this._core, this._request, a, c).then(function(c) {
      c.setMediaId(a.getMediaId());
      return c;
    });
  };
  C.prototype.getCampaignParser = function(a) {
    return this._contentTypeHandlerManager.getParser(a);
  };
  C.prototype.handleNoFill = function(a) {
    this._core.Sdk.logDebug("PLC no fill for placement " + a);
    this.onNoFill.trigger(a);
    return Promise.resolve();
  };
  C.prototype.handleGeneralError = function(a, c, d) {
    return this.handleError(a, this._adsConfig.getPlacementIds(), c, d);
  };
  C.prototype.handlePlacementError = function(a, c, d, e) {
    return this.handleError(a, c.map(function(a) {
      return a.getPlacementId();
    }), d, e);
  };
  C.prototype.handleError = function(a, c, d, e) {
    this._core.Sdk.logDebug("PLC error " + a);
    this.onError.trigger(a, c, d, e);
    return Promise.resolve();
  };
  C.prototype.handleParseCampaignError = function(a, c, d, e) {
    Jg.getCampaignErrorHandler(a, this._core, this._request).handleCampaignError(c);
    return this.handlePlacementError(c, d, "parse_campaign_" + a.replace(/[\/-]/g, "_") + "_error", e);
  };
  C.prototype.getBaseUrl = function() {
    return uf.isValid(this._coreConfig.getAbGroup()) ? [C.AuctionV5BaseUrl, this._clientInfo.getGameId(), "requests"].join("/") : [C.BaseUrl, this._clientInfo.getGameId(), "requests"].join("/");
  };
  C.prototype.createRequestUrl = function(a, c, d) {
    var e = this;
    if (a && this._realtimeUrl) {
      return d && (this._realtimeUrl = y.addParameters(this._realtimeUrl, {auctionId:d.getId()})), Promise.resolve(this._realtimeUrl);
    }
    this._realtimeUrl = void 0;
    var f = this.getBaseUrl();
    this._deviceInfo.getAdvertisingIdentifier() ? f = y.addParameters(f, {advertisingTrackingId:this._deviceInfo.getAdvertisingIdentifier(), limitAdTracking:this._deviceInfo.getLimitAdTracking()}) : this._platform === m.ANDROID && this._deviceInfo instanceof E && (f = y.addParameters(f, {androidId:this._deviceInfo.getAndroidId()}));
    c && this._lastAuctionId && (f = y.addParameters(f, {auctionId:this._lastAuctionId}));
    f = y.addParameters(f, {deviceModel:this._deviceInfo.getModel(), platform:m[this._platform].toLowerCase(), sdkVersion:this._clientInfo.getSdkVersion(), stores:this._deviceInfo.getStores()});
    this._platform === m.IOS && this._deviceInfo instanceof Pa ? f = y.addParameters(f, {osVersion:this._deviceInfo.getOsVersion(), screenScale:this._deviceInfo.getScreenScale()}) : this._platform === m.ANDROID && this._deviceInfo instanceof E && (f = y.addParameters(f, {deviceMake:this._deviceInfo.getManufacturer(), screenSize:this._deviceInfo.getScreenLayout(), screenDensity:this._deviceInfo.getScreenDensity(), apiLevel:this._deviceInfo.getApiLevel()}));
    this._coreConfig.getTestMode() && (f = y.addParameters(f, {test:!0}));
    C.CampaignId && (f = y.addParameters(f, {forceCampaignId:C.CampaignId}));
    C.SessionId && (f = y.addParameters(f, {forceSessionId:C.SessionId}));
    C.AbGroup && (f = y.addParameters(f, {forceAbGroup:C.AbGroup.toNumber()}));
    C.Country && (f = y.addParameters(f, {force_country:C.Country}));
    a = [];
    a.push(this._deviceInfo.getScreenWidth());
    a.push(this._deviceInfo.getScreenHeight());
    a.push(this._deviceInfo.getConnectionType());
    a.push(this._deviceInfo.getNetworkType());
    return Promise.all(a).then(function(a) {
      var c = h.makeIterator(a);
      a = c.next().value;
      var d = c.next().value, g = c.next().value;
      c = c.next().value;
      f = y.addParameters(f, {screenWidth:a, screenHeight:d, connectionType:g, networkType:c});
      e._deviceConnectionType = g;
      return e._realtimeUrl = f;
    });
  };
  C.prototype.createRequestBody = function(a, c, d) {
    var e = this, f = {};
    if (d && this._realtimeBody) {
      c = this._adsConfig.getPlacements();
      for (var g in c) {
        c.hasOwnProperty(g) && (f[g] = {adTypes:c[g].getAdTypes(), allowSkip:c[g].allowSkip()});
      }
      d.getRealtimeData() && (c = {}, c[d.getId()] = d.getRealtimeData(), this._realtimeBody.realtimeData = c);
      return this._deviceInfo.getFreeSpace().then(function(a) {
        e._realtimeBody.deviceFreeSpace = a;
        return e._realtimeBody;
      }).catch(function() {
        return e._realtimeBody;
      });
    }
    this._realtimeBody = void 0;
    d = [];
    d.push(this._deviceInfo.getFreeSpace());
    d.push(this._deviceInfo.getNetworkOperator());
    d.push(this._deviceInfo.getNetworkOperatorName());
    d.push(this._deviceInfo.getHeadset());
    d.push(this._deviceInfo.getDeviceVolume());
    d.push(this.getFullyCachedCampaigns());
    d.push(this.getVersionCode());
    d.push(this._adMobSignalFactory.getAdRequestSignal().then(function(a) {
      return a.getBase64ProtoBufNonEncoded();
    }));
    d.push(this._adMobSignalFactory.getOptionalSignal().then(function(a) {
      return a.getDTO();
    }));
    var k = {bundleVersion:this._clientInfo.getApplicationVersion(), bundleId:this._clientInfo.getApplicationName(), coppa:this._coreConfig.isCoppaCompliant(), language:this._deviceInfo.getLanguage(), gameSessionId:this._sessionManager.getGameSessionId(), timeZone:this._deviceInfo.getTimeZone(), simulator:this._deviceInfo instanceof Pa ? this._deviceInfo.isSimulator() : void 0, token:this._coreConfig.getToken()};
    this.getPreviousPlacementId() && (k.previousPlacementId = this.getPreviousPlacementId());
    "undefined" !== typeof navigator && navigator.userAgent && "string" === typeof navigator.userAgent && (k.webviewUa = navigator.userAgent);
    c && (k.nofillRetry = !0);
    return Promise.all(d).then(function(c) {
      var d = h.makeIterator(c);
      c = d.next().value;
      var g = d.next().value, l = d.next().value, m = d.next().value, v = d.next().value, q = d.next().value, r = d.next().value, t = d.next().value;
      d = d.next().value;
      k.deviceFreeSpace = c;
      k.networkOperator = g;
      k.networkOperatorName = l;
      k.wiredHeadset = m;
      k.volume = v;
      k.requestSignal = t;
      k.ext = d;
      q && 0 < q.length && (k.cachedCampaigns = q);
      r && (k.versionCode = r);
      c = [];
      c.push(e._metaDataManager.fetch(dd));
      c.push(e._metaDataManager.fetch(be));
      return Promise.all(c).then(function(c) {
        var d = h.makeIterator(c);
        c = d.next().value;
        d = d.next().value;
        c && (k.mediationName = c.getName(), k.mediationVersion = c.getVersion(), c.getOrdinal() && (k.mediationOrdinal = c.getOrdinal()));
        d && (k.frameworkName = d.getName(), k.frameworkVersion = d.getVersion());
        var g = e._adsConfig.getPlacements();
        Object.keys(g).forEach(function(a) {
          var c = g[a];
          f[a] = {adTypes:c.getAdTypes(), allowSkip:c.allowSkip(), auctionType:c.getAuctionType()};
        });
        k.placements = f;
        k.properties = e._coreConfig.getProperties();
        k.sessionDepth = p.getAdRequestOrdinal();
        k.projectId = e._coreConfig.getUnityProjectId();
        k.gameSessionCounters = a;
        k.gdprEnabled = e._adsConfig.isGDPREnabled();
        k.optOutEnabled = e._adsConfig.isOptOutEnabled();
        k.optOutRecorded = e._adsConfig.isOptOutRecorded();
        k.abGroup = e._coreConfig.getAbGroup().toNumber();
        if (c = e._coreConfig.getOrganizationId()) {
          k.organizationId = c;
        }
        return e._realtimeBody = k;
      });
    });
  };
  C.prototype.getVersionCode = function() {
    return this._platform === m.ANDROID ? this._core.DeviceInfo.Android.getPackageInfo(this._clientInfo.getApplicationName()).then(function(a) {
      if (a.versionCode) {
        return a.versionCode;
      }
    }).catch(function() {
    }) : Promise.resolve(void 0);
  };
  C.prototype.setSDKSignalValues = function(a) {
    var c = this;
    p.setAdRequestDuration(Date.now() - a);
    p.increaseAdRequestOrdinal();
    $b.getRequestCount(this._core).then(function(a) {
      "number" === typeof a && $b.setRequestCount(a + 1, c._core);
    }).catch(function() {
      F.trigger("request_count_failure", {signal:"requestCount"});
    });
  };
  C.BaseUrl = "https://auction.unityads.unity3d.com/v4/games";
  C.AuctionV5BaseUrl = "https://auction.unityads.unity3d.com/v5/games";
  hf.prototype.addHandler = function(a, c) {
    if (a in this._parsers || a in this._factories) {
      throw Error("Handler already defined for content-type: " + a);
    }
    this._parsers[a] = c.parser;
    this._factories[a] = c.factory;
  };
  hf.prototype.getParser = function(a) {
    if (a in this._parsers) {
      return this._parsers[a];
    }
    throw Error("Unsupported content-type: " + a);
  };
  hf.prototype.getFactory = function(a) {
    if (a in this._factories) {
      return this._factories[a];
    }
    throw Error("Unsupported content-type: " + a);
  };
  h.inherits(qa, wc);
  qa.prototype.getCampaign = function(a) {
    if (a = this._configuration.getPlacement(a)) {
      return a.getCurrentCampaign();
    }
  };
  qa.prototype.setCurrentAdUnit = function(a) {
    var c = this, d = this._currentAdUnit = a, e = this._currentAdUnit.onStart.subscribe(function() {
      d.onStart.unsubscribe(e);
      c.invalidateCampaigns(!0, c._configuration.getPlacementIds());
      c.setPlacementStates(xa.WAITING, c._configuration.getPlacementIds());
    });
    this._currentAdUnit.onStartProcessed.subscribe(function() {
      return c.onAdUnitStartProcessed();
    });
    this._currentAdUnit.onClose.subscribe(function() {
      return c.onAdUnitClose();
    });
    this._currentAdUnit.onFinish.subscribe(function() {
      return c.onAdUnitFinish();
    });
  };
  qa.prototype.refresh = function(a) {
    return this.shouldRefill(this._refillTimestamp) ? (this.setPlacementStates(xa.WAITING, this._configuration.getPlacementIds()), this._refillTimestamp = 0, this.invalidateCampaigns(!1, this._configuration.getPlacementIds()), this._campaignCount = 0, this._campaignManager.request(a)) : this.checkForExpiredCampaigns() ? this.onCampaignExpired() : Promise.resolve();
  };
  qa.prototype.refreshWithBackupCampaigns = function(a) {
    var c = this;
    this.setPlacementStates(xa.WAITING, this._configuration.getPlacementIds());
    this._refillTimestamp = 0;
    this.invalidateCampaigns(!1, this._configuration.getPlacementIds());
    this._campaignCount = 0;
    var d = [this._campaignManager.request()], e = this._configuration.getPlacements(), f = {}, g;
    for (g in this._configuration.getPlacements()) {
      f.placement = g;
      if (e.hasOwnProperty(f.placement)) {
        var k = Promise.all([a.loadCampaign(this._configuration.getPlacement(f.placement)), a.loadTrackingUrls(this._configuration.getPlacement(f.placement))]).then(function(a) {
          return function(d) {
            var e = h.makeIterator(d);
            d = e.next().value;
            e = e.next().value;
            d && c.setPlacementReady(a.placement, d, e);
          };
        }(f));
        d.push(k);
      }
      f = {placement:f.placement};
    }
    return Promise.all(d);
  };
  qa.prototype.shouldRefill = function(a) {
    return this._needsRefill || 0 !== a && Date.now() > a ? !0 : !1;
  };
  qa.prototype.setPlacementState = function(a, c) {
    this._configuration.getPlacement(a).setState(c);
  };
  qa.prototype.sendPlacementStateChanges = function(a) {
    var c = this._configuration.getPlacement(a);
    c.getPlacementStateChanged() && (c.setPlacementStateChanged(!1), this._ads.Placement.setPlacementState(a, c.getState()), this._ads.Listener.sendPlacementStateChangedEvent(a, xa[c.getPreviousState()], xa[c.getState()]));
    c.getState() === xa.READY && this._ads.Listener.sendReadyEvent(a);
  };
  qa.prototype.setPlacementStates = function(a, c) {
    for (var d = h.makeIterator(c), e = d.next(); !e.done; e = d.next()) {
      this.setPlacementState(e.value, a);
    }
    a = h.makeIterator(c);
    for (e = a.next(); !e.done; e = a.next()) {
      this.sendPlacementStateChanges(e.value);
    }
  };
  qa.prototype.invalidateCampaigns = function(a, c) {
    this._needsRefill = a;
    a = h.makeIterator(c);
    for (c = a.next(); !c.done; c = a.next()) {
      this._configuration.getPlacement(c.value).setCurrentCampaign(void 0);
    }
  };
  qa.prototype.checkForExpiredCampaigns = function() {
    for (var a in this._configuration.getPlacements()) {
      if (this._configuration.getPlacements().hasOwnProperty(a)) {
        var c = this._configuration.getPlacement(a).getCurrentCampaign();
        if (c && c.isExpired()) {
          return !0;
        }
      }
    }
    return !1;
  };
  qa.prototype.onCampaignExpired = function() {
    this._core.Sdk.logDebug("Unity Ads campaign has expired, requesting new ads");
    this.setPlacementStates(xa.NO_FILL, this._configuration.getPlacementIds());
    this.invalidateCampaigns(!1, this._configuration.getPlacementIds());
    return this._campaignManager.request();
  };
  qa.prototype.onCampaign = function(a, c, d) {
    ka.isInitialized() && ka.addCampaignPlacementIds(a, c);
    this._parsingErrorCount = 0;
    c instanceof nb && !ka.isProductAvailable(c.getIapProductId()) ? (c = c.getIapProductId(), this._core.Sdk.logWarning("Promo placement: " + a + " does not have the corresponding product: " + c + " available"), this.onNoFill(a)) : this.setPlacementReady(a, c, d);
  };
  qa.prototype.setPlacementReady = function(a, c, d) {
    this.setCampaignForPlacement(a, c, d);
    this.handlePlacementState(a, xa.READY);
  };
  qa.prototype.onNoFill = function(a) {
    this._parsingErrorCount = 0;
    this._core.Sdk.logDebug("Unity Ads server returned no fill, no ads to show, for placement: " + a);
    this.setCampaignForPlacement(a, void 0, void 0);
    this.handlePlacementState(a, xa.NO_FILL);
  };
  qa.prototype.onError = function(a, c, d, e) {
    var f = this;
    this.invalidateCampaigns(this._needsRefill, c);
    a instanceof Error && (a = {message:a.message, name:a.name, stack:a.stack});
    e ? ua.trigger(d, {error:a}, e) : F.trigger(d, {error:a});
    this._core.Sdk.logError(JSON.stringify(a));
    a = Date.now() + 1000 * wc.ErrorRefillDelay;
    if (0 === this._refillTimestamp || this._refillTimestamp > a) {
      this._refillTimestamp = a, this._core.Sdk.logDebug("Unity Ads will refresh ads in " + wc.ErrorRefillDelay + " seconds");
    }
    if (this._currentAdUnit && this._currentAdUnit.isShowing()) {
      var g = this._currentAdUnit.onClose.subscribe(function() {
        f._currentAdUnit.onClose.unsubscribe(g);
        f.setPlacementStates(xa.NO_FILL, c);
      });
    } else {
      this.setPlacementStates(xa.NO_FILL, c);
    }
    1 === this._campaignCount && (this._parsingErrorCount++, 1 === this._parsingErrorCount && 0 < wc.ParsingErrorRefillDelay && (a = wc.ParsingErrorRefillDelay + Math.random() * wc.ParsingErrorRefillDelay, this._core.Sdk.logDebug("Unity Ads retrying failed campaign in " + a + " seconds"), this._refillTimestamp = Date.now() + 1000 * wc.ParsingErrorRefillDelay, setTimeout(function() {
      f._core.Sdk.logDebug("Unity Ads retrying failed campaign now");
      f.refresh();
    }, 1000 * a)));
  };
  qa.prototype.onConnectivityError = function(a) {
    var c = this;
    this.invalidateCampaigns(this._needsRefill, a);
    this._refillTimestamp = Date.now();
    this._core.Sdk.logDebug("Unity Ads failed to contact server, retrying after next system event");
    if (this._currentAdUnit && this._currentAdUnit.isShowing()) {
      var d = this._currentAdUnit.onClose.subscribe(function() {
        c._currentAdUnit.onClose.unsubscribe(d);
        c.setPlacementStates(xa.NO_FILL, a);
      });
    } else {
      this.setPlacementStates(xa.NO_FILL, a);
    }
  };
  qa.prototype.onAdPlanReceived = function(a, c) {
    var d = this;
    this._campaignCount = c;
    if (0 === c) {
      this._noFills++;
      c = 0;
      if (0 < this._noFills && 15 > this._noFills) {
        c = 20;
        for (var e = 1; e < this._noFills; e++) {
          c *= 1.5;
        }
      }
      if (0 < c) {
        this._refillTimestamp = Date.now() + 1000 * c;
        c += 10 * Math.random();
        this._core.Sdk.logDebug("Unity Ads ad plan will be refreshed in " + c + " seconds");
        setTimeout(function() {
          d.refresh(!0);
        }, 1000 * c);
        return;
      }
    } else {
      this._noFills = 0;
    }
    0 < a && (this._refillTimestamp = Date.now() + 1000 * a, this._core.Sdk.logDebug("Unity Ads ad plan will expire in " + a + " seconds"));
  };
  qa.prototype.setCampaignForPlacement = function(a, c, d) {
    if (a = this._configuration.getPlacement(a)) {
      a.setCurrentCampaign(c), a.setCurrentTrackingUrls(d);
    }
  };
  qa.prototype.handlePlacementState = function(a, c) {
    var d = this;
    if (this._currentAdUnit && this._currentAdUnit.isShowing()) {
      var e = this._currentAdUnit.onClose.subscribe(function() {
        d._currentAdUnit.onClose.unsubscribe(e);
        d._core.Sdk.logDebug("Unity Ads placement " + a + " status set to " + xa[c]);
        d.setPlacementState(a, c);
        d.sendPlacementStateChanges(a);
        c === xa.READY && (p.setReadyEventTimestamp(a), p.sendReadyEvent(a), $b.setPriorRequestToReadyTime(p.getRequestToReadyTime(a), d._core), d._core.Sdk.logDebug("Unity Ads placement " + a + " request to ready time took " + p.getRequestToReadyTime(a)));
      });
    } else {
      this._core.Sdk.logDebug("Unity Ads placement " + a + " status set to " + xa[c]), this.setPlacementState(a, c), this.sendPlacementStateChanges(a), c === xa.READY && (p.setReadyEventTimestamp(a), p.sendReadyEvent(a), $b.setPriorRequestToReadyTime(p.getRequestToReadyTime(a), this._core), this._core.Sdk.logDebug("Unity Ads placement " + a + " request to ready time took " + p.getRequestToReadyTime(a)));
    }
  };
  qa.prototype.onActivityResumed = function(a) {
    "com.unity3d.ads.adunit.AdUnitActivity" !== a && "com.unity3d.ads.adunit.AdUnitTransparentActivity" !== a && "com.unity3d.ads.adunit.AdUnitTransparentSoftwareActivity" !== a && "com.unity3d.ads.adunit.AdUnitSoftwareActivity" !== a && this.refresh();
  };
  qa.prototype.onAppForeground = function() {
    this.refresh();
  };
  qa.prototype.onScreenOn = function() {
    this.refresh();
  };
  qa.prototype.onAdUnitFinish = function() {
    this.refresh();
  };
  qa.prototype.onAdUnitClose = function() {
    this._core.Sdk.logInfo("Closing Unity Ads ad unit");
    this.refresh();
  };
  qa.prototype.onAdUnitStartProcessed = function() {
    var a = this;
    this._currentAdUnit && setTimeout(function() {
      a._currentAdUnit && a._currentAdUnit.isCached() && a.refresh();
    }, this._startRefreshMagicConstant);
  };
  qa.prototype.onNetworkConnected = function() {
    this._currentAdUnit && this._currentAdUnit.isShowing() || this.refresh();
  };
  nd.getSessionStorageKey = function(a) {
    return "session." + a;
  };
  nd.getSessionStorageTimestampKey = function(a) {
    return nd.getSessionStorageKey(a) + ".ts";
  };
  vc.prototype.getEventStorageKey = function() {
    return this.getEventsStorageKey() + "." + this._eventId;
  };
  vc.prototype.getEventsStorageKey = function() {
    return nd.getSessionStorageKey(this._sessionId) + ".operative";
  };
  vc.prototype.storeFailedEvent = function(a, c) {
    if (this._eventId) {
      var d = new Mc(t.PRIVATE);
      d.set(this.getEventStorageKey(), c);
      a.queue(d);
    }
    return Promise.resolve();
  };
  vc.prototype.deleteFailedEvent = function(a) {
    if (this._eventId) {
      var c = new Mc(t.PRIVATE);
      c.delete(this.getEventStorageKey());
      a.queue(c);
    }
    return Promise.resolve();
  };
  vc.prototype.sendFailedEvent = function(a, c) {
    var d = this;
    return this._eventId ? this._core.Storage.get(t.PRIVATE, this.getEventStorageKey()).then(function(c) {
      return a.post(c.url, c.data);
    }).then(function() {
      return d.deleteFailedEvent(c);
    }).catch(function() {
    }) : Promise.resolve();
  };
  vc.prototype.sendFailedEvents = function(a, c) {
    var d = this;
    return this._core.Storage.getKeys(t.PRIVATE, this.getEventsStorageKey(), !1).then(function(e) {
      return Promise.all(d.getPromisesForFailedEvents(a, c, e));
    }).catch(function() {
      return Promise.resolve([]);
    });
  };
  vc.prototype.getPromisesForFailedEvents = function(a, c, d) {
    var e = this, f = [];
    d.map(function(d) {
      d = new vc(e._core, e._sessionId, d);
      f.push(d.sendFailedEvent(a, c));
    });
    return f;
  };
  h.inherits(pe, ab);
  pe.prototype.fetch = function(a, c, d) {
    var e = this;
    return ab.prototype.fetch.call(this, a, c, d).then(function(a) {
      return a ? c.Storage.delete(t.PUBLIC, e.getCategory()).then(function() {
        c.Storage.write(t.PUBLIC);
        return !0;
      }) : Promise.resolve(!1);
    });
  };
  pe.prototype.getServerId = function() {
    return this.get("server_id");
  };
  pe.prototype.getDTO = function() {
    return {sid:this.getServerId()};
  };
  Q.getEventKey = function(a, c) {
    return nd.getSessionStorageKey(a) + ".operative." + c;
  };
  Q.getUrlKey = function(a, c) {
    return Q.getEventKey(a, c) + ".url";
  };
  Q.getDataKey = function(a, c) {
    return Q.getEventKey(a, c) + ".data";
  };
  Q.setPreviousPlacementId = function(a) {
    Q.PreviousPlacementId = a;
  };
  Q.getPreviousPlacementId = function() {
    return Q.PreviousPlacementId;
  };
  Q.prototype.sendStart = function(a) {
    var c = this, d = this._campaign.getSession();
    if (d.getEventSent(ha.START)) {
      return Promise.resolve();
    }
    d.setEventSent(ha.START);
    cb.addStart(this._campaign);
    return this._metaDataManager.fetch(pe, !1).then(function(a) {
      a ? c.setGamerServerId(a.getServerId()) : c.setGamerServerId(void 0);
      return c._metaDataManager.fetch(dd, !0, ["ordinal"]);
    }).then(function() {
      return c.createUniqueEventMetadata(a, c._sessionManager.getGameSessionId(), c._gamerServerId, Q.getPreviousPlacementId());
    }).then(function(a) {
      var d = h.makeIterator(a);
      a = d.next().value;
      d = d.next().value;
      return c.sendEvent("start", a, d.sessionId, c.createVideoEventUrl("video_start"), JSON.stringify(d));
    }).then(function() {
    });
  };
  Q.prototype.sendFirstQuartile = function(a) {
    var c = this, d = this._campaign.getSession();
    if (d.getEventSent(ha.FIRST_QUARTILE)) {
      return Promise.resolve(void 0);
    }
    d.setEventSent(ha.FIRST_QUARTILE);
    return this.createUniqueEventMetadata(a, this._sessionManager.getGameSessionId(), this._gamerServerId, Q.getPreviousPlacementId()).then(function(a) {
      var d = h.makeIterator(a);
      a = d.next().value;
      d = d.next().value;
      c.sendEvent("first_quartile", a, d.sessionId, c.createVideoEventUrl("first_quartile"), JSON.stringify(d));
    });
  };
  Q.prototype.sendMidpoint = function(a) {
    var c = this, d = this._campaign.getSession();
    if (d.getEventSent(ha.MIDPOINT)) {
      return Promise.resolve(void 0);
    }
    d.setEventSent(ha.MIDPOINT);
    return this.createUniqueEventMetadata(a, this._sessionManager.getGameSessionId(), this._gamerServerId, Q.getPreviousPlacementId()).then(function(a) {
      var d = h.makeIterator(a);
      a = d.next().value;
      d = d.next().value;
      c.sendEvent("midpoint", a, d.sessionId, c.createVideoEventUrl("midpoint"), JSON.stringify(d));
    });
  };
  Q.prototype.sendThirdQuartile = function(a) {
    var c = this, d = this._campaign.getSession();
    if (d.getEventSent(ha.THIRD_QUARTILE)) {
      return Promise.resolve(void 0);
    }
    d.setEventSent(ha.THIRD_QUARTILE);
    return this.createUniqueEventMetadata(a, this._sessionManager.getGameSessionId(), this._gamerServerId, Q.getPreviousPlacementId()).then(function(a) {
      var d = h.makeIterator(a);
      a = d.next().value;
      d = d.next().value;
      c.sendEvent("third_quartile", a, d.sessionId, c.createVideoEventUrl("third_quartile"), JSON.stringify(d));
    });
  };
  Q.prototype.sendSkip = function(a) {
    var c = this._campaign.getSession();
    if (c.getEventSent(ha.SKIP)) {
      return Promise.resolve(void 0);
    }
    c.setEventSent(ha.SKIP);
    return this.createUniqueEventMetadata(a, this._sessionManager.getGameSessionId(), this._gamerServerId, Q.getPreviousPlacementId()).then(function(c) {
      var d = h.makeIterator(c);
      c = d.next().value;
      d = d.next().value;
      a.videoProgress && (d.skippedAt = a.videoProgress);
      delete d.eventId;
      delete d.apiLevel;
      delete d.advertisingTrackingId;
      delete d.limitAdTracking;
      delete d.osVersion;
      delete d.sid;
      delete d.deviceMake;
      delete d.deviceModel;
      delete d.sdkVersion;
      delete d.webviewUa;
      delete d.networkType;
      delete d.connectionType;
      delete d.gameSessionCounters;
      d.id = c;
      d.ts = (new Date).toISOString();
      I.sendEvent("ads.sdk2.events.skip.json", ub.ANONYMOUS, d);
    });
  };
  Q.prototype.sendView = function(a) {
    var c = this, d = this._campaign.getSession();
    if (d.getEventSent(ha.VIEW)) {
      return Promise.resolve(void 0);
    }
    d.setEventSent(ha.VIEW);
    cb.addView(this._campaign);
    return this.createUniqueEventMetadata(a, this._sessionManager.getGameSessionId(), this._gamerServerId, Q.getPreviousPlacementId()).then(function(a) {
      var d = h.makeIterator(a);
      a = d.next().value;
      d = d.next().value;
      c.sendEvent("view", a, d.sessionId, c.createVideoEventUrl("video_end"), JSON.stringify(d));
    });
  };
  Q.prototype.sendClick = function(a) {
    var c = this, d = this._campaign.getSession();
    if (d.getEventSent(ha.CLICK)) {
      return Promise.resolve(void 0);
    }
    d.setEventSent(ha.CLICK);
    return this.createUniqueEventMetadata(a, this._sessionManager.getGameSessionId(), this._gamerServerId, Q.getPreviousPlacementId()).then(function(a) {
      var e = h.makeIterator(a);
      a = e.next().value;
      e = e.next().value;
      c.sendEvent("click", a, d.getId(), c.createClickEventUrl(), JSON.stringify(e));
    });
  };
  Q.prototype.setGamerServerId = function(a) {
    this._gamerServerId = a;
  };
  Q.prototype.getClientInfo = function() {
    return this._clientInfo;
  };
  Q.prototype.sendEvent = function(a, c, d, e, f) {
    var g = this;
    if (!e) {
      return Promise.resolve();
    }
    this._core.Sdk.logInfo("Unity Ads event: sending " + a + " event to " + e);
    return this._request.post(e, f, [], {retries:2, retryDelay:10000, followRedirects:!1, retryWithConnectionEvents:!1}).catch(function() {
      (new vc(g._core, d, c)).storeFailedEvent(g._storageBridge, {url:e, data:f});
    });
  };
  Q.prototype.createVideoEventUrl = function(a) {
    F.trigger("operative_event_manager_url_error", {message:"Trying to use video-event url generation from base operative event manager", eventType:a});
  };
  Q.prototype.createClickEventUrl = function() {
    F.trigger("operative_event_manager_url_error", {message:"Trying to use click-event url generation from base operative event manager"});
  };
  Q.prototype.createUniqueEventMetadata = function(a, c, d, e) {
    var f = this;
    return this._core.DeviceInfo.getUniqueEventId().then(function(g) {
      return f.getInfoJson(a, g, c, d, e);
    });
  };
  Q.prototype.getInfoJson = function(a, c, d, e, f) {
    var g = this._campaign.getSession(), k = {eventId:c, auctionId:g.getId(), gameSessionId:d, campaignId:this._campaign.getId(), adType:this._campaign.getAdType(), correlationId:this._campaign.getCorrelationId(), seatId:this._campaign.getSeatId(), placementId:a.placement.getId(), advertisingTrackingId:this._deviceInfo.getAdvertisingIdentifier(), limitAdTracking:this._deviceInfo.getLimitAdTracking(), osVersion:this._deviceInfo.getOsVersion(), sid:e, deviceModel:this._deviceInfo.getModel(), sdkVersion:this._clientInfo.getSdkVersion(), 
    previousPlacementId:f, bundleId:this._clientInfo.getApplicationName(), meta:this._campaign.getMeta(), platform:m[this._platform].toLowerCase(), language:this._deviceInfo.getLanguage(), cached:Sa.isCached(this._campaign), cachedOrientation:Sa.getCachedVideoOrientation(this._campaign), token:this._coreConfig.getToken(), gdprEnabled:this._adsConfig.isGDPREnabled(), optOutEnabled:this._adsConfig.isOptOutEnabled(), optOutRecorded:this._adsConfig.isOptOutRecorded(), gameSessionCounters:g.getGameSessionCounters()};
    this._platform === m.ANDROID && this._deviceInfo instanceof E && (k = Object.assign({}, k, {apiLevel:this._deviceInfo.getApiLevel(), deviceMake:this._deviceInfo.getManufacturer(), screenDensity:this._deviceInfo.getScreenDensity(), screenSize:this._deviceInfo.getScreenLayout()}), this._deviceInfo.getAdvertisingIdentifier() || (k = Object.assign({}, k, {androidId:this._deviceInfo.getAndroidId()})));
    k.videoOrientation = a.videoOrientation;
    "undefined" !== typeof navigator && navigator.userAgent && (k.webviewUa = navigator.userAgent);
    a.adUnitStyle && (k.adUnitStyle = a.adUnitStyle.getDTO());
    return Promise.all([this._deviceInfo.getNetworkType(), this._deviceInfo.getConnectionType(), this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight(), this._metaDataManager.fetch(dd), this._metaDataManager.fetch(be)]).then(function(a) {
      var d = h.makeIterator(a);
      a = d.next().value;
      var e = d.next().value, f = d.next().value, g = d.next().value, l = d.next().value;
      d = d.next().value;
      k.networkType = a;
      k.connectionType = e;
      k.screenWidth = f;
      k.screenHeight = g;
      l && (k.mediationName = l.getName(), k.mediationVersion = l.getVersion(), k.mediationOrdinal = l.getOrdinal());
      d && (k.frameworkName = d.getName(), k.frameworkVersion = d.getVersion());
      return [c, k];
    });
  };
  h.inherits(Oe, Q);
  Oe.prototype.createVideoEventUrl = function(a) {
    return this._performanceCampaign.getVideoEventUrl(a);
  };
  Oe.prototype.createClickEventUrl = function() {
    return y.addParameters(this._performanceCampaign.getClickUrl(), {redirect:!1});
  };
  Oe.prototype.getInfoJson = function(a, c, d, e, f) {
    return Q.prototype.getInfoJson.call(this, a, c, d, e, f).then(function(d) {
      d = h.makeIterator(d);
      d.next();
      d = d.next().value;
      a.asset && (d.unityCreativeId = a.asset.getCreativeId());
      return [c, d];
    });
  };
  h.inherits(Yb, Q);
  Yb.setTestBaseUrl = function(a) {
    Yb.VideoEventBaseUrl = a + "/events/v2/brand/video";
  };
  Yb.prototype.createVideoEventUrl = function(a) {
    return [Yb.VideoEventBaseUrl, a, this._clientInfo.getGameId(), this._campaign.getId()].join("/");
  };
  Yb.prototype.createClickEventUrl = function() {
  };
  Yb.prototype.getInfoJson = function(a, c, d, e, f) {
    var g = this;
    return Q.prototype.getInfoJson.call(this, a, c, d, e, f).then(function(a) {
      a = h.makeIterator(a);
      a.next();
      a = a.next().value;
      a.creativeId = g._campaign.getCreativeId();
      return [c, a];
    });
  };
  Yb.VideoEventBaseUrl = "https://adserver.unityads.unity3d.com/events/v2/brand/video";
  h.inherits(Ne, Yb);
  Ne.prototype.createVideoEventUrl = function(a) {
    var c = this._mraidCampaign.getVideoEventUrl(a);
    return c ? c : Yb.prototype.createVideoEventUrl.call(this, a);
  };
  Ne.prototype.createClickEventUrl = function() {
    var a = this._mraidCampaign.getClickUrl();
    return a ? y.addParameters(a, {redirect:!1}) : Yb.prototype.createClickEventUrl.call(this);
  };
  Ne.prototype.getInfoJson = function(a, c, d, e, f) {
    return Yb.prototype.getInfoJson.call(this, a, c, d, e, f).then(function(d) {
      d = h.makeIterator(d);
      d.next();
      d = d.next().value;
      a.asset && (d.unityCreativeId = a.asset.getCreativeId());
      return [c, d];
    });
  };
  h.inherits($d, vc);
  $d.prototype.getEventsStorageKey = function() {
    return nd.getSessionStorageKey(this._sessionId) + ".xpromooperative";
  };
  $d.prototype.sendFailedEvent = function(a, c) {
    var d = this;
    return this._core.Storage.get(t.PRIVATE, this.getEventStorageKey()).then(function(a) {
      return I.sendEvent(a.kafkaType, ub.PERSONAL, JSON.parse(a.data));
    }).then(function() {
      return d.deleteFailedEvent(c);
    }).catch(function() {
    });
  };
  $d.prototype.getPromisesForFailedEvents = function(a, c, d) {
    var e = this, f = [];
    d.map(function(d) {
      d = new $d(e._core, e._sessionId, d);
      f.push(d.sendFailedEvent(a, c));
    });
    return f;
  };
  h.inherits(Zd, Q);
  Zd.prototype.sendStart = function(a) {
    var c = this, d = this._campaign.getSession();
    if (d.getEventSent(ha.START)) {
      return Promise.resolve();
    }
    d.setEventSent(ha.START);
    cb.addStart(this._xPromoCampaign);
    return this._metaDataManager.fetch(pe, !1).then(function(d) {
      d ? c.setGamerServerId(d.getServerId()) : c.setGamerServerId(void 0);
      return c.sendHttpKafkaEvent("ads.xpromo.operative.videostart.v1.json", "start", a);
    }).then(function() {
    });
  };
  Zd.prototype.sendView = function(a) {
    var c = this._campaign.getSession();
    if (c.getEventSent(ha.VIEW)) {
      return Promise.resolve(void 0);
    }
    c.setEventSent(ha.VIEW);
    cb.addView(this._xPromoCampaign);
    return this.sendHttpKafkaEvent("ads.xpromo.operative.videoview.v1.json", "view", a).then(function() {
    });
  };
  Zd.prototype.sendClick = function(a) {
    var c = this._campaign.getSession();
    if (c.getEventSent(ha.CLICK)) {
      return Promise.resolve(void 0);
    }
    c.setEventSent(ha.CLICK);
    return this.sendHttpKafkaEvent("ads.xpromo.operative.videoclick.v1.json", "click", a).then(function() {
    });
  };
  Zd.prototype.sendHttpKafkaEvent = function(a, c, d) {
    var e = this;
    return this.createUniqueEventMetadata(d, this._sessionManager.getGameSessionId(), this._gamerServerId, Q.getPreviousPlacementId()).then(function(d) {
      d = h.makeIterator(d);
      var f = d.next().value, k = d.next().value;
      delete k.eventId;
      delete k.apiLevel;
      delete k.advertisingTrackingId;
      delete k.limitAdTracking;
      delete k.osVersion;
      delete k.sid;
      delete k.deviceMake;
      delete k.deviceModel;
      delete k.sdkVersion;
      delete k.webviewUa;
      delete k.networkType;
      delete k.connectionType;
      k.id = f;
      k.ts = (new Date).toISOString();
      k.event_type = c;
      k.sourceGameId = e._clientInfo.getGameId();
      k.targetGameId = e._xPromoCampaign.getGameId().toString();
      k.creativePackId = e._xPromoCampaign.getCreativeId();
      k.targetStoreId = e._xPromoCampaign.getAppStoreId();
      return I.sendEvent(a, ub.PERSONAL, k).catch(function() {
        var c = e._campaign.getSession().getId();
        return e._core.DeviceInfo.getUniqueEventId().then(function(d) {
          (new $d(e._core, c, d)).storeFailedEvent(e._storageBridge, {kafkaType:a, data:JSON.stringify(k)});
          return Promise.resolve({});
        });
      });
    });
  };
  Zd.prototype.createVideoEventUrl = function(a) {
    return this._xPromoCampaign.getVideoEventUrl(a);
  };
  Ig.createOperativeEventManager = function(a) {
    return a.campaign instanceof D ? new Oe(a) : a.campaign instanceof L ? new Zd(a) : a.campaign instanceof V ? new Ne(a) : new Yb(a);
  };
  Kc.prototype.addCampaignPlacementIds = function(a, c) {
    this._placementCampaignMap[a] = c;
  };
  Kc.prototype.getPlacementCampaignMap = function(a) {
    var c = this, d = {};
    Object.keys(this._placementCampaignMap).forEach(function(e) {
      c._placementCampaignMap[e].getAdType() === a && (d[e] = c._placementCampaignMap[e]);
    });
    return d;
  };
  Kc.prototype.clear = function() {
    this._placementCampaignMap = {};
  };
  Kc.prototype.setPlacementState = function(a, c) {
    var d = this._configuration.getPlacement(a), e = d.getState();
    d && (d.setState(c), this.sendPlacementStateChange(a, e, c));
  };
  Kc.prototype.setAllPlacementStates = function(a) {
    for (var c = h.makeIterator(this._configuration.getPlacementIds()), d = c.next(); !d.done; d = c.next()) {
      this.setPlacementState(d.value, a);
    }
  };
  Kc.prototype.setPlacementReady = function(a, c) {
    var d = this._configuration.getPlacement(a);
    d && (this.setPlacementState(a, xa.READY), d.setCurrentCampaign(c));
  };
  Kc.prototype.setCampaign = function(a, c) {
    (a = this._configuration.getPlacement(a)) && a.setCurrentCampaign(c);
  };
  Kc.prototype.getCampaign = function(a) {
    if (a = this._configuration.getPlacement(a)) {
      return a.getCurrentCampaign();
    }
  };
  Kc.prototype.clearCampaigns = function() {
    for (var a = h.makeIterator(this._configuration.getPlacementIds()), c = a.next(); !c.done; c = a.next()) {
      this._configuration.getPlacement(c.value).setCurrentCampaign(void 0);
    }
  };
  Kc.prototype.sendPlacementStateChange = function(a, c, d) {
    c !== d && (this._ads.Placement.setPlacementState(a, d), this._ads.Listener.sendPlacementStateChangedEvent(a, xa[c], xa[d]), d === xa.READY && (this._ads.Listener.sendReadyEvent(a), p.setReadyEventTimestamp(a), p.sendReadyEvent(a)));
  };
  Tc.prototype.create = function(a) {
    this.startNewSession(a);
    return new Nc(a);
  };
  Tc.prototype.startNewSession = function(a) {
    a = nd.getSessionStorageTimestampKey(a);
    var c = Date.now(), d = new Mc(t.PRIVATE);
    d.set(a, c);
    this._storageBridge.queue(d);
  };
  Tc.prototype.sendUnsentSessions = function() {
    var a = this;
    return this.getUnsentSessions().then(function(c) {
      c = c.map(function(c) {
        return a.isSessionOutdated(c).then(function(d) {
          return d ? a.deleteSession(c) : a.sendUnsentEvents(c);
        });
      });
      return Promise.all(c).catch(function(a) {
        F.trigger("sending_stored_events_failed", a);
        return Promise.resolve([]);
      });
    });
  };
  Tc.prototype.setGameSessionId = function(a) {
    this._gameSessionId = a;
  };
  Tc.prototype.getGameSessionId = function() {
    return this._gameSessionId;
  };
  Tc.prototype.deleteSession = function(a) {
    var c = new Mc(t.PRIVATE);
    c.delete(nd.getSessionStorageKey(a));
    this._storageBridge.queue(c);
    return Promise.resolve([]);
  };
  Tc.prototype.getUnsentSessions = function() {
    return this._core.Storage.getKeys(t.PRIVATE, "session", !1);
  };
  Tc.prototype.isSessionOutdated = function(a) {
    return this._core.Storage.get(t.PRIVATE, nd.getSessionStorageTimestampKey(a)).then(function(a) {
      var c = (new Date).getTime() - 6048E5, e = (new Date).getTime();
      return !(a > c && a < e);
    }).catch(function() {
      return !0;
    });
  };
  Tc.prototype.sendUnsentEvents = function(a) {
    var c = [], d = new vc(this._core, a);
    c.push(d.sendFailedEvents(this._request, this._storageBridge));
    a = new $d(this._core, a);
    c.push(a.sendFailedEvents(this._request, this._storageBridge));
    return Promise.all(c);
  };
  var Ta;
  (function(a) {
    a[a.ON_START = 0] = "ON_START";
    a[a.ON_CREATE = 1] = "ON_CREATE";
    a[a.ON_RESUME = 2] = "ON_RESUME";
    a[a.ON_DESTROY = 3] = "ON_DESTROY";
    a[a.ON_PAUSE = 4] = "ON_PAUSE";
    a[a.KEY_DOWN = 5] = "KEY_DOWN";
    a[a.ON_RESTORE = 6] = "ON_RESTORE";
    a[a.ON_STOP = 7] = "ON_STOP";
    a[a.ON_FOCUS_GAINED = 8] = "ON_FOCUS_GAINED";
    a[a.ON_FOCUS_LOST = 9] = "ON_FOCUS_LOST";
  })(Ta || (Ta = {}));
  var hh;
  (function(a) {
    a[a.ADUNIT_NULL = 0] = "ADUNIT_NULL";
    a[a.ACTIVITY_ID = 1] = "ACTIVITY_ID";
    a[a.GENERIC = 2] = "GENERIC";
    a[a.ORIENTATION = 3] = "ORIENTATION";
    a[a.SCREENVISIBILITY = 4] = "SCREENVISIBILITY";
    a[a.CORRUPTED_VIEWLIST = 5] = "CORRUPTED_VIEWLIST";
    a[a.CORRUPTED_KEYEVENTLIST = 6] = "CORRUPTED_KEYEVENTLIST";
    a[a.SYSTEM_UI_VISIBILITY = 7] = "SYSTEM_UI_VISIBILITY";
    a[a.UNKNOWN_VIEW = 8] = "UNKNOWN_VIEW";
  })(hh || (hh = {}));
  h.inherits(bb, w);
  bb.prototype.open = function(a, c, d, e, f, g, k) {
    e = void 0 === e ? [] : e;
    return this._nativeBridge.invoke(this._apiClass, "open", [a, c, d, e, void 0 === f ? 0 : f, void 0 === g ? !0 : g, void 0 === k ? !1 : k]);
  };
  bb.prototype.close = function() {
    return this._nativeBridge.invoke(this._apiClass, "close");
  };
  bb.prototype.setViews = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setViews", [a]);
  };
  bb.prototype.getViews = function() {
    return this._nativeBridge.invoke(this._apiClass, "getViews");
  };
  bb.prototype.setOrientation = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setOrientation", [a]);
  };
  bb.prototype.getOrientation = function() {
    return this._nativeBridge.invoke(this._apiClass, "getOrientation");
  };
  bb.prototype.setKeepScreenOn = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setKeepScreenOn", [a]);
  };
  bb.prototype.setSystemUiVisibility = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setSystemUiVisibility", [a]);
  };
  bb.prototype.setKeyEventList = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setKeyEventList", [a]);
  };
  bb.prototype.setViewFrame = function(a, c, d, e, f) {
    return this._nativeBridge.invoke(this._apiClass, "setViewFrame", [a, c, d, e, f]);
  };
  bb.prototype.getViewFrame = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getViewFrame", [a]);
  };
  bb.prototype.startMotionEventCapture = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "startMotionEventCapture", [a]);
  };
  bb.prototype.endMotionEventCapture = function() {
    return this._nativeBridge.invoke(this._apiClass, "endMotionEventCapture");
  };
  bb.prototype.clearMotionEventCapture = function() {
    return this._nativeBridge.invoke(this._apiClass, "clearMotionEventCapture");
  };
  bb.prototype.getMotionEventCount = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getMotionEventCount", [a]);
  };
  bb.prototype.getMotionEventData = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getMotionEventData", [a]);
  };
  bb.prototype.getCurrentMotionEventCount = function() {
    return this._nativeBridge.invoke(this._apiClass, "getCurrentMotionEventCount");
  };
  bb.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Ta[Ta.ON_START]:
        this.onStart.trigger(c[0]);
        break;
      case Ta[Ta.ON_CREATE]:
        this.onCreate.trigger(c[0]);
        break;
      case Ta[Ta.ON_RESUME]:
        this.onResume.trigger(c[0]);
        break;
      case Ta[Ta.ON_DESTROY]:
        this.onDestroy.trigger(c[0], c[1]);
        break;
      case Ta[Ta.ON_PAUSE]:
        this.onPause.trigger(c[0], c[1]);
        break;
      case Ta[Ta.KEY_DOWN]:
        this.onKeyDown.trigger(c[0], c[1], c[2], c[3], c[4]);
        break;
      case Ta[Ta.ON_RESTORE]:
        this.onRestore.trigger(c[0]);
        break;
      case Ta[Ta.ON_STOP]:
        this.onStop.trigger(c[0]);
        break;
      case Ta[Ta.ON_FOCUS_GAINED]:
        this.onFocusGained.trigger(c[0]);
        break;
      case Ta[Ta.ON_FOCUS_LOST]:
        this.onFocusLost.trigger(c[0]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  h.inherits(md, w);
  md.prototype.addEventHandler = function(a) {
    this._handlers.push(a);
    return a;
  };
  md.prototype.removeEventHandler = function(a) {
    this._handlers.length && (this._handlers = "undefined" !== typeof a ? this._handlers.filter(function(c) {
      return c !== a;
    }) : []);
  };
  var Af;
  (function(a) {
    a[a.INFO = 0] = "INFO";
  })(Af || (Af = {}));
  var Ec;
  (function(a) {
    a[a.VIDEOVIEW_NULL = 0] = "VIDEOVIEW_NULL";
    a[a.API_LEVEL_ERROR = 1] = "API_LEVEL_ERROR";
    a[a.GENERIC_ERROR = 2] = "GENERIC_ERROR";
    a[a.PAUSE_ERROR = 3] = "PAUSE_ERROR";
    a[a.PREPARE_ERROR = 4] = "PREPARE_ERROR";
    a[a.SEEKTO_ERROR = 5] = "SEEKTO_ERROR";
    a[a.ILLEGAL_STATE = 6] = "ILLEGAL_STATE";
  })(Ec || (Ec = {}));
  h.inherits(He, md);
  He.prototype.setInfoListenerEnabled = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setInfoListenerEnabled", [a]);
  };
  He.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Af[Af.INFO]:
        this._handlers.forEach(function(a) {
          return a.onInfo(c[0], c[1], c[2]);
        });
        break;
      case Ec[Ec.GENERIC_ERROR]:
        this._handlers.forEach(function(a) {
          return a.onGenericError(c[0], c[1], c[2]);
        });
        break;
      case Ec[Ec.PAUSE_ERROR]:
        this._handlers.forEach(function(a) {
          return a.onPauseError(c[0]);
        });
        break;
      case Ec[Ec.PREPARE_ERROR]:
        this._handlers.forEach(function(a) {
          return a.onPrepareError(c[0]);
        });
        break;
      case Ec[Ec.SEEKTO_ERROR]:
        this._handlers.forEach(function(a) {
          return a.onSeekToError(c[0]);
        });
        break;
      case Ec[Ec.ILLEGAL_STATE]:
        this._handlers.forEach(function(a) {
          return a.onIllegalStateError(c[0], c[1]);
        });
        break;
      default:
        throw Error("VideoPlayer event " + a + " does not have an observable");
    }
  };
  var lc;
  (function(a) {
    a[a.VIEW_CONTROLLER_INIT = 0] = "VIEW_CONTROLLER_INIT";
    a[a.VIEW_CONTROLLER_DID_LOAD = 1] = "VIEW_CONTROLLER_DID_LOAD";
    a[a.VIEW_CONTROLLER_DID_APPEAR = 2] = "VIEW_CONTROLLER_DID_APPEAR";
    a[a.VIEW_CONTROLLER_WILL_DISAPPEAR = 3] = "VIEW_CONTROLLER_WILL_DISAPPEAR";
    a[a.VIEW_CONTROLLER_DID_DISAPPEAR = 4] = "VIEW_CONTROLLER_DID_DISAPPEAR";
    a[a.VIEW_CONTROLLER_DID_RECEIVE_MEMORY_WARNING = 5] = "VIEW_CONTROLLER_DID_RECEIVE_MEMORY_WARNING";
  })(lc || (lc = {}));
  var ih;
  (function(a) {
    a[a.ADUNIT_NULL = 0] = "ADUNIT_NULL";
    a[a.NO_ROTATION_Z = 1] = "NO_ROTATION_Z";
    a[a.UNKNOWN_VIEW = 2] = "UNKNOWN_VIEW";
  })(ih || (ih = {}));
  h.inherits(qb, w);
  qb.prototype.open = function(a, c, d, e, f, g) {
    return this._nativeBridge.invoke(this._apiClass, "open", [a, c, d, e, f, g]);
  };
  qb.prototype.close = function() {
    return this._nativeBridge.invoke(this._apiClass, "close");
  };
  qb.prototype.setViews = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setViews", [a]);
  };
  qb.prototype.getViews = function() {
    return this._nativeBridge.invoke(this._apiClass, "getViews");
  };
  qb.prototype.setSupportedOrientations = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setSupportedOrientations", [a]);
  };
  qb.prototype.getSupportedOrientations = function() {
    return this._nativeBridge.invoke(this._apiClass, "getSupportedOrientations");
  };
  qb.prototype.setKeepScreenOn = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setKeepScreenOn", [a]);
  };
  qb.prototype.setStatusBarHidden = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setStatusBarHidden", [a]);
  };
  qb.prototype.getStatusBarHidden = function() {
    return this._nativeBridge.invoke(this._apiClass, "getStatusBarHidden");
  };
  qb.prototype.setShouldAutorotate = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setShouldAutorotate", [a]);
  };
  qb.prototype.getShouldAutorotate = function() {
    return this._nativeBridge.invoke(this._apiClass, "getShouldAutorotate");
  };
  qb.prototype.setTransform = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setTransform", [a]);
  };
  qb.prototype.getTransform = function() {
    return this._nativeBridge.invoke(this._apiClass, "getTransform");
  };
  qb.prototype.setViewFrame = function(a, c, d, e, f) {
    return this._nativeBridge.invoke(this._apiClass, "setViewFrame", [a, c, d, e, f]);
  };
  qb.prototype.getViewFrame = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getViewFrame", [a]);
  };
  qb.prototype.handleEvent = function(a, c) {
    switch(a) {
      case lc[lc.VIEW_CONTROLLER_INIT]:
        this.onViewControllerInit.trigger();
        break;
      case lc[lc.VIEW_CONTROLLER_DID_LOAD]:
        this.onViewControllerDidLoad.trigger();
        break;
      case lc[lc.VIEW_CONTROLLER_DID_APPEAR]:
        this.onViewControllerDidAppear.trigger();
        break;
      case lc[lc.VIEW_CONTROLLER_WILL_DISAPPEAR]:
        this.onViewControllerWillDisappear.trigger();
        break;
      case lc[lc.VIEW_CONTROLLER_DID_DISAPPEAR]:
        this.onViewControllerDidDisappear.trigger();
        break;
      case lc[lc.VIEW_CONTROLLER_DID_RECEIVE_MEMORY_WARNING]:
        this.onViewControllerDidReceiveMemoryWarning.trigger();
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  var hd;
  (function(a) {
    a[a.PREPARED = 0] = "PREPARED";
    a[a.OPENED = 1] = "OPENED";
    a[a.CLOSED = 2] = "CLOSED";
    a[a.FAILED = 3] = "FAILED";
  })(hd || (hd = {}));
  h.inherits(kd, w);
  kd.prototype.canOpen = function() {
    return this._nativeBridge.invoke(this._apiClass, "canOpen");
  };
  kd.prototype.prepare = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "prepare", [a, void 0 === c ? 30000 : c]);
  };
  kd.prototype.present = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "present", [a, void 0 === c ? !0 : c]);
  };
  kd.prototype.destroy = function(a) {
    return "undefined" === typeof a ? this._nativeBridge.invoke(this._apiClass, "destroy") : this._nativeBridge.invoke(this._apiClass, "destroy", [a]);
  };
  kd.prototype.setPrepareTimeout = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setPrepareTimeout", [a]);
  };
  kd.prototype.getPrepareTimeout = function() {
    return this._nativeBridge.invoke(this._apiClass, "getPrepareTimeout");
  };
  kd.prototype.handleEvent = function(a, c) {
    switch(a) {
      case hd[hd.PREPARED]:
        this.onPrepared.trigger(c[0]);
        break;
      case hd[hd.OPENED]:
        this.onOpen.trigger(c[0]);
        break;
      case hd[hd.CLOSED]:
        this.onClose.trigger(c[0]);
        break;
      case hd[hd.FAILED]:
        this.onError.trigger(c[0], c[1]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  var id;
  (function(a) {
    a[a.LIKELY_TO_KEEP_UP = 0] = "LIKELY_TO_KEEP_UP";
    a[a.BUFFER_EMPTY = 1] = "BUFFER_EMPTY";
    a[a.BUFFER_FULL = 2] = "BUFFER_FULL";
    a[a.GENERIC_ERROR = 3] = "GENERIC_ERROR";
    a[a.VIDEOVIEW_NULL = 4] = "VIDEOVIEW_NULL";
  })(id || (id = {}));
  h.inherits(gf, md);
  gf.prototype.handleEvent = function(a, c) {
    switch(a) {
      case id[id.LIKELY_TO_KEEP_UP]:
        this._handlers.forEach(function(a) {
          return a.onLikelyToKeepUp(c[0], c[1]);
        });
        break;
      case id[id.BUFFER_EMPTY]:
        this._handlers.forEach(function(a) {
          return a.onBufferEmpty(c[0], c[1]);
        });
        break;
      case id[id.BUFFER_FULL]:
        this._handlers.forEach(function(a) {
          return a.onBufferFull(c[0], c[1]);
        });
        break;
      case id[id.GENERIC_ERROR]:
        this._handlers.forEach(function(a) {
          return a.onGenericError(c[0], c[1]);
        });
        break;
      default:
        throw Error("VideoPlayer event " + a + " does not have an observable");
    }
  };
  h.inherits(zd, w);
  zd.prototype.sendReadyEvent = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "sendReadyEvent", [a]);
  };
  zd.prototype.sendStartEvent = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "sendStartEvent", [a]);
  };
  zd.prototype.sendFinishEvent = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "sendFinishEvent", [a, M[c]]);
  };
  zd.prototype.sendClickEvent = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "sendClickEvent", [a]);
  };
  zd.prototype.sendPlacementStateChangedEvent = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "sendPlacementStateChangedEvent", [a, c, d]);
  };
  zd.prototype.sendErrorEvent = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "sendErrorEvent", [a, c]);
  };
  h.inherits(Ge, w);
  Ge.prototype.setDefaultPlacement = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setDefaultPlacement", [a]);
  };
  Ge.prototype.setPlacementState = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "setPlacementState", [a, xa[c]]);
  };
  Ge.prototype.setPlacementAnalytics = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setPlacementAnalytics", [a]);
  };
  var xb;
  (function(a) {
    a[a.PROGRESS = 0] = "PROGRESS";
    a[a.COMPLETED = 1] = "COMPLETED";
    a[a.PREPARED = 2] = "PREPARED";
    a[a.PREPARE_TIMEOUT = 3] = "PREPARE_TIMEOUT";
    a[a.PLAY = 4] = "PLAY";
    a[a.PAUSE = 5] = "PAUSE";
    a[a.SEEKTO = 6] = "SEEKTO";
    a[a.STOP = 7] = "STOP";
  })(xb || (xb = {}));
  h.inherits(bc, md);
  bc.prototype.setProgressEventInterval = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setProgressEventInterval", [a]);
  };
  bc.prototype.getProgressEventInterval = function() {
    return this._nativeBridge.invoke(this._apiClass, "getProgressEventInterval");
  };
  bc.prototype.prepare = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "prepare", [a, c, d]);
  };
  bc.prototype.play = function() {
    return this._nativeBridge.invoke(this._apiClass, "play");
  };
  bc.prototype.pause = function() {
    return this._nativeBridge.invoke(this._apiClass, "pause");
  };
  bc.prototype.stop = function() {
    return this._nativeBridge.invoke(this._apiClass, "stop");
  };
  bc.prototype.seekTo = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "seekTo", [a]);
  };
  bc.prototype.getCurrentPosition = function() {
    return this._nativeBridge.invoke(this._apiClass, "getCurrentPosition");
  };
  bc.prototype.getVolume = function() {
    return this._nativeBridge.invoke(this._apiClass, "getVolume");
  };
  bc.prototype.setVolume = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setVolume", [a]);
  };
  bc.prototype.setAutomaticallyWaitsToMinimizeStalling = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setAutomaticallyWaitsToMinimizeStalling", [a]);
  };
  bc.prototype.handleEvent = function(a, c) {
    switch(a) {
      case xb[xb.PROGRESS]:
        this._handlers.forEach(function(a) {
          return a.onProgress(c[0]);
        });
        break;
      case xb[xb.COMPLETED]:
        this._handlers.forEach(function(a) {
          return a.onCompleted(c[0]);
        });
        break;
      case xb[xb.PREPARED]:
        this._handlers.forEach(function(a) {
          return a.onPrepared(c[0], c[1], c[2], c[3]);
        });
        break;
      case xb[xb.PREPARE_TIMEOUT]:
        this._handlers.forEach(function(a) {
          return a.onPrepareTimeout(c[0]);
        });
        break;
      case xb[xb.PLAY]:
        this._handlers.forEach(function(a) {
          return a.onPlay(c[0]);
        });
        break;
      case xb[xb.PAUSE]:
        this._handlers.forEach(function(a) {
          return a.onPause(c[0]);
        });
        break;
      case xb[xb.SEEKTO]:
        this._handlers.forEach(function(a) {
          return a.onSeek(c[0]);
        });
        break;
      case xb[xb.STOP]:
        this._handlers.forEach(function(a) {
          return a.onStop(c[0]);
        });
        break;
      default:
        this._nativeBridge.getPlatform() === m.IOS ? this.iOS.handleEvent(a, c) : this._nativeBridge.getPlatform() === m.ANDROID && this.Android.handleEvent(a, c);
    }
  };
  h.inherits(lb, A);
  lb.prototype.getCacheMode = function() {
    return this.get("cacheMode");
  };
  lb.prototype.getPlacement = function(a) {
    return this.getPlacements()[a];
  };
  lb.prototype.removePlacements = function(a) {
    var c = this.getPlacements();
    a.forEach(function(a) {
      delete c[a];
    });
    this.set("placements", c);
  };
  lb.prototype.getPlacementIds = function() {
    var a = [], c;
    for (c in this.getPlacements()) {
      this.getPlacements().hasOwnProperty(c) && a.push(c);
    }
    return a;
  };
  lb.prototype.getPlacements = function() {
    return this.get("placements");
  };
  lb.prototype.getPlacementCount = function() {
    if (!this.getPlacements()) {
      return 0;
    }
    var a = 0, c;
    for (c in this.getPlacements()) {
      this.getPlacements().hasOwnProperty(c) && a++;
    }
    return a;
  };
  lb.prototype.getDefaultPlacement = function() {
    return this.get("defaultPlacement");
  };
  lb.prototype.getDefaultBannerPlacement = function() {
    return this.get("defaultBannerPlacement");
  };
  lb.prototype.isGDPREnabled = function() {
    return this.get("gdprEnabled");
  };
  lb.prototype.setGDPREnabled = function(a) {
    this.set("gdprEnabled", a);
  };
  lb.prototype.isOptOutRecorded = function() {
    return this.get("optOutRecorded");
  };
  lb.prototype.setOptOutRecorded = function(a) {
    this.set("optOutRecorded", a);
  };
  lb.prototype.isOptOutEnabled = function() {
    return this.get("optOutEnabled");
  };
  lb.prototype.setOptOutEnabled = function(a) {
    this.set("optOutEnabled", a);
  };
  lb.prototype.getDTO = function() {
    var a = [], c;
    for (c in this.getPlacements()) {
      this.getPlacements().hasOwnProperty(c) && a.push(this.getPlacements()[c].getDTO());
    }
    var d;
    (c = this.getDefaultPlacement()) && (d = c.getId());
    return {cacheMode:Zb[this.getCacheMode()].toLowerCase(), placements:a, defaultPlacement:d};
  };
  lb.Schema = {cacheMode:["number"], placements:["object"], defaultPlacement:["object"], gdprEnabled:["boolean"], optOutRecorded:["boolean"], optOutEnabled:["boolean"], defaultBannerPlacement:["string", "undefined"]};
  Lf.parse = function(a) {
    var c = a.placements, d = {}, e;
    if (c) {
      c.forEach(function(a) {
        a = new Ha(a);
        d[a.getId()] = a;
        a.isDefault() && (e = a);
      });
    } else {
      throw Error("No placements in configuration response");
    }
    if (!e) {
      throw Error("No default placement in configuration response");
    }
    a = {cacheMode:this.parseCacheMode(a), placements:d, defaultPlacement:e, gdprEnabled:a.gdprEnabled, optOutRecorded:a.optOutRecorded, optOutEnabled:a.optOutEnabled, defaultBannerPlacement:void 0};
    return new lb(a);
  };
  Lf.parseCacheMode = function(a) {
    switch(a.assetCaching) {
      case "forced":
        return Zb.FORCED;
      case "allowed":
        return Zb.ALLOWED;
      case "disabled":
        return Zb.DISABLED;
      case "adaptive":
        return Zb.ADAPTIVE;
      default:
        throw Error('Unknown assetCaching value "' + a.assetCaching + '"');
    }
  };
  h.inherits(ja, Wa);
  ja.prototype.hide = function() {
    Wa.prototype.hide.call(this);
    this._privacy && (this._privacy.hide(), document.body.removeChild(this._privacy.container()), delete this._privacy);
    this._showGDPRBanner && !this._gdprPopupClicked && this._handlers.forEach(function(a) {
      return a.onGDPRPopupSkipped();
    });
  };
  ja.prototype.render = function() {
    Wa.prototype.render.call(this);
    if (fa.isTencentAdvertisement(this._seatId)) {
      var a = this._container.querySelector(".tencent-advertisement");
      a && (a.innerText = "\u5e7f\u544a");
    }
    this._skipElement = this._container.querySelector(".skip-hit-area");
    this._spinnerElement = this._container.querySelector(".buffering-spinner");
    this._muteButtonElement = this._container.querySelector(".mute-button");
    this._debugMessageElement = this._container.querySelector(".debug-message-text");
    this._callButtonElement = this._container.querySelector(".call-button");
    this._progressElement = this._container.querySelector(".progress");
    this._GDPRPopupElement = this._container.querySelector(".gdpr-pop-up");
    this._privacyButtonElement = this._container.querySelector(".privacy-button");
    this.choosePrivacyShown();
    fa.isCheetahGame(this._gameId) && this._container.querySelector(".skip").classList.add("close-icon-skip");
  };
  ja.prototype.setSpinnerEnabled = function(a) {
    this._spinnerEnabled !== a && (this._spinnerEnabled = a, this._spinnerElement.style.display = a ? "block" : "none");
  };
  ja.prototype.setSkipEnabled = function(a) {
    this._skipEnabled !== a && (this._skipEnabled = a, this._skipElement.style.display = a ? "block" : "none");
  };
  ja.prototype.setVideoDurationEnabled = function(a) {
    this._videoDurationEnabled !== a && (this._videoDurationEnabled = a, this._progressElement.style.display = a ? "block" : "none");
  };
  ja.prototype.setVideoProgress = function(a) {
    var c = this;
    ja.AutoSkip && this._handlers.forEach(function(c) {
      return c.onOverlaySkip(a);
    });
    this._fadeEnabled && !this._fadeTimer && (!this._skipEnabled || 0 >= this._skipRemaining) && (this._fadeTimer = setTimeout(function() {
      c.fade(!0);
      c._fadeTimer = void 0;
    }, 3000));
    this._videoProgress = a;
    this._skipEnabled && 0 < this._skipRemaining && (this._skipRemaining = this._skipDuration - a, 0 >= this._skipRemaining ? (this.setSkipElementVisible(!0), this.updateProgressCircle(this._skipElement, 1)) : this.updateProgressCircle(this._skipElement, (this._skipDuration - this._skipRemaining) / this._skipDuration));
    this._progressElement.setAttribute("data-seconds", Math.round((this._videoDuration - a) / 1000).toString());
    this.updateProgressCircle(this._progressElement, this._videoProgress / this._videoDuration);
  };
  ja.prototype.setMuteEnabled = function(a) {
    this._muteEnabled !== a && (this._muteEnabled = a, this._muteButtonElement.style.display = a ? "block" : "none");
  };
  ja.prototype.setDebugMessage = function(a) {
    this._debugMessageElement.innerHTML = a;
  };
  ja.prototype.setDebugMessageVisible = function(a) {
    this._debugMessageVisible !== a && (this._debugMessageElement.style.display = a ? "block" : "none");
  };
  ja.prototype.setCallButtonVisible = function(a) {
    this._callButtonVisible !== a && (this._callButtonElement.style.display = a ? "block" : "none");
  };
  ja.prototype.setCallButtonEnabled = function(a) {
    this._callButtonEnabled !== a && (this._callButtonEnabled = a);
  };
  ja.prototype.isMuted = function() {
    return this._muted;
  };
  ja.prototype.onPrivacy = function() {
  };
  ja.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
    this._isPrivacyShowing = !1;
    this._ads.VideoPlayer.play();
  };
  ja.prototype.onGDPROptOut = function() {
  };
  ja.prototype.choosePrivacyShown = function() {
    this._disablePrivacyDuringVideo ? (this._privacyButtonElement.style.visibility = "hidden", this._GDPRPopupElement.style.visibility = "hidden", this._privacyButtonElement.style.pointerEvents = "1", this._GDPRPopupElement.style.pointerEvents = "1") : !this._gdprPopupClicked && this._showGDPRBanner ? (this._GDPRPopupElement.style.visibility = "visible", this._privacyButtonElement.style.pointerEvents = "1", this._privacyButtonElement.style.visibility = "hidden") : (this._privacyButtonElement.style.visibility = 
    "visible", this._GDPRPopupElement.style.pointerEvents = "1", this._GDPRPopupElement.style.visibility = "hidden");
  };
  ja.prototype.onGDPRPopupEvent = function(a) {
    a.preventDefault();
    this._isPrivacyShowing = !0;
    this._gdprPopupClicked || (this._gdprPopupClicked = !0, this.choosePrivacyShown());
    this._ads.VideoPlayer.pause();
    this._privacy && this._privacy.show();
  };
  ja.prototype.onPrivacyEvent = function(a) {
    this._isPrivacyShowing = !0;
    a.preventDefault();
    this._ads.VideoPlayer.pause();
    this._privacy && this._privacy.show();
  };
  ja.prototype.onSkipEvent = function(a) {
    var c = this;
    a.preventDefault();
    a.stopPropagation();
    this._skipEnabled && this._videoProgress > this._skipDuration && this._handlers.forEach(function(a) {
      return a.onOverlaySkip(c._videoProgress);
    });
  };
  ja.prototype.onMuteEvent = function(a) {
    var c = this;
    a.preventDefault();
    a.stopPropagation();
    this.resetFadeTimer();
    this._muted ? (this._muteButtonElement.classList.remove("muted"), this._muted = !1) : (this._muteButtonElement.classList.add("muted"), this._muted = !0);
    this._handlers.forEach(function(a) {
      return a.onOverlayMute(c._muted);
    });
  };
  ja.prototype.onCallButtonEvent = function(a) {
    this._callButtonEnabled && (a.preventDefault(), a.stopPropagation(), this.resetFadeTimer(), this._handlers.forEach(function(a) {
      return a.onOverlayCallButton();
    }));
  };
  ja.prototype.onPauseForTestingEvent = function(a) {
    a.preventDefault();
    a.stopPropagation();
    this.resetFadeTimer();
    this._handlers.forEach(function(a) {
      return a.onOverlayPauseForTesting(!0);
    });
  };
  ja.prototype.onClick = function() {
    this.resetFadeTimer();
    this._fadeStatus ? this.fade(!0) : this.fade(!1);
  };
  ja.prototype.updateProgressCircle = function(a, c) {
    var d = a.querySelector(".progress-wrapper");
    if (this._platform === m.ANDROID && 15 > this._deviceInfo.getApiLevel()) {
      d.style.display = "none", this._container.style.display = "none", this._container.offsetHeight, this._container.style.display = "block";
    } else {
      var e = a.querySelector(".circle-left");
      a = a.querySelector(".circle-right");
      e.style.webkitTransform = "rotate(" + 360 * c + "deg)";
      0.5 <= c && (d.style.webkitAnimationName = "close-progress-wrapper", a.style.webkitAnimationName = "right-spin");
    }
  };
  ja.prototype.setSkipElementVisible = function(a) {
    if (this._skipVisible !== a) {
      this._skipVisible = a;
      var c = this._container.querySelector(".skip");
      a ? c.classList.add("enabled") : c.classList.remove("enabled");
    }
  };
  ja.prototype.resetFadeTimer = function() {
    this._fadeTimer && (clearTimeout(this._fadeTimer), this._fadeTimer = void 0);
  };
  ja.prototype.fade = function(a) {
    a && !this._isPrivacyShowing ? (this._skipElement.classList.remove("slide-back-in-place"), this._skipElement.classList.add("slide-up"), this._progressElement.classList.remove("slide-back-in-place"), this._progressElement.classList.add("slide-up"), this._muteButtonElement.classList.remove("slide-back-in-place"), this._muteButtonElement.classList.add("slide-down"), this._gdprPopupClicked && (this._privacyButtonElement.classList.remove("slide-back-in-place"), this._privacyButtonElement.classList.add("slide-down")), 
    this._container.style.pointerEvents = "auto", this._fadeStatus = !1) : (this._container.style.pointerEvents = "none", this._skipElement.classList.remove("slide-up"), this._skipElement.classList.add("slide-back-in-place"), this._progressElement.classList.remove("slide-up"), this._progressElement.classList.add("slide-back-in-place"), this._muteButtonElement.classList.remove("slide-down"), this._muteButtonElement.classList.add("slide-back-in-place"), this._gdprPopupClicked && (this._privacyButtonElement.classList.remove("slide-down"), 
    this._privacyButtonElement.classList.add("slide-back-in-place")), this._fadeStatus = !0);
  };
  G.setup = function(a) {
    var c = this, d = a.get("test.clearTestMetaData", !1), e = a.getKeys("test");
    return Promise.all([d, e]).then(function(d) {
      var e = h.makeIterator(d), f = h.makeIterator(e.next().value);
      d = f.next().value;
      f = f.next().value;
      e = e.next().value;
      var l = !1;
      d && "boolean" === typeof f && (l = f);
      var m = [];
      e.forEach(function(d) {
        m.push(a.get("test." + d, l).then(function(a) {
          var e = h.makeIterator(a);
          a = e.next().value;
          e = e.next().value;
          a && (c._testEnvironment[d] = e);
        }));
      });
      return Promise.all(m);
    });
  };
  G.get = function(a) {
    return G._testEnvironment[a];
  };
  G._testEnvironment = {};
  Me.parseFromString = function(a, c) {
    if (/^\s*text\/html\s*(?:;|$)/i.test(c)) {
      var d = document.implementation.createHTMLDocument("");
      -1 < a.toLowerCase().indexOf("<!doctype") ? d.documentElement.innerHTML = a : d.body.innerHTML = a;
      return d;
    }
    return Me.nativeParse.apply(new DOMParser, arguments);
  };
  Me.nativeParse = DOMParser.prototype.parseFromString;
  Le.get = function(a) {
    return new Promise(function(c, d) {
      var e = new XMLHttpRequest;
      e.addEventListener("load", function() {
        200 <= e.status && 299 >= e.status || 0 === e.status && 0 === a.indexOf("file://") ? c(e.responseText) : d(Error("Request failed with status code " + e.status));
      });
      e.addEventListener("error", function() {
        d(Error("Error ocurred while executing request: status - " + e.status));
      });
      e.addEventListener("timeout", function() {
        d(Error("Request timed out"));
      });
      e.addEventListener("abort", function() {
        d(Error("Request was aborted"));
      });
      e.open("GET", decodeURIComponent(a));
      e.send();
    });
  };
  h.inherits(N, B);
  N.prototype.render = function() {
    B.prototype.render.call(this);
    this._closeElement = this._container.querySelector(".close-region");
    this._gdprBanner = this._container.querySelector(".gdpr-pop-up");
    this._privacyButton = this._container.querySelector(".privacy-button");
    this.choosePrivacyShown();
  };
  N.prototype.hide = function() {
    var a = this;
    this.setViewableState(!1);
    this._updateInterval && (clearInterval(this._updateInterval), this._updateInterval = void 0);
    B.prototype.hide.call(this);
    this._privacy && (this._privacy.removeEventHandler(this), this._privacy.hide());
    this._showGDPRBanner && !this._gdprPopupClicked && this._handlers.forEach(function(a) {
      return a.onGDPRPopupSkipped();
    });
    void 0 !== this._stats && this._handlers.forEach(function(c) {
      return c.onPlayableAnalyticsEvent(a._stats.averageFps, a._stats.averagePlayFps, 0, "playable_performance_stats", a._stats);
    });
  };
  N.prototype.setMraidEventBridge = function(a) {
    this._mraidBridge = a;
  };
  N.prototype.createMRAID = function(a) {
    var c = this, d = Date.now(), e = Date.now(), f = Date.now();
    return this.fetchMRAID().then(function(d) {
      e = f = Date.now();
      if (d) {
        var g = c._campaign.getDynamicMarkup();
        g && (d = d.replace("{UNITY_DYNAMIC_MARKUP}", g));
        d = d.replace(/\$/g, "$$$");
        d = c.replaceMraidSources(d);
        return a.replace("<body></body>", "<body>" + d + "</body>");
      }
      throw new pb("Unable to fetch MRAID");
    }).then(function(a) {
      var g = (e - d) / 1000, l = (Date.now() - f) / 1000;
      c._handlers.forEach(function(a) {
        return a.onPlayableAnalyticsEvent(g, l, 0, "playable_fetching_time", {});
      });
      return a;
    });
  };
  N.prototype.isKPIDataValid = function(a, c) {
    var d = !0;
    Object.keys(a).forEach(function(c) {
      c = a[c];
      if ("number" !== typeof c || isNaN(c) || 0 > c || 3600 < c) {
        d = !1;
      }
    });
    d || 999 !== this._gameSessionId % 1000 || F.trigger("playable_kpi_time_value_error", Object.assign({message:"Time value for KPI looks unreasonable", kpi:c}, a));
    return d;
  };
  N.prototype.onPrivacy = function() {
  };
  N.prototype.onGDPROptOut = function() {
  };
  N.prototype.setCallButtonEnabled = function(a) {
    this._callButtonEnabled !== a && (this._callButtonEnabled = a);
  };
  N.prototype.choosePrivacyShown = function() {
    this._showGDPRBanner && !this._gdprPopupClicked ? (this._gdprBanner.style.visibility = "visible", this._privacyButton.style.pointerEvents = "1", this._privacyButton.style.visibility = "hidden") : (this._privacyButton.style.visibility = "visible", this._gdprBanner.style.pointerEvents = "1", this._gdprBanner.style.visibility = "hidden");
  };
  N.prototype.updateStats = function(a) {
    this._stats = Object.assign({}, a, {averageFps:a.frameCount / a.totalTime, averagePlayFps:a.frameCount / a.playTime});
  };
  N.prototype.prepareProgressCircle = function() {
    var a = this;
    if (this._placement.allowSkip()) {
      var c = this._placement.allowSkipInSeconds();
      this._closeRemaining = this._CLOSE_LENGTH;
      var d = c;
      this._updateInterval = setInterval(function() {
        0 < a._closeRemaining && a._closeRemaining--;
        0 < d && (d--, a.updateProgressCircle(a._closeElement, (c - d) / c));
        0 >= d && (a._canSkip = !0, a._closeElement.style.opacity = "1", a.updateProgressCircle(a._closeElement, 1));
        0 >= a._closeRemaining && (clearInterval(a._updateInterval), a._canClose = !0);
      }, 1000);
    } else {
      this._closeRemaining = this._CLOSE_LENGTH, this._updateInterval = setInterval(function() {
        var c = (a._CLOSE_LENGTH - a._closeRemaining) / a._CLOSE_LENGTH;
        0.75 <= c && !a._didReward && (a._handlers.forEach(function(a) {
          return a.onMraidReward();
        }), a._didReward = !0);
        0 < a._closeRemaining && (a._closeRemaining--, a.updateProgressCircle(a._closeElement, c));
        0 >= a._closeRemaining && (clearInterval(a._updateInterval), a._canClose = !0, a._closeElement.style.opacity = "1", a.updateProgressCircle(a._closeElement, 1));
      }, 1000);
    }
  };
  N.prototype.updateProgressCircle = function(a, c) {
    var d = a.querySelector(".progress-wrapper");
    if (this._platform === m.ANDROID && 15 > this._deviceInfo.getApiLevel()) {
      d.style.display = "none", this._container.style.display = "none", this._container.offsetHeight, this._container.style.display = "block";
    } else {
      var e = a.querySelector(".circle-left");
      a = a.querySelector(".circle-right");
      e.style.webkitTransform = "rotate(" + 360 * c + "deg)";
      0.5 <= c && (d.style.webkitAnimationName = "close-progress-wrapper", a.style.webkitAnimationName = "right-spin");
    }
  };
  N.prototype.setAnalyticsBackgroundTime = function(a) {
    a ? this._backgroundTimestamp && (this._backgroundTime += Date.now() - this._backgroundTimestamp) : this._backgroundTimestamp = Date.now();
  };
  N.prototype.replaceMraidSources = function(a) {
    var c = this._platform === m.IOS ? Me.parseFromString(a, "text/html") : (new DOMParser).parseFromString(a, "text/html");
    if (!c) {
      return this._core.Sdk.logWarning("Could not parse markup for campaign " + this._campaign.getId()), a;
    }
    (a = c.documentElement.querySelector('script[src^="mraid.js"]')) && a.parentNode && a.parentNode.removeChild(a);
    return c.documentElement.outerHTML;
  };
  N.prototype.fetchMRAID = function() {
    var a = this._campaign.getResourceUrl();
    if (a) {
      if (this._platform === m.ANDROID) {
        return Le.get(a.getUrl());
      }
      var c = a.getFileId();
      return c ? this._core.Cache.getFileContent(c, "UTF-8") : Le.get(a.getOriginalUrl());
    }
    return Promise.resolve(this._campaign.getResource());
  };
  N.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
  };
  N.prototype.onPrivacyEvent = function(a) {
    a.preventDefault();
    this._privacy.show();
  };
  N.prototype.onGDPRPopupEvent = function(a) {
    a.preventDefault();
    this._gdprPopupClicked = !0;
    this._privacy.show();
  };
  N.prototype.onSetOrientationProperties = function(a, c) {
    this._handlers.forEach(function(d) {
      return d.onMraidOrientationProperties({allowOrientationChange:a, forceOrientation:c});
    });
  };
  N.prototype.onOpen = function(a) {
    this._handlers.forEach(function(c) {
      return c.onMraidClick(a);
    });
  };
  N.prototype.onLoadedEvent = function() {
  };
  N.prototype.onAREvent = function() {
    return Promise.resolve();
  };
  N.prototype.onBridgeSetOrientationProperties = function(a, c) {
    this.onSetOrientationProperties(a, c);
  };
  N.prototype.onBridgeOpen = function(a) {
    this.onOpen(encodeURI(a));
  };
  N.prototype.onBridgeLoad = function() {
    this.onLoadedEvent();
  };
  N.prototype.onBridgeAnalyticsEvent = function(a, c) {
    this.sendMraidAnalyticsEvent(a, c);
  };
  N.prototype.onBridgeClose = function() {
    this._handlers.forEach(function(a) {
      return a.onMraidClose();
    });
  };
  N.prototype.onBridgeStateChange = function(a) {
    "completed" === a && !this._placement.allowSkip() && 5 < this._closeRemaining && (this._closeRemaining = 5);
  };
  N.prototype.onBridgeResizeWebview = function() {
  };
  N.prototype.onBridgeSendStats = function(a, c, d) {
    this.updateStats({totalTime:a, playTime:c, frameCount:d});
  };
  N.prototype.onBridgeAREvent = function(a) {
    var c = this;
    this.onAREvent(a).catch(function(a) {
      return c._core.Sdk.logError("AR message error: " + a.toString());
    });
  };
  h.inherits(sc, N);
  sc.prototype.render = function() {
    N.prototype.render.call(this);
    this._loadingScreen = this._container.querySelector(".loading-screen");
    this.loadIframe();
  };
  sc.prototype.show = function() {
    N.prototype.show.call(this);
    this._showTimestamp = Date.now();
    this.sendMraidAnalyticsEvent("playable_show");
    this.showLoadingScreen();
  };
  sc.prototype.hide = function() {
    this._loadingScreenTimeout && (clearTimeout(this._loadingScreenTimeout), this._loadingScreenTimeout = void 0);
    this._prepareTimeout && (clearTimeout(this._prepareTimeout), this._prepareTimeout = void 0);
    N.prototype.hide.call(this);
    this._mraidBridge.disconnect();
  };
  sc.prototype.setViewableState = function(a) {
    this._isLoaded && !this._loadingScreenTimeout && this._mraidBridge.sendViewableEvent(a);
    this.setAnalyticsBackgroundTime(a);
  };
  sc.prototype.loadIframe = function() {
    var a = this, c = this._iframe = this._container.querySelector("#mraid-iframe");
    this._mraidBridge.connect(c);
    var d = this.setUpMraidContainer();
    this.createMRAID(d).then(function(d) {
      c.onload = function() {
        return a.onIframeLoaded();
      };
      p.setFrameSetStartTimestamp(a._placement.getId());
      a._core.Sdk.logDebug("Unity Ads placement " + a._placement.getId() + " set iframe.src started " + p.getFrameSetStartTimestamp(a._placement.getId()));
      c.srcdoc = d;
    });
  };
  sc.prototype.setUpMraidContainer = function() {
    var a = $g.isValid(this._abGroup) ? "\x3c!-- DO NOT PUT A DOCTYPE HERE! iOS will go crazy --\x3e<html lang=\"en\"><head><title>Unity Ads MRAID WebView</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\"><meta name=\"apple-mobile-web-app-capable\" content=\"yes\"><meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\"><meta name=\"format-detection\" content=\"telephone=no\"><script>(function() {\n            var MRAID = function() {\n                var state = 'loading';\n\n                var listeners = {\n                    ready: [],\n                    error: [],\n                    stateChange: [],\n                    viewableChange: [],\n                    sizeChange: []\n                };\n\n                var viewable = false;\n\n                var orientationProperties = {\n                    allowOrientationChange: true,\n                    forceOrientation: 'none'\n                };\n\n                var trigger = function(event, parameters) {\n                    if(!parameters) {\n                        parameters = [];\n                    }\n                    if(event in listeners) {\n                        for (var len = listeners[event].length, i = len - 1; i >= 0; i--) {\n                            var listener = listeners[event][i];\n                            try {\n                                listener.apply(window, parameters);\n                            } catch (e) {\n                                console.log('Got error ', e);\n                                window.parent.postMessage({\n                                    type: 'diagnosticError',\n                                    error: {\n                                        message: e.message\n                                    }\n                                }, '*');\n                            }\n                        }\n                    }\n                };\n\n                var width = window.innerWidth;\n                var height = window.innerHeight;\n\n                var playableConfiguration = {};\n\n                var setState = function(newState) {\n                    state = newState;\n                    trigger('stateChange', [newState]);\n                };\n\n                window.addEventListener('message', function(event) {\n                    switch(event.data.type) {\n                        case 'viewable':\n                            viewable = event.data.value;\n                            trigger('viewableChange', [viewable]);\n                            break;\n\n                        case 'resize':\n                            window.innerWidth = width = event.data.width;\n                            window.innerHeight = height = event.data.height;\n                            trigger('sizeChange', [width, height]);\n                            break;\n\n                        default:\n                            break;\n                    }\n                }, false);\n\n                window.addEventListener('resize', function(e) {\n                    width = window.innerWidth;\n                    height = window.innerHeight;\n                    trigger('sizeChange', [width, height]);\n                });\n\n                window.addEventListener('DOMContentLoaded', function() {\n                    window.parent.postMessage({\n                        type: 'loaded'\n                    }, '*');\n                    setState('default');\n                    trigger('ready');\n                }, false);\n\n                this.addEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        listeners[event].push(listener);\n                    }\n                };\n\n                this.createCalendarEvent = function() {\n                    trigger('error', ['not implemented', 'createCalendarEvent']);\n                };\n\n                this.close = function() {\n                    setState('hidden');\n                    window.parent.postMessage({\n                        type: 'close'\n                    }, '*');\n                };\n\n                this.expand = function() {\n                    trigger('error', ['not implemented', 'expand']);\n                };\n\n                this.getCurrentPosition = this.getDefaultPosition = function() {\n                    return {\n                        x: 0,\n                        y: 0,\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getExpandProperties = function() {\n                    trigger('error', ['not implemented', 'getExpandProperties']);\n                };\n\n                this.getMaxSize = this.getScreenSize = function() {\n                    return {\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getOrientationProperties = function() {\n                    return orientationProperties;\n                };\n\n                this.getPlacementType = function() {\n                    return 'interstitial';\n                };\n\n                this.getResizeProperties = function() {\n                    trigger('error', ['not implemented', 'getResizeProperties']);\n                };\n\n                this.getState = function() {\n                    return state;\n                };\n\n                this.getVersion = function() {\n                    return '2.0';\n                };\n\n                this.isViewable = function() {\n                    return viewable;\n                };\n\n                this.open = function(url) {\n                    window.parent.postMessage({\n                        type: 'open',\n                        url: url\n                    }, '*');\n                };\n\n                this.playVideo = function() {\n                    trigger('error', ['not implemented', 'playVideo']);\n                };\n\n                this.removeEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        var index = listeners[event].indexOf(listener);\n                        if(index !== -1) {\n                            listeners[event].splice(index, 1);\n                        }\n                    }\n                };\n\n                this.resize = function() {\n                    trigger('error', ['not implemented', 'resize']);\n                };\n\n                this.setExpandProperties = function() {\n                    trigger('error', ['not implemented', 'setExpandProperties']);\n                };\n\n                this.setOrientationProperties = function(properties) {\n                    orientationProperties = properties;\n                    window.parent.postMessage({\n                        type: 'orientation',\n                        properties: properties\n                    }, '*');\n                };\n\n                this.setResizeProperties = function() {\n                    trigger('error', ['not implemented', 'setResizeProperties']);\n                };\n\n                this.storePicture = function() {\n                    trigger('error', ['not implemented', 'storePicture']);\n                };\n\n                this.useCustomClose = function() {\n                    trigger('error', ['not implemented', 'useCustomClose']);\n                };\n\n                this.sendAnalyticsEvent = function(event, eventData) {\n                    window.parent.postMessage({\n                        type: 'analyticsEvent',\n                        event: event,\n                        eventData: eventData\n                    }, '*');\n                };\n\n                this.setCustomMraidState = function(state) {\n                    window.parent.postMessage({\n                        type: 'customMraidState',\n                        state: state\n                    }, '*');\n                };\n\n                this.getConfiguration = function() {\n                    return playableConfiguration;\n                }\n            };\n\n            var frameCount = 0;\n            var playableStartTime = undefined;\n            var playableTime = 0;\n\n            var lastFrameTime = 0;\n            var originalRequestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n\n            if (typeof originalRequestAnimationFrame === 'function') {\n\n                var sendStats = function() {\n                    if (playableStartTime !== undefined) {\n                        window.parent.postMessage({\n                            type: 'sendStats',\n                            frameCount: frameCount,\n                            playTime: playableTime / 1000,\n                            totalTime: (Date.now() - playableStartTime) / 1000,\n                        }, '*');\n                    }\n                };\n\n                window.requestAnimationFrame = window.webkitRequestAnimationFrame = function (callback) {\n                    if (playableStartTime === undefined) {\n                        playableStartTime = Date.now();\n                    }\n\n                    return originalRequestAnimationFrame((time) => {\n                        if (time - lastFrameTime > 16) {\n                            frameCount++;\n\n                            if (lastFrameTime !== 0) {\n                                playableTime += (time - lastFrameTime);\n                            }\n                        }\n                        lastFrameTime = time;\n                        callback(time);\n                    });\n                };\n\n                setInterval(sendStats, 500);\n            }\n\n            window.mraid = new MRAID();\n        })();\x3c/script></head><body></body></html>" : 
    "\x3c!-- DO NOT PUT A DOCTYPE HERE! iOS will go crazy --\x3e<html lang=\"en\"><head><title>Unity Ads MRAID WebView</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\"><meta name=\"apple-mobile-web-app-capable\" content=\"yes\"><meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\"><meta name=\"format-detection\" content=\"telephone=no\"><script>(function() {\n            var MRAID = function() {\n                var state = 'loading';\n\n                var listeners = {\n                    ready: [],\n                    error: [],\n                    stateChange: [],\n                    viewableChange: []\n                };\n\n                var viewable = false;\n\n                var orientationProperties = {\n                    allowOrientationChange: true,\n                    forceOrientation: 'none'\n                };\n\n                var trigger = function(event, parameters) {\n                    if(!parameters) {\n                        parameters = [];\n                    }\n                    if(event in listeners) {\n                        for (var len = listeners[event].length, i = len - 1; i >= 0; i--) {\n                            var listener = listeners[event][i];\n                            try {\n                                listener.apply(window, parameters);\n                            } catch (e) {\n                                console.log('Got error ', e);\n                                window.parent.postMessage({\n                                    type: 'diagnosticError',\n                                    error: {\n                                        message: e.message\n                                    }\n                                }, '*');\n                            }\n                        }\n                    }\n                };\n\n                var width = window.innerWidth;\n                var height = window.innerHeight;\n\n                var playableConfiguration = {};\n\n                var setState = function(newState) {\n                    state = newState;\n                    trigger('stateChange', [newState]);\n                };\n\n                window.addEventListener('message', function(event) {\n                    switch(event.data.type) {\n                        case 'viewable':\n                            viewable = event.data.value;\n                            trigger('viewableChange', [viewable]);\n                            break;\n\n                        case 'resize':\n                            window.innerWidth = width = event.data.width;\n                            window.innerHeight = height = event.data.height;\n                            trigger('sizeChange', [width, height]);\n                            break;\n\n                        default:\n                            break;\n                    }\n                }, false);\n\n                window.addEventListener('resize', function(e) {\n                    width = window.innerWidth;\n                    height = window.innerHeight;\n                    trigger('sizeChange', [width, height]);\n                });\n\n                window.addEventListener('DOMContentLoaded', function() {\n                    window.parent.postMessage({\n                        type: 'loaded'\n                    }, '*');\n                    setState('default');\n                    trigger('ready');\n                }, false);\n\n                this.addEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        listeners[event].push(listener);\n                    }\n                };\n\n                this.createCalendarEvent = function() {\n                    trigger('error', ['not implemented', 'createCalendarEvent']);\n                };\n\n                this.close = function() {\n                    setState('hidden');\n                    window.parent.postMessage({\n                        type: 'close'\n                    }, '*');\n                };\n\n                this.expand = function() {\n                    trigger('error', ['not implemented', 'expand']);\n                };\n\n                this.getCurrentPosition = this.getDefaultPosition = function() {\n                    return {\n                        x: 0,\n                        y: 0,\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getExpandProperties = function() {\n                    trigger('error', ['not implemented', 'getExpandProperties']);\n                };\n\n                this.getMaxSize = this.getScreenSize = function() {\n                    return {\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getOrientationProperties = function() {\n                    return orientationProperties;\n                };\n\n                this.getPlacementType = function() {\n                    return 'interstitial';\n                };\n\n                this.getResizeProperties = function() {\n                    trigger('error', ['not implemented', 'getResizeProperties']);\n                };\n\n                this.getState = function() {\n                    return state;\n                };\n\n                this.getVersion = function() {\n                    return '2.0';\n                };\n\n                this.isViewable = function() {\n                    return viewable;\n                };\n\n                this.open = function(url) {\n                    window.parent.postMessage({\n                        type: 'open',\n                        url: url\n                    }, '*');\n                };\n\n                this.playVideo = function() {\n                    trigger('error', ['not implemented', 'playVideo']);\n                };\n\n                this.removeEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        var index = listeners[event].indexOf(listener);\n                        if(index !== -1) {\n                            listeners[event].splice(index, 1);\n                        }\n                    }\n                };\n\n                this.resize = function() {\n                    trigger('error', ['not implemented', 'resize']);\n                };\n\n                this.setExpandProperties = function() {\n                    trigger('error', ['not implemented', 'setExpandProperties']);\n                };\n\n                this.setOrientationProperties = function(properties) {\n                    orientationProperties = properties;\n                    window.parent.postMessage({\n                        type: 'orientation',\n                        properties: properties\n                    }, '*');\n                };\n\n                this.setResizeProperties = function() {\n                    trigger('error', ['not implemented', 'setResizeProperties']);\n                };\n\n                this.storePicture = function() {\n                    trigger('error', ['not implemented', 'storePicture']);\n                };\n\n                this.useCustomClose = function() {\n                    trigger('error', ['not implemented', 'useCustomClose']);\n                };\n\n                this.sendAnalyticsEvent = function(event, eventData) {\n                    window.parent.postMessage({\n                        type: 'analyticsEvent',\n                        event: event,\n                        eventData: eventData\n                    }, '*');\n                };\n\n                this.setCustomMraidState = function(state) {\n                    window.parent.postMessage({\n                        type: 'customMraidState',\n                        state: state\n                    }, '*');\n                };\n\n                this.getConfiguration = function() {\n                    return playableConfiguration;\n                };\n\n                this.supports = function() {\n                    return false;\n                };\n            };\n            window.mraid = new MRAID();\n        })();\x3c/script></head><body></body></html>", 
    c = this._campaign.getPlayableConfiguration();
    if (c) {
      var d = "group" + this._abGroup.toNumber();
      this._configuration = c[d] ? c[d] : c.default ? c.default : {};
      a = a.replace("var playableConfiguration = {};", "var playableConfiguration = " + JSON.stringify(this._configuration) + ";");
    }
    return a;
  };
  sc.prototype.onIframeLoaded = function() {
    this._isLoaded = !0;
    this._loadingScreenTimeout || (clearTimeout(this._prepareTimeout), this._prepareTimeout = void 0, this.showMRAIDAd());
    var a = (Date.now() - p.getFrameSetStartTimestamp(this._placement.getId())) / 1000;
    this._core.Sdk.logDebug("Unity Ads placement " + this._placement.getId() + " iframe load duration " + a + " s");
    this.isKPIDataValid({frameLoadDuration:a}, "playable_mraid_playable_loading_time") && this._handlers.forEach(function(c) {
      return c.onPlayableAnalyticsEvent(a, 0, 0, "playable_loading_time", {});
    });
  };
  sc.prototype.showLoadingScreen = function() {
    var a = this;
    this._loadingScreen.style.display = "block";
    this._loadingScreenTimeout = setTimeout(function() {
      a._isLoaded ? a.showMRAIDAd() : a._prepareTimeout = setTimeout(function() {
        a._canClose = !0;
        a._closeElement.style.opacity = "1";
        a._closeElement.style.display = "block";
        a.updateProgressCircle(a._closeElement, 1);
        var c = a._campaign.getResourceUrl();
        ua.trigger("playable_prepare_timeout", {url:c ? c.getOriginalUrl() : ""}, a._campaign.getSession());
        a._prepareTimeout = void 0;
      }, 4500);
      a._loadingScreenTimeout = void 0;
    }, 2500);
  };
  sc.prototype.showMRAIDAd = function() {
    var a = this;
    this.prepareProgressCircle();
    ["webkitTransitionEnd", "transitionend"].forEach(function(c) {
      "none" !== a._loadingScreen.style.display && a._loadingScreen.addEventListener(c, function() {
        a._closeElement.style.display = "block";
        a._playableStartTimestamp = Date.now();
        a.sendMraidAnalyticsEvent("playable_start");
        a._mraidBridge.sendViewableEvent(!0);
        a._loadingScreen.style.display = "none";
      }, !1);
    });
    this._loadingScreen.classList.add("hidden");
  };
  sc.prototype.onCloseEvent = function(a) {
    a.preventDefault();
    a.stopPropagation();
    this._canSkip && !this._canClose ? (this._handlers.forEach(function(a) {
      return a.onMraidSkip();
    }), this.sendMraidAnalyticsEvent("playable_skip")) : this._canClose && (this._handlers.forEach(function(a) {
      return a.onMraidClose();
    }), this.sendMraidAnalyticsEvent("playable_close"));
  };
  sc.prototype.sendMraidAnalyticsEvent = function(a, c) {
    var d = (Date.now() - this._showTimestamp - this._backgroundTime) / 1000, e = this._backgroundTime / 1000, f = this._playableStartTimestamp ? (Date.now() - this._playableStartTimestamp - this._backgroundTime) / 1000 : 0;
    this.isKPIDataValid({timeFromShow:d, backgroundTime:e, timeFromPlayableStart:f}, "playable_mraid_" + a) && this._handlers.forEach(function(g) {
      return g.onPlayableAnalyticsEvent(d, f, e, a, c);
    });
  };
  h.inherits(kb, K);
  kb.prototype.show = function() {
    var a = this;
    this.setShowing(!0);
    this.setShowingMRAID(!0);
    this._mraid.show();
    this._ads.Listener.sendStartEvent(this._placement.getId());
    this._operativeEventManager.sendStart(this.getOperativeEventParams()).then(function() {
      a.onStartProcessed.trigger();
    });
    this.sendTrackingEvent("impression");
    this._container.addEventHandler(this);
    return this._container.open(this, ["webview"], this._orientationProperties.allowOrientationChange, this._orientationProperties.forceOrientation, !0, !1, !0, !1, this._options).then(function() {
      a.onStart.trigger();
    });
  };
  kb.prototype.hide = function() {
    var a = this;
    if (!this.isShowing()) {
      return Promise.resolve();
    }
    this.setShowing(!1);
    this.setShowingMRAID(!1);
    this._mraid.hide();
    this._endScreen && (this._endScreen.hide(), this._endScreen.container().parentElement.removeChild(this._endScreen.container()));
    this._privacy && (this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()));
    var c = this.getOperativeEventParams(), d = this.getFinishState();
    d === M.COMPLETED ? (this._campaign.getSession().getEventSent(ha.THIRD_QUARTILE) || this._operativeEventManager.sendThirdQuartile(c), this._campaign.getSession().getEventSent(ha.VIEW) || this._operativeEventManager.sendView(c), this.sendTrackingEvent("complete")) : d === M.SKIPPED && this._operativeEventManager.sendSkip(c);
    this.onFinish.trigger();
    this._mraid.container().parentElement.removeChild(this._mraid.container());
    this.unsetReferences();
    this._ads.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
    this._container.removeEventHandler(this);
    return this._container.close().then(function() {
      a.onClose.trigger();
    });
  };
  kb.prototype.setOrientationProperties = function(a) {
    this._orientationProperties = a;
  };
  kb.prototype.description = function() {
    return "mraid";
  };
  kb.prototype.sendClick = function() {
    this.sendTrackingEvent("click");
  };
  kb.prototype.getEndScreen = function() {
    return this._endScreen;
  };
  kb.prototype.getMRAIDView = function() {
    return this._mraid;
  };
  kb.prototype.setShowingMRAID = function(a) {
    this._showingMRAID = a;
  };
  kb.prototype.isShowingMRAID = function() {
    return this._showingMRAID;
  };
  kb.prototype.onContainerShow = function() {
    var a = this;
    this._mraid.setViewableState(!0);
    K.getAutoClose() && setTimeout(function() {
      a.setFinishState(M.COMPLETED);
      a.hide();
    }, K.getAutoCloseDelay());
  };
  kb.prototype.onContainerDestroy = function() {
    this.isShowing() && (this.setFinishState(M.SKIPPED), this.hide());
  };
  kb.prototype.onContainerBackground = function() {
    this.isShowing() && (this._mraid.setViewableState(!1), fa.isSimejiJapaneseKeyboardApp(this._clientInfo.getGameId()) && (this.setFinishState(M.SKIPPED), this.hide()));
  };
  kb.prototype.onContainerForeground = function() {
    this.isShowing() && this._mraid.setViewableState(!0);
  };
  kb.prototype.onContainerSystemMessage = function() {
  };
  kb.prototype.unsetReferences = function() {
    delete this._mraid;
    delete this._endScreen;
    delete this._privacy;
  };
  kb.prototype.sendTrackingEvent = function(a) {
    var c = this._campaign.getSession().getId();
    if (this._additionalTrackingEvents && this._additionalTrackingEvents[a]) {
      var d = this._additionalTrackingEvents[a];
      if (d) {
        d = h.makeIterator(d);
        for (var e = d.next(); !e.done; e = d.next()) {
          this._thirdPartyEventManager.sendWithGet("mraid " + a, c, e.value, this._campaign.getUseWebViewUserAgentForTracking());
        }
      }
    }
  };
  kb.prototype.getOperativeEventParams = function() {
    return {placement:this._placement, asset:this._campaign.getResourceUrl()};
  };
  h.inherits(Ab, oc);
  Ab.prototype.onMraidClick = function(a) {
    var c = this;
    this._ads.Listener.sendClickEvent(this._placement.getId());
    if (this._campaign.getClickAttributionUrl()) {
      if (this.sendTrackingEvents(), this.handleClickAttribution(), !this._campaign.getClickAttributionUrlFollowsRedirects()) {
        return this._request.followRedirectChain(a).then(function(a) {
          c.openUrl(a);
        });
      }
    } else {
      return this.setCallButtonEnabled(!1), this._request.followRedirectChain(a).then(function(a) {
        return c.openUrlOnCallButton(a);
      }).catch(function() {
        var d = y.parse(a);
        d = new fb(Error("MRAID clickThroughURL error"), {contentType:"mraid", clickUrl:a, host:d.host, protocol:d.protocol, creativeId:c._campaign.getCreativeId()});
        F.trigger("click_request_head_rejected", d);
        return c.openUrlOnCallButton(a);
      });
    }
    return Promise.resolve();
  };
  Ab.prototype.onMraidReward = function() {
    this._operativeEventManager.sendThirdQuartile(this.getOperativeEventParams());
  };
  Ab.prototype.onMraidSkip = function() {
    this._adUnit.setFinishState(M.SKIPPED);
    this._adUnit.hide();
  };
  Ab.prototype.onMraidClose = function() {
    this._adUnit.setFinishState(M.COMPLETED);
    this._adUnit.hide();
  };
  Ab.prototype.onMraidOrientationProperties = function(a) {
    this._adUnit.isShowing() ? this._platform === m.IOS ? this._adUnit.getContainer().reorient(!0, a.forceOrientation) : this._adUnit.getContainer().reorient(a.allowOrientationChange, a.forceOrientation) : this._adUnit.setOrientationProperties(a);
  };
  Ab.prototype.onPlayableAnalyticsEvent = function() {
  };
  Ab.prototype.onMraidShowEndScreen = function() {
    var a = this._adUnit.getEndScreen();
    a && (this._adUnit.setShowingMRAID(!1), this._adUnit.getMRAIDView().hide(), a.show());
  };
  Ab.prototype.handleClickAttribution = function() {
    var a = this, c = this._campaign.getClickAttributionUrl(), d = this._campaign.getUseWebViewUserAgentForTracking();
    this._campaign.getClickAttributionUrlFollowsRedirects() && c ? this._thirdPartyEventManager.clickAttributionEvent(c, !0, d).then(function(c) {
      var d = x.getHeader(c.headers, "location");
      d ? a.openUrl(d) : F.trigger("mraid_click_attribution_misconfigured", {url:a._campaign.getClickAttributionUrl(), followsRedirects:a._campaign.getClickAttributionUrlFollowsRedirects(), response:c});
    }).catch(function(c) {
      c instanceof sd && (c = new fb(Error(c.message), {request:c.nativeRequest, auctionId:a._campaign.getSession().getId(), url:a._campaign.getClickAttributionUrl(), response:c.nativeResponse}));
      F.trigger("mraid_click_attribution_failed", c);
    }) : c && this._thirdPartyEventManager.clickAttributionEvent(c, !1, d);
  };
  Ab.prototype.sendTrackingEvents = function() {
    var a = this.getOperativeEventParams();
    this._campaign.getSession().getEventSent(ha.THIRD_QUARTILE) || this._operativeEventManager.sendThirdQuartile(a);
    this._campaign.getSession().getEventSent(ha.VIEW) || this._operativeEventManager.sendView(a);
    this._campaign.getSession().getEventSent(ha.CLICK) || this._operativeEventManager.sendClick(a);
    this._adUnit.sendClick();
  };
  Ab.prototype.openUrlOnCallButton = function(a) {
    var c = this;
    return this.openUrl(a).then(function() {
      c.setCallButtonEnabled(!0);
      c.sendTrackingEvents();
    }).catch(function() {
      c.setCallButtonEnabled(!0);
      c.sendTrackingEvents();
    });
  };
  Ab.prototype.openUrl = function(a) {
    return this._platform === m.IOS ? this._core.iOS.UrlScheme.open(a) : this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:a});
  };
  Ab.prototype.getOperativeEventParams = function() {
    return {placement:this._placement, asset:this._campaign.getResourceUrl()};
  };
  Ab.prototype.setCallButtonEnabled = function(a) {
    this._mraidView.setCallButtonEnabled(a);
  };
  h.inherits(Wf, Ab);
  Wf.prototype.onPlayableAnalyticsEvent = function(a, c, d, e, f) {
    var g = {};
    g.type = e;
    g.eventData = f;
    g.timeFromShow = a;
    g.timeFromPlayableStart = c;
    g.backgroundTime = d;
    if (a = this._campaign.getResourceUrl()) {
      g.url = a.getOriginalUrl();
    }
    g.auctionId = this._campaign.getSession().getId();
    g.abGroup = this._coreConfig.getAbGroup().toNumber();
    I.sendEvent("ads.sdk2.events.playable.json", ub.ANONYMOUS, g);
  };
  h.inherits(Jc, N);
  Jc.prototype.render = function() {
    N.prototype.render.call(this);
    this.loadIframe();
  };
  Jc.prototype.show = function() {
    var a = this;
    N.prototype.show.call(this);
    this._showTimestamp = Date.now();
    this.sendMraidAnalyticsEvent("playable_show");
    this.prepareProgressCircle();
    if (this._domContentLoaded) {
      this.setViewableState(!0);
    } else {
      var c = this.onLoaded.subscribe(function() {
        a.setViewableState(!0);
        a.onLoaded.unsubscribe(c);
      });
    }
  };
  Jc.prototype.hide = function() {
    N.prototype.hide.call(this);
    this._mraidBridge.disconnect();
  };
  Jc.prototype.setViewableState = function(a) {
    this._domContentLoaded && this._mraidBridge.sendViewableEvent(a);
    this.setAnalyticsBackgroundTime(a);
  };
  Jc.prototype.sendMraidAnalyticsEvent = function(a, c) {
    var d = (Date.now() - this._showTimestamp - this._backgroundTime) / 1000, e = this._backgroundTime / 1000, f = this._playableStartTimestamp ? (Date.now() - this._playableStartTimestamp - this._backgroundTime) / 1000 : 0;
    this.isKPIDataValid({timeFromShow:d, backgroundTime:e, timeFromPlayableStart:f}, "mraid_" + a) && this._handlers.forEach(function(g) {
      return g.onPlayableAnalyticsEvent(d, f, e, a, c);
    });
  };
  Jc.prototype.onCloseEvent = function(a) {
    a.preventDefault();
    a.stopPropagation();
    this._canSkip && !this._canClose ? (this._handlers.forEach(function(a) {
      return a.onMraidSkip();
    }), this.sendMraidAnalyticsEvent("playable_skip")) : this._canClose && (this._handlers.forEach(function(a) {
      return a.onMraidClose();
    }), this.sendMraidAnalyticsEvent("playable_close"));
  };
  Jc.prototype.loadIframe = function() {
    var a = this, c = this._iframe = this._container.querySelector("#mraid-iframe");
    this._mraidBridge.connect(c);
    this.createMRAID($g.isValid(this._abGroup) ? "\x3c!-- DO NOT PUT A DOCTYPE HERE! iOS will go crazy --\x3e<html lang=\"en\"><head><title>Unity Ads MRAID WebView</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\"><meta name=\"apple-mobile-web-app-capable\" content=\"yes\"><meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\"><meta name=\"format-detection\" content=\"telephone=no\"><script>(function() {\n            var MRAID = function() {\n                var state = 'loading';\n\n                var listeners = {\n                    ready: [],\n                    error: [],\n                    stateChange: [],\n                    viewableChange: [],\n                    sizeChange: []\n                };\n\n                var viewable = false;\n\n                var orientationProperties = {\n                    allowOrientationChange: true,\n                    forceOrientation: 'none'\n                };\n\n                var trigger = function(event, parameters) {\n                    if(!parameters) {\n                        parameters = [];\n                    }\n                    if(event in listeners) {\n                        for (var len = listeners[event].length, i = len - 1; i >= 0; i--) {\n                            var listener = listeners[event][i];\n                            try {\n                                listener.apply(window, parameters);\n                            } catch (e) {\n                                console.log('Got error ', e);\n                                window.parent.postMessage({\n                                    type: 'diagnosticError',\n                                    error: {\n                                        message: e.message\n                                    }\n                                }, '*');\n                            }\n                        }\n                    }\n                };\n\n                var width = window.innerWidth;\n                var height = window.innerHeight;\n\n                var playableConfiguration = {};\n\n                var setState = function(newState) {\n                    state = newState;\n                    trigger('stateChange', [newState]);\n                };\n\n                window.addEventListener('message', function(event) {\n                    switch(event.data.type) {\n                        case 'viewable':\n                            viewable = event.data.value;\n                            trigger('viewableChange', [viewable]);\n                            break;\n\n                        case 'resize':\n                            window.innerWidth = width = event.data.width;\n                            window.innerHeight = height = event.data.height;\n                            trigger('sizeChange', [width, height]);\n                            break;\n\n                        default:\n                            break;\n                    }\n                }, false);\n\n                window.addEventListener('resize', function(e) {\n                    width = window.innerWidth;\n                    height = window.innerHeight;\n                    trigger('sizeChange', [width, height]);\n                });\n\n                window.addEventListener('DOMContentLoaded', function() {\n                    window.parent.postMessage({\n                        type: 'loaded'\n                    }, '*');\n                    setState('default');\n                    trigger('ready');\n                }, false);\n\n                this.addEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        listeners[event].push(listener);\n                    }\n                };\n\n                this.createCalendarEvent = function() {\n                    trigger('error', ['not implemented', 'createCalendarEvent']);\n                };\n\n                this.close = function() {\n                    setState('hidden');\n                    window.parent.postMessage({\n                        type: 'close'\n                    }, '*');\n                };\n\n                this.expand = function() {\n                    trigger('error', ['not implemented', 'expand']);\n                };\n\n                this.getCurrentPosition = this.getDefaultPosition = function() {\n                    return {\n                        x: 0,\n                        y: 0,\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getExpandProperties = function() {\n                    trigger('error', ['not implemented', 'getExpandProperties']);\n                };\n\n                this.getMaxSize = this.getScreenSize = function() {\n                    return {\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getOrientationProperties = function() {\n                    return orientationProperties;\n                };\n\n                this.getPlacementType = function() {\n                    return 'interstitial';\n                };\n\n                this.getResizeProperties = function() {\n                    trigger('error', ['not implemented', 'getResizeProperties']);\n                };\n\n                this.getState = function() {\n                    return state;\n                };\n\n                this.getVersion = function() {\n                    return '2.0';\n                };\n\n                this.isViewable = function() {\n                    return viewable;\n                };\n\n                this.open = function(url) {\n                    window.parent.postMessage({\n                        type: 'open',\n                        url: url\n                    }, '*');\n                };\n\n                this.playVideo = function() {\n                    trigger('error', ['not implemented', 'playVideo']);\n                };\n\n                this.removeEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        var index = listeners[event].indexOf(listener);\n                        if(index !== -1) {\n                            listeners[event].splice(index, 1);\n                        }\n                    }\n                };\n\n                this.resize = function() {\n                    trigger('error', ['not implemented', 'resize']);\n                };\n\n                this.setExpandProperties = function() {\n                    trigger('error', ['not implemented', 'setExpandProperties']);\n                };\n\n                this.setOrientationProperties = function(properties) {\n                    orientationProperties = properties;\n                    window.parent.postMessage({\n                        type: 'orientation',\n                        properties: properties\n                    }, '*');\n                };\n\n                this.setResizeProperties = function() {\n                    trigger('error', ['not implemented', 'setResizeProperties']);\n                };\n\n                this.storePicture = function() {\n                    trigger('error', ['not implemented', 'storePicture']);\n                };\n\n                this.useCustomClose = function() {\n                    trigger('error', ['not implemented', 'useCustomClose']);\n                };\n\n                this.sendAnalyticsEvent = function(event, eventData) {\n                    window.parent.postMessage({\n                        type: 'analyticsEvent',\n                        event: event,\n                        eventData: eventData\n                    }, '*');\n                };\n\n                this.setCustomMraidState = function(state) {\n                    window.parent.postMessage({\n                        type: 'customMraidState',\n                        state: state\n                    }, '*');\n                };\n\n                this.getConfiguration = function() {\n                    return playableConfiguration;\n                }\n            };\n\n            var frameCount = 0;\n            var playableStartTime = undefined;\n            var playableTime = 0;\n\n            var lastFrameTime = 0;\n            var originalRequestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n\n            if (typeof originalRequestAnimationFrame === 'function') {\n\n                var sendStats = function() {\n                    if (playableStartTime !== undefined) {\n                        window.parent.postMessage({\n                            type: 'sendStats',\n                            frameCount: frameCount,\n                            playTime: playableTime / 1000,\n                            totalTime: (Date.now() - playableStartTime) / 1000,\n                        }, '*');\n                    }\n                };\n\n                window.requestAnimationFrame = window.webkitRequestAnimationFrame = function (callback) {\n                    if (playableStartTime === undefined) {\n                        playableStartTime = Date.now();\n                    }\n\n                    return originalRequestAnimationFrame((time) => {\n                        if (time - lastFrameTime > 16) {\n                            frameCount++;\n\n                            if (lastFrameTime !== 0) {\n                                playableTime += (time - lastFrameTime);\n                            }\n                        }\n                        lastFrameTime = time;\n                        callback(time);\n                    });\n                };\n\n                setInterval(sendStats, 500);\n            }\n\n            window.mraid = new MRAID();\n        })();\x3c/script></head><body></body></html>" : 
    "\x3c!-- DO NOT PUT A DOCTYPE HERE! iOS will go crazy --\x3e<html lang=\"en\"><head><title>Unity Ads MRAID WebView</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\"><meta name=\"apple-mobile-web-app-capable\" content=\"yes\"><meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\"><meta name=\"format-detection\" content=\"telephone=no\"><script>(function() {\n            var MRAID = function() {\n                var state = 'loading';\n\n                var listeners = {\n                    ready: [],\n                    error: [],\n                    stateChange: [],\n                    viewableChange: []\n                };\n\n                var viewable = false;\n\n                var orientationProperties = {\n                    allowOrientationChange: true,\n                    forceOrientation: 'none'\n                };\n\n                var trigger = function(event, parameters) {\n                    if(!parameters) {\n                        parameters = [];\n                    }\n                    if(event in listeners) {\n                        for (var len = listeners[event].length, i = len - 1; i >= 0; i--) {\n                            var listener = listeners[event][i];\n                            try {\n                                listener.apply(window, parameters);\n                            } catch (e) {\n                                console.log('Got error ', e);\n                                window.parent.postMessage({\n                                    type: 'diagnosticError',\n                                    error: {\n                                        message: e.message\n                                    }\n                                }, '*');\n                            }\n                        }\n                    }\n                };\n\n                var width = window.innerWidth;\n                var height = window.innerHeight;\n\n                var playableConfiguration = {};\n\n                var setState = function(newState) {\n                    state = newState;\n                    trigger('stateChange', [newState]);\n                };\n\n                window.addEventListener('message', function(event) {\n                    switch(event.data.type) {\n                        case 'viewable':\n                            viewable = event.data.value;\n                            trigger('viewableChange', [viewable]);\n                            break;\n\n                        case 'resize':\n                            window.innerWidth = width = event.data.width;\n                            window.innerHeight = height = event.data.height;\n                            trigger('sizeChange', [width, height]);\n                            break;\n\n                        default:\n                            break;\n                    }\n                }, false);\n\n                window.addEventListener('resize', function(e) {\n                    width = window.innerWidth;\n                    height = window.innerHeight;\n                    trigger('sizeChange', [width, height]);\n                });\n\n                window.addEventListener('DOMContentLoaded', function() {\n                    window.parent.postMessage({\n                        type: 'loaded'\n                    }, '*');\n                    setState('default');\n                    trigger('ready');\n                }, false);\n\n                this.addEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        listeners[event].push(listener);\n                    }\n                };\n\n                this.createCalendarEvent = function() {\n                    trigger('error', ['not implemented', 'createCalendarEvent']);\n                };\n\n                this.close = function() {\n                    setState('hidden');\n                    window.parent.postMessage({\n                        type: 'close'\n                    }, '*');\n                };\n\n                this.expand = function() {\n                    trigger('error', ['not implemented', 'expand']);\n                };\n\n                this.getCurrentPosition = this.getDefaultPosition = function() {\n                    return {\n                        x: 0,\n                        y: 0,\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getExpandProperties = function() {\n                    trigger('error', ['not implemented', 'getExpandProperties']);\n                };\n\n                this.getMaxSize = this.getScreenSize = function() {\n                    return {\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getOrientationProperties = function() {\n                    return orientationProperties;\n                };\n\n                this.getPlacementType = function() {\n                    return 'interstitial';\n                };\n\n                this.getResizeProperties = function() {\n                    trigger('error', ['not implemented', 'getResizeProperties']);\n                };\n\n                this.getState = function() {\n                    return state;\n                };\n\n                this.getVersion = function() {\n                    return '2.0';\n                };\n\n                this.isViewable = function() {\n                    return viewable;\n                };\n\n                this.open = function(url) {\n                    window.parent.postMessage({\n                        type: 'open',\n                        url: url\n                    }, '*');\n                };\n\n                this.playVideo = function() {\n                    trigger('error', ['not implemented', 'playVideo']);\n                };\n\n                this.removeEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        var index = listeners[event].indexOf(listener);\n                        if(index !== -1) {\n                            listeners[event].splice(index, 1);\n                        }\n                    }\n                };\n\n                this.resize = function() {\n                    trigger('error', ['not implemented', 'resize']);\n                };\n\n                this.setExpandProperties = function() {\n                    trigger('error', ['not implemented', 'setExpandProperties']);\n                };\n\n                this.setOrientationProperties = function(properties) {\n                    orientationProperties = properties;\n                    window.parent.postMessage({\n                        type: 'orientation',\n                        properties: properties\n                    }, '*');\n                };\n\n                this.setResizeProperties = function() {\n                    trigger('error', ['not implemented', 'setResizeProperties']);\n                };\n\n                this.storePicture = function() {\n                    trigger('error', ['not implemented', 'storePicture']);\n                };\n\n                this.useCustomClose = function() {\n                    trigger('error', ['not implemented', 'useCustomClose']);\n                };\n\n                this.sendAnalyticsEvent = function(event, eventData) {\n                    window.parent.postMessage({\n                        type: 'analyticsEvent',\n                        event: event,\n                        eventData: eventData\n                    }, '*');\n                };\n\n                this.setCustomMraidState = function(state) {\n                    window.parent.postMessage({\n                        type: 'customMraidState',\n                        state: state\n                    }, '*');\n                };\n\n                this.getConfiguration = function() {\n                    return playableConfiguration;\n                };\n\n                this.supports = function() {\n                    return false;\n                };\n            };\n            window.mraid = new MRAID();\n        })();\x3c/script></head><body></body></html>").then(function(d) {
      a._core.Sdk.logDebug("setting iframe srcdoc (" + d.length + ")");
      p.setFrameSetStartTimestamp(a._placement.getId());
      a._core.Sdk.logDebug("Unity Ads placement " + a._placement.getId() + " set iframe.src started " + p.getFrameSetStartTimestamp(a._placement.getId()));
      c.srcdoc = d;
      fa.isSonicPlayable(a._creativeId) && (c.sandbox = "allow-scripts allow-same-origin");
    }).catch(function(c) {
      a._core.Sdk.logError("failed to create mraid: " + c.message);
      ua.trigger("create_mraid_error", {message:c.message}, a._campaign.getSession());
    });
  };
  Jc.prototype.onLoadedEvent = function() {
    this._domContentLoaded = !0;
    this.onLoaded.trigger();
    var a = (Date.now() - p.getFrameSetStartTimestamp(this._placement.getId())) / 1000;
    this._core.Sdk.logDebug("Unity Ads placement " + this._placement.getId() + " iframe load duration " + a + " s");
    this.isKPIDataValid({frameLoadDuration:a}, "mraid_playable_loading_time") && this._handlers.forEach(function(c) {
      return c.onPlayableAnalyticsEvent(a, 0, 0, "playable_loading_time", {});
    });
    this._playableStartTimestamp = Date.now();
    this.sendMraidAnalyticsEvent("playable_start");
  };
  Jc.prototype.onOpen = function(a) {
    this._callButtonEnabled && this._handlers.forEach(function(c) {
      return c.onMraidClick(a);
    });
  };
  var ad;
  (function(a) {
    a.ORIENTATION = "orientation";
    a.OPEN = "open";
    a.LOADED = "loaded";
    a.ANALYTICS_EVENT = "analyticsEvent";
    a.CLOSE = "close";
    a.STATE_CHANGE = "customMraidState";
    a.RESIZE_WEBVIEW = "resizeWebview";
    a.SEND_STATS = "sendStats";
    a.AR = "ar";
  })(ad || (ad = {}));
  gc.prototype.connect = function(a) {
    this._iframe = a;
    window.addEventListener("message", this._messageListener, !1);
  };
  gc.prototype.disconnect = function() {
    window.removeEventListener("message", this._messageListener);
  };
  gc.prototype.sendViewableEvent = function(a) {
    this.postMessage("viewable", a);
  };
  gc.prototype.onMessage = function(a) {
    a = a.data;
    this._core.Sdk.logDebug("mraid: event=" + a.type + ", data=" + a);
    if (a.type in this._mraidHandlers) {
      (0,this._mraidHandlers[a.type])(a);
    }
  };
  gc.prototype.handleSetOrientationProperties = function(a) {
    var c = pa.NONE;
    if (a.forceOrientation) {
      switch(a.forceOrientation) {
        case "landscape":
          c = pa.LANDSCAPE;
          break;
        case "portrait":
          c = pa.PORTRAIT;
          break;
        case "none":
          c = pa.NONE;
      }
    }
    this._handler.onBridgeSetOrientationProperties(a.allowOrientationChange, c);
  };
  gc.prototype.handleOpen = function(a) {
    this._handler.onBridgeOpen(a);
  };
  gc.prototype.handleLoaded = function() {
    this._handler.onBridgeLoad();
  };
  gc.prototype.handleAnalyticsEvent = function(a, c) {
    this._handler.onBridgeAnalyticsEvent(a, c);
  };
  gc.prototype.handleClose = function() {
    this._handler.onBridgeClose();
  };
  gc.prototype.handleCustomState = function(a) {
    this._handler.onBridgeStateChange(a);
  };
  gc.prototype.handleSendStats = function(a, c, d) {
    this._handler.onBridgeSendStats(a, c, d);
  };
  gc.prototype.handleAr = function(a) {
    this._handler.onBridgeAREvent(a);
  };
  gc.prototype.postMessage = function(a, c) {
    this._iframe.contentWindow.postMessage({type:a, value:c}, "*");
  };
  h.inherits(rc, ia);
  rc.setForcedExtendedMRAID = function(a) {
    rc._forcedExtendedMRAID = a;
  };
  rc.setForcedARMRAID = function(a) {
    rc._forcedARMRAID = a;
  };
  rc.prototype.createAdUnit = function(a) {
    var c = a.campaign.getResourceUrl(), d = this.showGDPRBanner(a), e = this.createPrivacy(a);
    a.gameSessionId = a.gameSessionId || 0;
    c = c && c.getOriginalUrl().match(/playables\/production\/unity/) || rc._forcedExtendedMRAID ? new sc(a.platform, a.core, a.deviceInfo, a.placement, a.campaign, a.deviceInfo.getLanguage(), e, d, a.coreConfig.getAbGroup(), a.gameSessionId) : new Jc(a.platform, a.core, a.deviceInfo, a.placement, a.campaign, e, d, a.coreConfig.getAbGroup(), a.gameSessionId);
    c.setMraidEventBridge(new gc(a.core, c));
    var f = Object.assign({}, a, {mraid:c, privacy:e});
    d = new kb(f);
    var g = a.campaign instanceof lf;
    a = new (fa.isSonicPlayable(a.campaign.getCreativeId()) || g ? Wf : Ab)(d, f);
    c.addEventHandler(a);
    Ma.setupReportListener(e, d);
    return d;
  };
  rc._forcedExtendedMRAID = !1;
  rc._forcedARMRAID = !1;
  h.inherits(ne, jb);
  ne.prototype.parse = function(a, c, d, e, f) {
    c = e.getJsonContent();
    if (!c) {
      throw Error("Corrupted mraid content");
    }
    if (!c.markup) {
      throw new fb(Error("MRAID Campaign missing markup"), {mraid:c});
    }
    d = decodeURIComponent(c.markup);
    var g = e.getCacheTTL();
    a = {id:this.getProgrammaticCampaignId(a), willExpireAt:g ? Date.now() + 1000 * g : void 0, contentType:ne.ContentType, adType:e.getAdType() || void 0, correlationId:e.getCorrelationId() || void 0, creativeId:e.getCreativeId() || void 0, seatId:e.getSeatId() || void 0, meta:c.meta, session:f, mediaId:e.getMediaId(), trackingUrls:e.getTrackingUrls() || {}};
    e = Object.assign({}, a, {resourceAsset:void 0, resource:d, dynamicMarkup:c.dynamicMarkup, clickAttributionUrl:c.clickAttributionUrl ? this.validateAndEncodeUrl(c.clickAttributionUrl, f) : void 0, clickAttributionUrlFollowsRedirects:c.clickAttributionUrlFollowsRedirects, clickUrl:c.clickUrl ? this.validateAndEncodeUrl(c.clickUrl, f) : void 0, videoEventUrls:{}, gameName:void 0, gameIcon:void 0, rating:void 0, ratingCount:void 0, landscapeImage:void 0, portraitImage:void 0, bypassAppSheet:void 0, 
    store:void 0, appStoreId:void 0, useWebViewUserAgentForTracking:e.getUseWebViewUserAgentForTracking() || !1, playableConfiguration:void 0});
    return Promise.resolve(new V(e));
  };
  ne.ContentType = "programmatic/mraid";
  h.inherits(oe, jb);
  oe.prototype.parse = function(a, c, d, e, f) {
    c = e.getJsonContent();
    if (!c) {
      throw Error("Corrupted mraid-url content");
    }
    if (!c.inlinedUrl) {
      throw new fb(Error("MRAID Campaign missing inlinedUrl"), {mraid:c});
    }
    d = e.getCacheTTL();
    a = {id:this.getProgrammaticCampaignId(a), willExpireAt:d ? Date.now() + 1000 * d : void 0, contentType:oe.ContentType, adType:e.getAdType() || void 0, correlationId:e.getCorrelationId() || void 0, creativeId:e.getCreativeId() || void 0, seatId:e.getSeatId() || void 0, meta:c.meta, session:f, mediaId:e.getMediaId(), trackingUrls:e.getTrackingUrls() || {}};
    e = Object.assign({}, a, {resourceAsset:c.inlinedUrl ? new fe(this.validateAndEncodeUrl(c.inlinedUrl, f), f) : void 0, resource:void 0, dynamicMarkup:c.dynamicMarkup, clickAttributionUrl:c.clickAttributionUrl ? this.validateAndEncodeUrl(c.clickAttributionUrl, f) : void 0, clickAttributionUrlFollowsRedirects:c.clickAttributionUrlFollowsRedirects, clickUrl:c.clickUrl ? this.validateAndEncodeUrl(c.clickUrl, f) : void 0, videoEventUrls:{}, useWebViewUserAgentForTracking:e.getUseWebViewUserAgentForTracking() || 
    !1, gameName:void 0, gameIcon:void 0, rating:void 0, ratingCount:void 0, landscapeImage:void 0, portraitImage:void 0, bypassAppSheet:void 0, store:void 0, appStoreId:void 0, playableConfiguration:void 0});
    return Promise.resolve(new V(e));
  };
  oe.ContentType = "programmatic/mraid-url";
  h.inherits(Hg, od);
  h.inherits(Bd, oc);
  Bd.prototype.onEndScreenDownload = function(a) {
    this._downloadHelper.onDownload(a);
  };
  Bd.prototype.onEndScreenClose = function() {
    this._adUnit.hide();
  };
  var Fc;
  (function(a) {
    a.START = "start";
    a.CLICK = "click";
    a.ENDCARD_CLICK = "videoEndCardClick";
    a.FIRST_QUARTILE = "firstQuartile";
    a.MIDPOINT = "midpoint";
    a.THIRD_QUARTILE = "thirdQuartile";
    a.ERROR = "error";
    a.STALLED = "stalled";
    a.LOADED_IMPRESSION = "loaded";
    a.SHOW = "show";
    a.COMPLETE = "complete";
    a.SKIP = "skip";
  })(Fc || (Fc = {}));
  h.inherits(uc, jb);
  uc.prototype.parse = function(a, c, d, e, f) {
    a = e.getJsonContent();
    switch("undefined" !== typeof a.store ? a.store : "") {
      case "apple":
        c = kc.APPLE;
        break;
      case "google":
        c = kc.GOOGLE;
        break;
      case "xiaomi":
        c = kc.XIAOMI;
        break;
      case "standalone_android":
        c = kc.STANDALONE_ANDROID;
        break;
      default:
        throw Error('Unknown store value "' + a.store + '"');
    }
    var g = {id:a.id, willExpireAt:void 0, contentType:uc.ContentType, adType:void 0, correlationId:void 0, creativeId:void 0, seatId:void 0, meta:a.meta, session:f, mediaId:e.getMediaId(), trackingUrls:e.getTrackingUrls() || {}};
    if (a && a.mraidUrl) {
      f = Object.assign({}, g, {useWebViewUserAgentForTracking:e.getUseWebViewUserAgentForTracking(), resourceAsset:a.mraidUrl ? new fe(this.validateAndEncodeUrl(a.mraidUrl, f), f, a.creativeId) : void 0, resource:void 0, dynamicMarkup:a.dynamicMarkup, clickAttributionUrl:a.clickAttributionUrl ? this.validateAndEncodeUrl(a.clickAttributionUrl, f) : void 0, clickAttributionUrlFollowsRedirects:a.clickAttributionUrlFollowsRedirects, clickUrl:a.clickUrl ? this.validateAndEncodeUrl(a.clickUrl, f) : void 0, 
      videoEventUrls:a.videoEventUrls ? this.validateAndEncodeVideoEventUrls(a.videoEventUrls, f) : void 0, gameName:a.gameName, gameIcon:a.gameIcon ? new Kb(this.validateAndEncodeUrl(a.gameIcon, f), f) : void 0, rating:a.rating, ratingCount:a.ratingCount, landscapeImage:a.endScreenLandscape ? new Kb(this.validateAndEncodeUrl(a.endScreenLandscape, f), f) : void 0, portraitImage:a.endScreenPortrait ? new Kb(this.validateAndEncodeUrl(a.endScreenPortrait, f), f) : void 0, bypassAppSheet:a.bypassAppSheet, 
      store:c, appStoreId:a.appStoreId, playableConfiguration:void 0});
      f.contentType = uc.ContentTypeMRAID;
      var k = new lf(f);
      if (fa.isPlayableConfigurationEnabled(a.mraidUrl)) {
        var l = a.mraidUrl.replace(/index\.html/, "configuration.json");
        d.get(l).then(function(a) {
          try {
            var c = JSON.parse(a.response);
            k.setPlayableConfiguration(c);
          } catch (Uh) {
            F.trigger("playable_configuration_invalid_json", {playableConfigurationUrl:l});
          }
        }).catch(function() {
        });
      }
      return Promise.resolve(k);
    }
    d = Object.assign({}, g, {appStoreId:a.appStoreId, gameId:a.gameId, gameName:a.gameName, gameIcon:new Kb(this.validateAndEncodeUrl(a.gameIcon, f), f), rating:a.rating, ratingCount:a.ratingCount, landscapeImage:a.endScreenLandscape ? new Kb(this.validateAndEncodeUrl(a.endScreenLandscape, f), f) : void 0, portraitImage:a.endScreenPortrait ? new Kb(this.validateAndEncodeUrl(a.endScreenPortrait, f), f) : void 0, squareImage:a.endScreen ? new Kb(this.validateAndEncodeUrl(a.endScreen, f), f) : void 0, 
    clickAttributionUrl:a.clickAttributionUrl ? this.validateAndEncodeUrl(a.clickAttributionUrl, f) : void 0, clickAttributionUrlFollowsRedirects:a.clickAttributionUrlFollowsRedirects, clickUrl:this.validateAndEncodeUrl(a.clickUrl, f), videoEventUrls:this.validateAndEncodeVideoEventUrls(a.videoEventUrls, f), bypassAppSheet:a.bypassAppSheet, store:c, adUnitStyle:this.parseAdUnitStyle(a.adUnitStyle)});
    a.trailerDownloadable && a.trailerDownloadableSize && a.trailerStreaming && (d.video = new ta(this.validateAndEncodeUrl(a.trailerDownloadable, f), f, a.trailerDownloadableSize, a.creativeId), d.streamingVideo = new ta(this.validateAndEncodeUrl(a.trailerStreaming, f), f, void 0, a.creativeId));
    a.trailerPortraitDownloadable && a.trailerPortraitDownloadableSize && a.trailerPortraitStreaming && (d.videoPortrait = new ta(this.validateAndEncodeUrl(a.trailerPortraitDownloadable, f), f, a.trailerPortraitDownloadableSize, a.portraitCreativeId), d.streamingPortraitVideo = new ta(this.validateAndEncodeUrl(a.trailerPortraitStreaming, f), f, void 0, a.portraitCreativeId));
    a.appDownloadUrl && (d.appDownloadUrl = a.appDownloadUrl);
    return Promise.resolve(new D(d));
  };
  uc.prototype.validateAndEncodeVideoEventUrls = function(a, c) {
    if (a && null !== a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (a[d] = this.validateAndEncodeUrl(a[d], c));
      }
    }
    return a;
  };
  uc.prototype.parseAdUnitStyle = function(a) {
    try {
      if (!a) {
        throw Error("No adUnitStyle was provided in comet campaign");
      }
      var c = new xc(a);
    } catch (d) {
      F.trigger("configuration_ad_unit_style_parse_error", {adUnitStyle:a, error:d});
    }
    return c;
  };
  uc.ContentType = "comet/campaign";
  uc.ContentTypeVideo = "comet/video";
  uc.ContentTypeMRAID = "comet/mraid-url";
  h.inherits(kf, Bd);
  kf.prototype.onKeyEvent = function(a) {
    4 === a && this._adUnit.isShowing() && !this._adUnit.canShowVideo() && this._adUnit.hide();
  };
  kf.prototype.onEndScreenDownload = function(a) {
    Bd.prototype.onEndScreenDownload.call(this, a);
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.CLICK);
  };
  h.inherits(ld, O);
  ld.prototype.hide = function() {
    var a = this.getEndScreen();
    a && (a.hide(), a.container().parentElement.removeChild(a.container()));
    this._privacy && (this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()));
    return O.prototype.hide.call(this);
  };
  ld.prototype.description = function() {
    return "performance";
  };
  ld.prototype.getEndScreen = function() {
    return this._endScreen;
  };
  ld.prototype.onVideoError = function() {
    var a = this.getEndScreen();
    a && a.show();
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._performanceCampaign, Fc.ERROR);
  };
  ld.prototype.unsetReferences = function() {
    O.prototype.unsetReferences.call(this);
    delete this._endScreen;
    delete this._privacy;
  };
  h.inherits(zb, oc);
  zb.prototype.onOverlaySkip = function() {
    this._ads.VideoPlayer.pause();
    this._adUnit.setVideoState(ca.SKIPPED);
    this._adUnit.setFinishState(M.SKIPPED);
    this._operativeEventManager.sendSkip(this.getOperativeSkipEventParams());
    this._adUnit.getContainer().reconfigure(0);
    var a = this._adUnit.getOverlay();
    a && a.hide();
    this._adUnit.onFinish.trigger();
  };
  zb.prototype.onOverlayMute = function(a) {
    this._ads.VideoPlayer.setVolume(new Ya(a ? 0 : 1));
  };
  zb.prototype.onOverlayCallButton = function() {
  };
  zb.prototype.onOverlayPauseForTesting = function() {
  };
  zb.prototype.onOverlayClose = function() {
    this._ads.VideoPlayer.pause();
    this._adUnit.setActive(!1);
    this._adUnit.setVideoState(ca.SKIPPED);
    this._adUnit.setFinishState(M.SKIPPED);
    this._operativeEventManager.sendSkip(this.getOperativeSkipEventParams());
    this._adUnit.onFinish.trigger();
    this._adUnit.hide();
  };
  zb.prototype.onKeyEvent = function(a) {
    if (4 === a && this.canSkipVideo()) {
      if (this._placement.skipEndCardOnClose()) {
        this.onOverlayClose();
      } else {
        this.onOverlaySkip(this._adUnit.getVideo().getPosition());
      }
    }
  };
  zb.prototype.canSkipVideo = function() {
    if (!this._placement.allowSkip() || !this._adUnit.isShowing() || !this._adUnit.canPlayVideo()) {
      return !1;
    }
    var a = this._adUnit.getVideo().getPosition(), c = 1000 * this._placement.allowSkipInSeconds();
    return a >= c;
  };
  zb.prototype.getVideoOrientation = function() {
    if (this._adUnit instanceof ld) {
      return this._adUnit.getVideoOrientation();
    }
  };
  zb.prototype.getOperativeSkipEventParams = function() {
    return {placement:this._placement, videoOrientation:this.getVideoOrientation(), adUnitStyle:this._adUnitStyle, asset:this._adUnit.getVideo(), videoProgress:this._adUnit.getVideo().getPosition()};
  };
  h.inherits(Xc, zb);
  Xc.prototype.onOverlayDownload = function(a) {
    this.setCallButtonEnabled(!1);
    this._downloadHelper.onDownload(a);
    this.onOverlaySkip(a.videoProgress);
    this.setCallButtonEnabled(!0);
  };
  Xc.prototype.setCallButtonEnabled = function(a) {
    this._overlay && this._overlay.setCallButtonEnabled(a);
  };
  h.inherits(jf, Xc);
  jf.prototype.onOverlayDownload = function(a) {
    Xc.prototype.onOverlayDownload.call(this, a);
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.CLICK);
  };
  jf.prototype.onOverlaySkip = function(a) {
    Xc.prototype.onOverlaySkip.call(this, a);
    (a = this._performanceAdUnit.getEndScreen()) && a.show();
    this._performanceAdUnit.onFinish.trigger();
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.SKIP);
  };
  h.inherits(P, $c);
  P.prototype.onProgress = function(a) {
    var c = this, d = this._adUnit.getOverlay();
    0 < a && this._adUnit.getVideoState() === ca.READY && (this._adUnit.setVideoState(ca.PLAYING), d && d.setSpinnerEnabled(!1));
    0 < a && !this._video.hasStarted() && (this._video.setStarted(!0), this.handleStartEvent(a));
    if (0 <= a) {
      var e = this._video.getPosition();
      if (a > e + 1000000) {
        this._core.Sdk.logError("Unity Ads video player ignoring too large progress from " + e + " to " + a);
        a = new fb(Error("Too large progress in video player"), {position:a, lastPosition:e, duration:this._video.getDuration()});
        ua.trigger("video_player_too_large_progress", a, this._campaign.getSession());
        return;
      }
      if (a === e) {
        var f = this._video.getPositionRepeats(), g = 5000 / this._adUnit.getProgressInterval();
        if (f > g) {
          this._core.Sdk.logError("Unity Ads video player stuck to " + a + "ms position");
          var k = {repeats:f, position:a, duration:this._video.getDuration(), url:this._video.getUrl(), originalUrl:this._video.getOriginalUrl(), cached:this._video.isCached(), cacheMode:this._adsConfig.getCacheMode(), lowMemory:this._adUnit.isLowMemory()}, l = this._video.getFileId();
          l ? this._core.Cache.getFileInfo(l).then(function(a) {
            k.fileInfo = a;
            return a.found ? ce.getVideoInfo(c._platform, c._core.Cache, l).then(function(a) {
              var c = h.makeIterator(a);
              a = c.next().value;
              var d = c.next().value;
              c = c.next().value;
              k.videoInfo = {width:a, height:d, duration:c};
              return k;
            }) : k;
          }).then(function(a) {
            c.handleVideoError("video_player_stuck", a);
          }).catch(function() {
            c.handleVideoError("video_player_stuck", k);
          }) : this.handleVideoError("video_player_stuck", k);
          return;
        }
        this._video.setPositionRepeats(f + 1);
      } else {
        this._video.setPositionRepeats(0);
      }
      d && (0 < e && a > e && 100 > a - e ? d.setSpinnerEnabled(!0) : d.setSpinnerEnabled(!1));
      e = this._video.getQuartile();
      this._video.setPosition(a);
      0 === e && 1 === this._video.getQuartile() ? this.handleFirstQuartileEvent(a) : 1 === e && 2 === this._video.getQuartile() ? this.handleMidPointEvent(a) : 2 === e && 3 === this._video.getQuartile() && this.handleThirdQuartileEvent(a);
    }
    d && d.setVideoProgress(a);
  };
  P.prototype.onCompleted = function(a) {
    this._adUnit.setVideoState(ca.COMPLETED);
    this._adUnit.setFinishState(M.COMPLETED);
    this.handleCompleteEvent(a);
    this.afterVideoCompleted();
  };
  P.prototype.onPrepared = function(a, c) {
    var d = this;
    if (this._adUnit.getVideoState() !== ca.ERRORED && this._adUnit.getVideoState() === ca.PREPARING) {
      this._adUnit.setVideoState(ca.READY);
      if (c > ce._maxVideoDuration) {
        var e = this._video.getOriginalUrl();
        a = new fb(Error("Too long video"), {duration:c, campaignId:this._campaign.getId(), url:a, originalUrl:e, isCached:Sa.isCached(this._campaign)});
        return this.handleVideoError("video_too_long", a);
      }
      var f = this._adUnit.getOverlay();
      this._video.setDuration(c);
      f && (f.setVideoDuration(c), 0 < this._video.getPosition() && f.setVideoProgress(this._video.getPosition()), f.setMuteEnabled(!0), f.setVideoDurationEnabled(!0));
      G.get("debugOverlayEnabled") && f && f.setDebugMessageVisible(!0);
      this._ads.VideoPlayer.setVolume(new Ya(f && f.isMuted() ? 0 : 1)).then(function() {
        0 < d._video.getPosition() ? d._ads.VideoPlayer.seekTo(d._video.getPosition()).then(function() {
          d._adUnit.getContainer().isPaused() || !f || f.isPrivacyShowing() || d._ads.VideoPlayer.play();
        }) : d._adUnit.getContainer().isPaused() || !f || f.isPrivacyShowing() || d._ads.VideoPlayer.play();
      });
    }
  };
  P.prototype.onPrepareTimeout = function(a) {
    this._core.Sdk.logError("Unity Ads video player prepare timeout " + a);
    this.handleVideoError("video_player_prepare_timeout", {url:a, position:this._video.getPosition()});
  };
  P.prototype.onPlay = function() {
    this._ads.VideoPlayer.setProgressEventInterval(this._adUnit.getProgressInterval());
  };
  P.prototype.onPause = function() {
  };
  P.prototype.onSeek = function() {
  };
  P.prototype.onStop = function() {
  };
  P.prototype.handleStartEvent = function() {
    var a = this;
    this._operativeEventManager.sendStart(this.getOperativeEventParams()).then(function() {
      a._adUnit.onStartProcessed.trigger();
    });
    this._ads.Listener.sendStartEvent(this._placement.getId());
  };
  P.prototype.handleFirstQuartileEvent = function() {
    this._operativeEventManager.sendFirstQuartile(this.getOperativeEventParams());
  };
  P.prototype.handleMidPointEvent = function() {
    this._operativeEventManager.sendMidpoint(this.getOperativeEventParams());
  };
  P.prototype.handleThirdQuartileEvent = function() {
    this._operativeEventManager.sendThirdQuartile(this.getOperativeEventParams());
  };
  P.prototype.handleCompleteEvent = function() {
    this._operativeEventManager.sendView(this.getOperativeEventParams());
  };
  P.prototype.getOperativeEventParams = function() {
    return {placement:this._placement, videoOrientation:this.getVideoOrientation(), adUnitStyle:this._adUnitStyle, asset:this._video};
  };
  h.inherits(Zc, P);
  Zc.prototype.onCompleted = function(a) {
    P.prototype.onCompleted.call(this, a);
    (a = this._performanceAdUnit.getEndScreen()) && a.show();
  };
  Zc.prototype.onPrepared = function(a, c, d, e) {
    P.prototype.onPrepared.call(this, a, c, d, e);
    if (a = this._adUnit.getOverlay()) {
      a.setCallButtonVisible(!0), G.get("debugOverlayEnabled") && a.setDebugMessage("Performance Ad");
    }
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.LOADED_IMPRESSION);
  };
  Zc.prototype.getVideoOrientation = function() {
    return this._performanceAdUnit.getVideoOrientation();
  };
  Zc.prototype.handleStartEvent = function(a) {
    P.prototype.handleStartEvent.call(this, a);
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.START);
  };
  Zc.prototype.handleFirstQuartileEvent = function(a) {
    P.prototype.handleFirstQuartileEvent.call(this, a);
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.FIRST_QUARTILE);
  };
  Zc.prototype.handleMidPointEvent = function(a) {
    P.prototype.handleMidPointEvent.call(this, a);
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.MIDPOINT);
  };
  Zc.prototype.handleThirdQuartileEvent = function(a) {
    P.prototype.handleThirdQuartileEvent.call(this, a);
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.THIRD_QUARTILE);
  };
  Zc.prototype.handleCompleteEvent = function(a) {
    P.prototype.handleCompleteEvent.call(this, a);
    this._thirdPartyEventManager.sendPerformanceTrackingEvent(this._campaign, Fc.COMPLETE);
  };
  h.inherits(rb, B);
  rb.prototype.render = function() {
    B.prototype.render.call(this);
    this._isSwipeToCloseEnabled && (this._container.querySelector(".btn-close-region").style.display = "none");
    var a = this.getEndscreenAlt();
    "string" === typeof a && (this._container.classList.add(a), document.documentElement.classList.add(a));
    this._showGDPRBanner && this._container.classList.add("show-gdpr-banner");
    a = this._adUnitStyle && this._adUnitStyle.getCTAButtonColor() ? this._adUnitStyle.getCTAButtonColor() : void 0;
    this._platform === m.ANDROID && (19 >= this._apiLevel && this._container.classList.add("old-androids"), a = this.overrideButtonColor(a));
    a && (this._container.querySelector(".download-container").style.background = a);
  };
  rb.prototype.overrideButtonColor = function(a) {
    return Jh.isValid(this._abGroup) ? "#A4C639" : a;
  };
  rb.prototype.show = function() {
    var a = this;
    B.prototype.show.call(this);
    this._container.querySelector(".name-container").innerHTML = this._gameName + " ";
    K.getAutoClose() && setTimeout(function() {
      a._handlers.forEach(function(a) {
        return a.onEndScreenClose();
      });
    }, K.getAutoCloseDelay());
    this._container.classList.add("on-show");
  };
  rb.prototype.hide = function() {
    B.prototype.hide.call(this);
    this._showGDPRBanner && !this._gdprPopupClicked && this._handlers.forEach(function(a) {
      return a.onGDPRPopupSkipped();
    });
    this._privacy && this._privacy.hide();
  };
  rb.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
  };
  rb.prototype.onPrivacy = function() {
  };
  rb.prototype.onGDPROptOut = function() {
  };
  rb.prototype.getEndscreenAlt = function() {
  };
  rb.prototype.getTemplate = function() {
    return '<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><span class="icon-close"></span></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="game-background-container"><div class="game-background game-background-landscape" style="background-image: url(\'<%= data.endScreenLandscape && data.endScreenLandscape.replace("file://", "") %>\')"></div><div class="game-background game-background-portrait" style="background-image: url(\'<%= data.endScreenPortrait && data.endScreenPortrait.replace("file://", "") %>\')"></div><div class="gdpr-pop-up"><div class="icon-gdpr"></div><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div></div><div class="end-screen-info-background">\x3c!--TODO: Is it in use?--\x3e\x3c!--<div class="end-screen-stripe"></div>--\x3e<div class="end-screen-info"><div class="row-container"><div class="game-icon" style="background-image: url(\'<%= data.gameIcon && data.gameIcon.replace("file://", "") %>\')"></div><div class="column-container"><div class="name-container"><%= data.gameName %></div><div class="store-container"> <% if(!!data.rating) { %> <span class="game-rating"><span class="game-rating-mask" style="width: <%= data.rating %>%"> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% } %> <% if (!!data.ratingCount && data.ratingCount !== "0") { %> <span class="game-rating-count">(<span class="game-rating-count-number"><%= data.ratingCount %></span>) </span> <% } %> </div></div></div><div class="download-container"><span class="download-text"><%= data.t("Download For Free") %></span></div></div><div class="privacy-button"><span class="icon-gdpr"></span></div><div class="unityads-logo"></div></div></div>';
  };
  rb.prototype.onCloseEvent = function(a) {
    a.preventDefault();
    this._handlers.forEach(function(a) {
      return a.onEndScreenClose();
    });
  };
  rb.prototype.onPrivacyEvent = function(a) {
    a.preventDefault();
    this._showGDPRBanner && (this._gdprPopupClicked = !0, this._container.classList.remove("show-gdpr-banner"));
    this._privacy.show();
  };
  h.inherits(Ke, rb);
  Ke.prototype.onDownloadEvent = function(a) {
    var c = this;
    a.preventDefault();
    this._handlers.forEach(function(a) {
      return a.onEndScreenDownload({clickAttributionUrl:c._campaign.getClickAttributionUrl(), clickAttributionUrlFollowsRedirects:c._campaign.getClickAttributionUrlFollowsRedirects(), bypassAppSheet:c._campaign.getBypassAppSheet(), appStoreId:c._campaign.getAppStoreId(), store:c._campaign.getStore(), appDownloadUrl:c._campaign.getAppDownloadUrl(), adUnitStyle:c._adUnitStyle});
    });
  };
  Ke.prototype.getEndscreenAlt = function() {
    if (this._campaign.getSquare()) {
      return "square-end-screen";
    }
  };
  Ke.prototype.getTemplate = function() {
    return "square-end-screen" === this.getEndscreenAlt() ? '<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><span class="icon-close"></span></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="game-background game-background-blurred" style="background-image: url(\'<%= data.endScreenSquare && data.endScreenSquare.replace("file://", "") %>\')"></div><div class="game-background-container"><div class="game-image" style="background-image: url(\'<%= data.endScreenSquare && data.endScreenSquare.replace("file://", "") %>\')"></div><div class="gdpr-pop-up"><div class="icon-gdpr"></div><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div></div><div class="end-screen-info-background">\x3c!--TODO: Is it in use?--\x3e\x3c!--<div class="end-screen-stripe"></div>--\x3e<div class="end-screen-info"><div class="row-container"><div class="game-icon" style="background-image: url(\'<%= data.gameIcon && data.gameIcon.replace("file://", "") %>\')"></div><div class="column-container"><div class="name-container"><%= data.gameName %></div><div class="store-container"> <% if(!!data.rating) { %> <span class="game-rating"><span class="game-rating-mask" style="width: <%= data.rating %>%"> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% } %> <% if (!!data.ratingCount && data.ratingCount !== "0") { %> <span class="game-rating-count">(<span class="game-rating-count-number"><%= data.ratingCount %></span>) </span> <% } %> </div></div></div><div class="download-container"><span class="download-text"><%= data.t("Download For Free") %></span></div></div><div class="privacy-button"><span class="icon-gdpr"></span></div><div class="unityads-logo"></div></div></div>' : 
    rb.prototype.getTemplate.call(this);
  };
  Jb.prototype.onDownload = function(a) {
    var c = this.getOperativeEventParams(a);
    this._ads.Listener.sendClickEvent(this._placement.getId());
    this._operativeEventManager.sendClick(c);
    if (this._campaign instanceof L) {
      c = this._campaign.getTrackingUrlsForEvent("click");
      c = h.makeIterator(c);
      for (var d = c.next(); !d.done; d = c.next()) {
        d = d.value, this._thirdPartyEventManager.sendWithGet("xpromo click", this._campaign.getSession().getId(), d);
      }
    }
    if (this._platform === m.IOS) {
      this.onDownloadIos(a);
    } else {
      if (this._platform === m.ANDROID) {
        this.onDownloadAndroid(a);
      }
    }
  };
  Jb.prototype.onDownloadAndroid = function(a) {
    a.store === kc.STANDALONE_ANDROID ? this.handleStandaloneAndroid(a) : a.clickAttributionUrl ? (this.handleClickAttribution(a), a.clickAttributionUrlFollowsRedirects || this.openAppStore(a)) : this.openAppStore(a);
  };
  Jb.prototype.handleAppDownloadUrl = function(a) {
    a = decodeURIComponent(a);
    this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:a});
  };
  Jb.prototype.handleStandaloneAndroid = function(a) {
    a.clickAttributionUrl && this.handleClickAttributionWithoutRedirect(a.clickAttributionUrl);
    a.appDownloadUrl ? this.handleAppDownloadUrl(a.appDownloadUrl) : F.trigger("standalone_android_misconfigured", {message:"missing appDownloadUrl"});
  };
  Jb.prototype.onDownloadIos = function(a) {
    var c = Re.isAppSheetBroken(this._deviceInfo.getOsVersion(), this._deviceInfo.getModel());
    a.clickAttributionUrl ? (this.handleClickAttribution(a), a.clickAttributionUrlFollowsRedirects || this.openAppStore(a, c)) : this.openAppStore(a, c);
  };
  Jb.prototype.handleClickAttribution = function(a) {
    a.clickAttributionUrlFollowsRedirects && a.clickAttributionUrl ? this.handleClickAttributionWithRedirects(a.clickAttributionUrl) : a.clickAttributionUrl && this.handleClickAttributionWithoutRedirect(a.clickAttributionUrl);
  };
  Jb.prototype.handleClickAttributionWithoutRedirect = function(a) {
    var c = this;
    this._thirdPartyEventManager.clickAttributionEvent(a, !1).catch(function(d) {
      c.triggerDiagnosticsError(d, a);
    });
  };
  Jb.prototype.handleClickAttributionWithRedirects = function(a) {
    var c = this, d = this._platform;
    this._thirdPartyEventManager.clickAttributionEvent(a, !0).then(function(e) {
      var f = x.getHeader(e.headers, "location");
      f ? d === m.ANDROID ? c._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:f}) : d === m.IOS && c._core.iOS.UrlScheme.open(f) : F.trigger("click_attribution_misconfigured", {url:a, followsRedirects:!0, response:e});
    }).catch(function(d) {
      c.triggerDiagnosticsError(d, a);
    });
  };
  Jb.prototype.triggerDiagnosticsError = function(a, c) {
    var d = this._campaign.getSession();
    a instanceof sd && (a = new fb(Error(a.message), {request:a.nativeRequest, auctionId:d.getId(), url:c, response:a.nativeResponse}));
    ua.trigger("click_attribution_failed", a, d);
  };
  Jb.prototype.openAppStore = function(a, c) {
    var d = this, e = this._platform, f;
    e === m.ANDROID && (f = this._clientInfo.getApplicationName());
    var g = this.getAppStoreUrl(a, f);
    g ? e === m.ANDROID ? this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:g}) : e === m.IOS && (c || a.bypassAppSheet ? this._core.iOS.UrlScheme.open(g) : this._ads.iOS.AppSheet.canOpen().then(function(c) {
      if (c) {
        if (a.appStoreId) {
          var e = {id:parseInt(a.appStoreId, 10)};
          d._ads.iOS.AppSheet.present(e).then(function() {
            d._ads.iOS.AppSheet.destroy(e);
          }).catch(function(a) {
            "APPSHEET_NOT_FOUND" === h.makeIterator(a).next().value && d._core.iOS.UrlScheme.open(g);
          });
        } else {
          F.trigger("no_appstore_id", {message:"trying to open ios appstore without appstore id"});
        }
      } else {
        d._core.iOS.UrlScheme.open(g);
      }
    })) : F.trigger("no_appstore_url", {message:"cannot generate appstore url"});
  };
  Jb.prototype.getAppStoreUrl = function(a, c) {
    if (a.appStoreId) {
      switch(a.store) {
        case kc.APPLE:
          return "https://itunes.apple.com/app/id" + a.appStoreId;
        case kc.GOOGLE:
          return "market://details?id=" + a.appStoreId;
        case kc.XIAOMI:
          return "migamecenter://details?pkgname=" + a.appStoreId + "&channel=unityAds&from=" + c + "&trace=" + this._coreConfig.getToken();
        default:
          return "";
      }
    }
  };
  Jb.prototype.getVideo = function() {
    if (this._adUnit instanceof ld) {
      return this._adUnit.getVideo();
    }
  };
  Jb.prototype.getVideoOrientation = function() {
    return this._adUnit.getVideoOrientation();
  };
  Jb.prototype.getOperativeEventParams = function(a) {
    return {placement:this._placement, videoOrientation:this.getVideoOrientation(), adUnitStyle:a.adUnitStyle, asset:this.getVideo()};
  };
  h.inherits(Yc, ia);
  Yc.prototype.canCreateAdUnit = function(a) {
    return a === Yc.ContentType || a === Yc.ContentTypeVideo || a === Yc.ContentTypeMRAID;
  };
  Yc.prototype.createAdUnit = function(a) {
    var c = this.createPrivacy(a), d = a.placement.skipEndCardOnClose();
    d = this.createOverlay(a, c, d);
    var e = a.campaign.getAdUnitStyle() || xc.getDefaultAdUnitStyle(), f = Object.assign({}, this.createEndScreenParameters(c, a.campaign.getGameName(), a), {adUnitStyle:e, campaignId:a.campaign.getId(), osVersion:a.deviceInfo.getOsVersion()});
    f = new Ke(f, a.campaign);
    var g = this.getVideo(a.campaign, a.forceOrientation), k = Object.assign({}, a, {video:g, overlay:d, endScreen:f, adUnitStyle:e, privacy:c});
    e = new ld(k);
    var l = new Jb({platform:a.platform, core:a.core, ads:a.ads, thirdPartyEventManager:a.thirdPartyEventManager, operativeEventManager:a.operativeEventManager, deviceInfo:a.deviceInfo, clientInfo:a.clientInfo, placement:a.placement, adUnit:e, campaign:a.campaign, coreConfig:a.coreConfig});
    var p = new jf(e, k, l);
    d.addEventHandler(p);
    var n = new kf(e, k, l);
    f.addEventHandler(n);
    d = this.getVideoEventHandlerParams(e, g, k.adUnitStyle, k);
    this.prepareVideoPlayer(Zc, d);
    if (a.platform === m.ANDROID) {
      var q = a.ads.Android.AdUnit.onKeyDown.subscribe(function(c) {
        n.onKeyEvent(c);
        if (fa.isCheetahGame(a.clientInfo.getGameId())) {
          p.onKeyEvent(c);
        }
      });
      e.onClose.subscribe(function() {
        q && a.ads.Android.AdUnit.onKeyDown.unsubscribe(q);
      });
    }
    Ma.setupReportListener(c, e);
    return e;
  };
  Yc.ContentType = "comet/campaign";
  Yc.ContentTypeVideo = "comet/video";
  Yc.ContentTypeMRAID = "comet/mraid-url";
  h.inherits(Gg, od);
  var fc;
  (function(a) {
    a[a.PLAYING = 0] = "PLAYING";
    a[a.PAUSED = 1] = "PAUSED";
    a[a.COMPLETED = 2] = "COMPLETED";
    a[a.STOPPED = 3] = "STOPPED";
  })(fc || (fc = {}));
  h.inherits(Ib, B);
  Ib.prototype.render = function() {
    B.prototype.render.call(this);
    (this._iframe = this._container.querySelector("#moat-iframe")).srcdoc = "<!doctype html><html lang=\"en\"><head><meta charset=\"utf-8\"><script>(function() {\n            var MoatMAPI = function() {\n                var state = 'loading';\n\n                var listeners = {\n                    stateChange: [],\n                    exposureChange: [],\n                    audioVolumeChange: []\n                };\n\n                var trigger = function(event, parameters) {\n                    if(!parameters) {\n                        parameters = [];\n                    }\n                    if(event in listeners) {\n                        listeners[event].forEach(function(listener) {\n                            listener.apply(window, parameters);\n                        });\n                    }\n                };\n\n                var width = window.innerWidth;\n                var height = window.innerHeight;\n\n                var setState = function(newState) {\n                    state = newState;\n                    trigger('stateChange', [newState]);\n                };\n\n                window.addEventListener('message', function(event) {\n                    switch(event.data.type) {\n                        case 'exposure':\n                            trigger('exposureChange', [\n                                event.data.payload ? 100 : 0,\n                                {\n                                    inFocus: event.data.payload ? 1 : 0,\n                                    isAttached: 1,\n                                    isHidden: 0,\n                                    opacity: 1,\n                                    isCovered: 0\n                                }\n                            ]);\n                            break;\n\n                        case 'volume':\n                            trigger('audioVolumeChange', [event.data.payload]);\n                            break;\n\n                        case 'resize':\n                            width = event.data.width;\n                            height = event.data.height;\n                            break;\n\n                        default:\n                            break;\n                    }\n                }, false);\n\n                window.addEventListener('DOMContentLoaded', function() {\n                    window.parent.postMessage({\n                        type: 'loaded'\n                    }, '*');\n                    setState('default');\n                    trigger('ready');\n                }, false);\n\n                this.addEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        listeners[event].push(listener);\n                    }\n                };\n\n                this.removeEventListener = function(event, listener) {\n                    if(event in listeners) {\n                        var index = listeners[event].indexOf(listener);\n                        if(index !== -1) {\n                            listeners[event].splice(index, 1);\n                        }\n                    }\n                };\n\n                this.getScreenSize = function() {\n                    return {\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getCurrentPosition = function() {\n                    return {\n                        x: 0,\n                        y: 0,\n                        width: width,\n                        height: height\n                    };\n                };\n\n                this.getState = function() {\n                    return state;\n                };\n\n                this.getVersion = function() {\n                    return '3.0';\n                };\n\n            };\n            window.MoatMAPI = new MoatMAPI();\n        })();\n\n        var moat = undefined;\n        document.addEventListener('DOMContentLoaded', function() {\n            window.addEventListener('message', function(event) {\n                if(event && event.data && event.data.type && event.data.data) {\n                    switch(event.data.type) {\n                        case 'init':\n                            var dummyElement = document.createElement('div');\n                            document.body.appendChild(dummyElement);\n                            window.MOATMAPI_ENV = event.data.data.moatData;\n                            moat = initMoatTracking(dummyElement, event.data.data.ids, event.data.data.duration, \"unityinappvideo254672075459\", event.data.data.url);\n                            break;\n\n                        case 'videoEvent':\n                            if(moat) {\n                                moat.dispatchEvent({\n                                    \"type\": event.data.data.type,\n                                    \"adVolume\": event.data.data.volume !== 0 ? 1 : 0,\n                                    \"deviceVolume\": event.data.data.volume\n                                });\n                            }\n                            break;\n\n                        default:\n                            break;\n                    }\n                }\n            }, false);\n\n        });\x3c/script><script>/*Copyright (c) 2011-2016 Moat Inc. All Rights Reserved.*/\n        function initMoatTracking(c, d, e, k, l) {\n            var g = document.createElement(\"script\"), a = [];\n            d = {\n                adData: {ids: d, duration: e, url: l}, dispatchEvent: function(b) {\n                    this.sendEvent ? (a && (a.push(b), b = a, a = !1), this.sendEvent(b)) : a.push(b)\n                }\n            };\n            e = \"_moatApi\" + Math.floor(1E8 * Math.random());\n            var f, h;\n            try {\n                f = c.ownerDocument, h = f.defaultView || f.parentWindow\n            } catch(b) {\n                f = document, h = window\n            }\n            h[e] = d;\n            g.type = \"text/javascript\";\n            g.onerror = loadError;\n            c && c.insertBefore(g, c.childNodes[0] || null);\n            g.src = \"https://z.moatads.com/\" + k + \"/moatvideo.js#\" + e;\n            return d\n        }\n\n        function loadError(e) {\n            window.parent.postMessage({\n                type: 'MOATVideoError',\n                error: e.target.src + ' failed to download'\n            }, '*');\n        }\x3c/script></head><body></body></html>";
  };
  Ib.prototype.play = function(a) {
    if (this.getState() === fc.STOPPED || this.getState() === fc.PAUSED) {
      this.setState(fc.PLAYING), this.triggerVideoEvent("AdPlaying", a), this.triggerViewabilityEvent("exposure", !0);
    }
  };
  Ib.prototype.pause = function(a) {
    this.getState() === fc.PLAYING && this._iframe.contentWindow && (this.setState(fc.PAUSED), this.triggerVideoEvent("AdPaused", a), this.triggerViewabilityEvent("exposure", !1));
  };
  Ib.prototype.stop = function(a) {
    if (this.getState() === fc.PLAYING || this.getState() === fc.PAUSED) {
      this.setState(fc.STOPPED), this.triggerVideoEvent("AdStopped", a);
    }
  };
  Ib.prototype.completed = function(a) {
    this.getState() !== fc.COMPLETED && (this.setState(fc.COMPLETED), this.triggerVideoEvent("AdVideoComplete", a));
  };
  Ib.prototype.volumeChange = function(a) {
    this.getState() !== fc.COMPLETED && (this.triggerVideoEvent("AdVolumeChange", a), this.triggerViewabilityEvent("volume", 100 * a));
  };
  Ib.prototype.init = function(a, c, d, e, f) {
    var g = this;
    this._didInitMoat ? this._platform === m.ANDROID && this.play(f) : (this._didInitMoat = !0, this._resizeDelayer = function(a) {
      g._resizeTimeout = setTimeout(function() {
        g._resizeHandler(a);
      }, 200);
    }, this._resizeHandler = function() {
      g._iframe.contentWindow && g._iframe.contentWindow.postMessage({type:"resize", width:window.innerWidth, height:window.innerHeight}, "*");
    }, this._platform === m.IOS ? window.addEventListener("resize", this._resizeDelayer, !1) : window.addEventListener("resize", this._resizeHandler, !1), this._core.Sdk.logDebug("Calling MOAT init with: " + JSON.stringify(a) + " duration: " + c + " url: " + d), this._iframe.contentWindow.postMessage({type:"init", data:{ids:a, duration:c, url:d, moatData:e}}, "*"), this._iframe.contentWindow.postMessage({type:"resize", width:window.innerWidth, height:window.innerHeight}, "*"));
  };
  Ib.prototype.addMessageListener = function() {
    window.addEventListener("message", this._messageListener);
  };
  Ib.prototype.removeMessageListener = function() {
    window.removeEventListener("message", this._messageListener);
  };
  Ib.prototype.triggerVideoEvent = function(a, c) {
    this._core.Sdk.logDebug('Calling MOAT video event "' + a + '" with volume: ' + c);
    this._iframe.contentWindow && this._iframe.contentWindow.postMessage({type:"videoEvent", data:{type:a, volume:c}}, "*");
  };
  Ib.prototype.triggerViewabilityEvent = function(a, c) {
    this._core.Sdk.logDebug('Calling MOAT viewability event "' + a + '" with payload: ' + c);
    this._iframe.contentWindow && this._iframe.contentWindow.postMessage({type:a, payload:c}, "*");
  };
  Ib.prototype.getState = function() {
    return this._state;
  };
  Ib.prototype.setState = function(a) {
    this._state = a;
  };
  Ib.prototype.onMessage = function(a) {
    if (a && a.data && a.data.type) {
      switch(a.data.type) {
        case "MOATVideoError":
          F.trigger("moat_video_error", a.data.error);
          break;
        case "loaded":
          break;
        default:
          this._core.Sdk.logWarning("MOAT Unknown message type " + a.data.type);
      }
    }
  };
  Hb.initMoat = function(a, c, d, e, f, g, k) {
    this._moat = new Ib(a, c);
    this._moat.render();
    this._moat.addMessageListener();
    document.body.appendChild(this._moat.container());
    if (d instanceof la || d instanceof Fa) {
      this._moatIds = {level1:d.getSeatId(), level2:d.getBuyerId(), level3:d.getAdvertiserBundleId() ? d.getAdvertiserBundleId() : d.getAdvertiserDomain(), level4:d.getCreativeId(), slicer1:e.getSdkVersionName(), slicer2:e.getApplicationName(), slicer3:f.getName()}, this._moatData = {SDK:"UnityAds", Version:"1.1", SDKVersion:e.getSdkVersionName(), LimitAdTracking:g.getLimitAdTracking(), COPPA:k.isCoppaCompliant(), bundle:e.getApplicationName()};
    }
  };
  Hb.getMoat = function() {
    return this._moat;
  };
  Hb.getMoatIds = function() {
    return this._moatIds;
  };
  Hb.getMoatData = function() {
    return this._moatData;
  };
  h.inherits(Ua, O);
  Ua.prototype.show = function() {
    var a = this;
    return O.prototype.show.call(this).then(function() {
      a.isShowing() && a.canShowVideo() && a._moat && a._moat.play(a.getVolume());
    });
  };
  Ua.prototype.hide = function() {
    var a = this;
    return (new Promise(function(a) {
      setTimeout(a, 500);
    })).then(function() {
      var c = a.getEndScreen();
      c && (c.hide(), c.remove());
      a._moat && (a._moat.removeMessageListener(), a._moat.container().parentElement && a._moat.container().parentElement.removeChild(a._moat.container()));
      return O.prototype.hide.call(a);
    });
  };
  Ua.prototype.description = function() {
    return "VAST";
  };
  Ua.prototype.getEvents = function() {
    return this._events;
  };
  Ua.prototype.setEvents = function(a) {
    this._events = a;
  };
  Ua.prototype.getVolume = function() {
    return this._muted ? 0 : this._volume;
  };
  Ua.prototype.setVolume = function(a) {
    this._volume = a;
  };
  Ua.prototype.setMuted = function(a) {
    this._muted = a;
  };
  Ua.prototype.getMuted = function() {
    return this._muted;
  };
  Ua.prototype.getEndScreen = function() {
    return this._endScreen;
  };
  Ua.prototype.sendTrackingEvent = function(a, c) {
    var d = this._vastCampaign.getVast().getTrackingEventUrls(a);
    if (d) {
      d = h.makeIterator(d);
      for (var e = d.next(); !e.done; e = d.next()) {
        this._thirdPartyEventManager.sendWithGet("vast " + a, c, e.value);
      }
    }
  };
  Ua.prototype.getVideoClickThroughURL = function() {
    var a = this._vastCampaign.getVast().getVideoClickThroughURL();
    return this.isValidURL(a) ? a : null;
  };
  Ua.prototype.getCompanionClickThroughUrl = function() {
    var a = this._vastCampaign.getVast().getCompanionClickThroughUrl();
    return this.isValidURL(a) ? a : null;
  };
  Ua.prototype.sendCompanionTrackingEvent = function(a) {
    var c = this._vastCampaign.getVast().getCompanionCreativeViewTrackingUrls();
    c = h.makeIterator(c);
    for (var d = c.next(); !d.done; d = c.next()) {
      this._thirdPartyEventManager.sendWithGet("companion", a, d.value);
    }
  };
  Ua.prototype.sendVideoClickTrackingEvent = function(a) {
    this.sendTrackingEvent("click", a);
    var c = this._vastCampaign.getVast().getVideoClickTrackingURLs();
    if (c) {
      c = h.makeIterator(c);
      for (var d = c.next(); !d.done; d = c.next()) {
        this._thirdPartyEventManager.sendWithGet("vast video click", a, d.value);
      }
    }
  };
  Ua.prototype.onContainerBackground = function() {
    O.prototype.onContainerBackground.call(this);
    this.isShowing() && this.canShowVideo() && this._moat && this._moat.pause(this.getVolume());
  };
  Ua.prototype.onContainerForeground = function() {
    O.prototype.onContainerForeground.call(this);
    this.isShowing() && this.canShowVideo() && this._moat && this._moat.play(this.getVolume());
  };
  Ua.prototype.onVideoError = function() {
    var a = this.getEndScreen();
    a ? a.show() : this.hide();
  };
  Ua.prototype.isValidURL = function(a) {
    var c = /^(https?):\/\/.+$/;
    return !!a && c.test(a);
  };
  Dd.prototype.onVastEndScreenClick = function() {
    var a = this;
    this.setCallButtonEnabled(!1);
    var c = this._vastAdUnit.getCompanionClickThroughUrl() || this._vastAdUnit.getVideoClickThroughURL();
    return c ? this._request.followRedirectChain(c).then(function(c) {
      return a.openUrlOnCallButton(c);
    }).catch(function() {
      var d = y.parse(c);
      d = new fb(Error("VAST endscreen clickThroughURL error"), {contentType:"vast_endscreen", clickUrl:c, host:d.host, protocol:d.protocol, creativeId:a._campaign.getCreativeId()});
      F.trigger("click_request_head_rejected", d);
      return a.openUrlOnCallButton(c);
    }) : Promise.reject(Error("There is no clickthrough URL for video or companion"));
  };
  Dd.prototype.onVastEndScreenClose = function() {
    this._vastAdUnit.hide();
  };
  Dd.prototype.onKeyEvent = function(a) {
    4 === a && this._vastAdUnit.isShowing() && !this._vastAdUnit.canShowVideo() && this._vastAdUnit.hide();
  };
  Dd.prototype.onVastEndScreenShow = function() {
    this._vastAdUnit.sendCompanionTrackingEvent(this._campaign.getSession().getId());
  };
  Dd.prototype.openUrlOnCallButton = function(a) {
    var c = this;
    return this.onOpenUrl(a).then(function() {
      c.setCallButtonEnabled(!0);
      c._vastAdUnit.sendTrackingEvent("videoEndCardClick", c._campaign.getSession().getId());
    }).catch(function() {
      c.setCallButtonEnabled(!0);
    });
  };
  Dd.prototype.onOpenUrl = function(a) {
    return this._platform === m.IOS ? this._core.iOS.UrlScheme.open(a) : this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:a});
  };
  Dd.prototype.setCallButtonEnabled = function(a) {
    this._vastEndScreen && this._vastEndScreen.setCallButtonEnabled(a);
  };
  h.inherits(Cd, zb);
  Cd.prototype.onOverlaySkip = function(a) {
    zb.prototype.onOverlaySkip.call(this, a);
    (a = this._vastAdUnit.getEndScreen()) ? (a.show(), this._vastAdUnit.onFinish.trigger()) : this._vastAdUnit.hide();
  };
  Cd.prototype.onOverlayMute = function(a) {
    zb.prototype.onOverlayMute.call(this, a);
    a ? (this._moat && this._moat.volumeChange(0), this._vastAdUnit.sendTrackingEvent("mute", this._vastCampaign.getSession().getId())) : (this._moat && this._moat.volumeChange(this._vastAdUnit.getVolume()), this._vastAdUnit.sendTrackingEvent("unmute", this._vastCampaign.getSession().getId()));
  };
  Cd.prototype.onOverlayCallButton = function() {
    var a = this;
    zb.prototype.onOverlayCallButton.call(this);
    this.setCallButtonEnabled(!1);
    this._ads.Listener.sendClickEvent(this._placement.getId());
    var c = this._vastAdUnit.getVideoClickThroughURL();
    return c ? this._request.followRedirectChain(c, !0).then(function(c) {
      return a.openUrlOnCallButton(c);
    }).catch(function() {
      var d = y.parse(c);
      d = new fb(Error("VAST overlay clickThroughURL error"), {contentType:"vast_overlay", clickUrl:c, host:d.host, protocol:d.protocol, creativeId:a._vastCampaign.getCreativeId()});
      F.trigger("click_request_head_rejected", d);
      return a.openUrlOnCallButton(c);
    }) : Promise.reject(Error("No clickThroughURL was defined"));
  };
  Cd.prototype.openUrlOnCallButton = function(a) {
    var c = this;
    return this.openUrl(a).then(function() {
      c.setCallButtonEnabled(!0);
      c._vastAdUnit.sendVideoClickTrackingEvent(c._vastCampaign.getSession().getId());
    }).catch(function() {
      c.setCallButtonEnabled(!0);
    });
  };
  Cd.prototype.openUrl = function(a) {
    return this._platform === m.IOS ? this._core.iOS.UrlScheme.open(a) : this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:a});
  };
  Cd.prototype.setCallButtonEnabled = function(a) {
    this._vastOverlay && this._vastOverlay.setCallButtonEnabled(a);
  };
  h.inherits(Gb, P);
  Gb.prototype.onProgress = function(a) {
    P.prototype.onProgress.call(this, a);
    var c = Hb.getMoat();
    if (c) {
      var d = this._vastAdUnit.getEvents(), e = d.shift();
      e && (a / this._vastCampaign.getVideo().getDuration() >= e[0] ? c.triggerVideoEvent(e[1], this._vastAdUnit.getVolume()) : d.unshift(e), this._vastAdUnit.setEvents(d));
    }
  };
  Gb.prototype.onCompleted = function(a) {
    P.prototype.onCompleted.call(this, a);
    a = this._vastCampaign.getSession();
    var c = Hb.getMoat();
    c && c.completed(this._vastAdUnit.getVolume());
    if (a) {
      if (a.getEventSent(ha.VAST_COMPLETE)) {
        return;
      }
      a.setEventSent(ha.VAST_COMPLETE);
    }
    (a = this._vastAdUnit.getEndScreen()) ? a.show() : this._vastAdUnit.hide();
  };
  Gb.prototype.onPrepared = function(a, c, d, e) {
    P.prototype.onPrepared.call(this, a, c, d, e);
    (d = this._adUnit.getOverlay()) && this._vastAdUnit.getVideoClickThroughURL() && (d.setCallButtonVisible(!0), d.setFadeEnabled(!1), G.get("debugOverlayEnabled") && d.setDebugMessage("Programmatic Ad"));
    (d = Hb.getMoat()) && d.init(Hb.getMoatIds(), c / 1000, a, Hb.getMoatData(), this._vastAdUnit.getVolume());
  };
  Gb.prototype.onPlay = function(a) {
    P.prototype.onPlay.call(this, a);
    a = this._vastCampaign.getSession();
    var c = Hb.getMoat();
    c && c.play(this._vastAdUnit.getVolume());
    if (a) {
      if (a.getEventSent(ha.IMPRESSION)) {
        return;
      }
      a.setEventSent(ha.IMPRESSION);
    }
    this.sendThirdPartyImpressionEvent();
    this.sendThirdPartyTrackingEvent("creativeView");
    this.sendThirdPartyTrackingEvent("start");
    this.sendThirdPartyTrackingEvent("impression");
  };
  Gb.prototype.onPause = function(a) {
    P.prototype.onPause.call(this, a);
    (a = Hb.getMoat()) && a.pause(this._vastAdUnit.getVolume());
  };
  Gb.prototype.onStop = function(a) {
    P.prototype.onStop.call(this, a);
    (a = Hb.getMoat()) && a.stop(this._vastAdUnit.getVolume());
  };
  Gb.prototype.onVolumeChange = function(a, c) {
    var d = Hb.getMoat();
    d && (this._vastAdUnit.setVolume(a / c), d.volumeChange(this._vastAdUnit.getVolume()));
  };
  Gb.prototype.handleFirstQuartileEvent = function(a) {
    P.prototype.handleFirstQuartileEvent.call(this, a);
    this.sendThirdPartyTrackingEvent("firstQuartile");
  };
  Gb.prototype.handleMidPointEvent = function(a) {
    P.prototype.handleMidPointEvent.call(this, a);
    this.sendThirdPartyTrackingEvent("midpoint");
  };
  Gb.prototype.handleThirdQuartileEvent = function(a) {
    P.prototype.handleThirdQuartileEvent.call(this, a);
    this.sendThirdPartyTrackingEvent("thirdQuartile");
  };
  Gb.prototype.handleCompleteEvent = function(a) {
    P.prototype.handleCompleteEvent.call(this, a);
    this.sendThirdPartyTrackingEvent("complete");
  };
  Gb.prototype.sendThirdPartyImpressionEvent = function() {
    var a = this._vastCampaign.getImpressionUrls().concat(this._vastCampaign.getTrackingUrlsForEvent("impression"));
    if (a) {
      a = h.makeIterator(a);
      for (var c = a.next(); !c.done; c = a.next()) {
        this.sendThirdPartyEvent("vast impression", c.value);
      }
    }
  };
  Gb.prototype.sendThirdPartyTrackingEvent = function(a) {
    var c = this._vastCampaign.getVast().getTrackingEventUrls(a).concat(this._vastCampaign.getTrackingUrlsForEvent(a));
    if (c) {
      c = h.makeIterator(c);
      for (var d = c.next(); !d.done; d = c.next()) {
        this.sendThirdPartyEvent("vast " + a, d.value);
      }
    }
  };
  Gb.prototype.sendThirdPartyEvent = function(a, c) {
    c = c.replace(/%ZONE%/, this._placement.getId());
    c = c.replace(/%SDK_VERSION%/, this._clientInfo.getSdkVersion().toString());
    this._thirdPartyEventManager.sendWithGet(a, this._campaign.getSession().getId(), c, this._vastCampaign.getUseWebViewUserAgentForTracking());
  };
  h.inherits(qc, B);
  qc.prototype.render = function() {
    B.prototype.render.call(this);
    if (fa.isTencentAdvertisement(this._seatId)) {
      var a = this._container.querySelector(".tencent-advertisement");
      a && (a.innerText = "\u5e7f\u544a");
    }
    this._showPrivacyDuringEndscreen || (this._container.querySelector(".privacy-button").style.display = "none");
    this._isSwipeToCloseEnabled && (this._container.querySelector(".btn-close-region").style.display = "none");
  };
  qc.prototype.show = function() {
    var a = this;
    B.prototype.show.call(this);
    this._handlers.forEach(function(a) {
      return a.onVastEndScreenShow();
    });
    K.getAutoClose() && setTimeout(function() {
      a._handlers.forEach(function(a) {
        return a.onVastEndScreenClose();
      });
    }, K.getAutoCloseDelay());
  };
  qc.prototype.hide = function() {
    B.prototype.hide.call(this);
    this._privacy && this._privacy.hide();
  };
  qc.prototype.remove = function() {
    this._privacy && (this._privacy.removeEventHandler(this), this._privacy.container().parentElement && this._privacy.container().parentElement.removeChild(this._privacy.container()));
    this.container().parentElement && this.container().parentElement.removeChild(this.container());
  };
  qc.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
  };
  qc.prototype.onPrivacy = function() {
  };
  qc.prototype.onGDPROptOut = function() {
  };
  qc.prototype.setCallButtonEnabled = function(a) {
    this._callButtonEnabled !== a && (this._callButtonEnabled = a);
  };
  qc.prototype.onCloseEvent = function(a) {
    a.preventDefault();
    this._handlers.forEach(function(a) {
      return a.onVastEndScreenClose();
    });
  };
  qc.prototype.onClickEvent = function(a) {
    this._callButtonEnabled && (a.preventDefault(), this._handlers.forEach(function(a) {
      return a.onVastEndScreenClick();
    }));
  };
  qc.prototype.onPrivacyEvent = function(a) {
    a.preventDefault();
    this._privacy.show();
  };
  h.inherits(Vf, ia);
  Vf.prototype.createAdUnit = function(a) {
    var c = this.createPrivacy(a), d = !a.campaign.hasEndscreen() || this.showGDPRBanner(a), e = this.createOverlay(a, c, d), f = Object.assign({}, a, {video:a.campaign.getVideo(), overlay:e});
    if (a.campaign.hasEndscreen()) {
      var g = {campaign:f.campaign, clientInfo:f.clientInfo, seatId:f.campaign.getSeatId(), showPrivacyDuringEndscreen:!d};
      g = new qc(a.platform, g, c);
      f.endScreen = g;
    }
    void 0 !== a.campaign.getAdvertiserDomain() && a.campaign.isMoatEnabled() && Hb.initMoat(a.platform, a.core, a.campaign, a.clientInfo, a.placement, a.deviceInfo, a.coreConfig);
    d = new Ua(f);
    var k = new Cd(d, f);
    e.addEventHandler(k);
    if (a.campaign.hasEndscreen() && g) {
      var l = new Dd(d, f);
      g.addEventHandler(l);
      if (a.platform === m.ANDROID) {
        var p = a.ads.Android.AdUnit.onKeyDown.subscribe(function(c) {
          l.onKeyEvent(c);
          if (fa.isCheetahGame(a.clientInfo.getGameId())) {
            k.onKeyEvent(c);
          }
        });
        d.onClose.subscribe(function() {
          a.ads.Android.AdUnit.onKeyDown.unsubscribe(p);
        });
      }
    }
    e = this.getVideoEventHandlerParams(d, a.campaign.getVideo(), void 0, f);
    var n = this.prepareVideoPlayer(Gb, e);
    if (a.platform === m.ANDROID) {
      a.core.DeviceInfo.Android.registerVolumeChangeListener(Ed.STREAM_MUSIC);
      var q = a.core.DeviceInfo.Android.onVolumeChanged.subscribe(function(a, c, d) {
        return n.onVolumeChange(c, d);
      });
    } else {
      if (a.platform === m.IOS) {
        a.core.DeviceInfo.Ios.registerVolumeChangeListener();
        var r = a.core.DeviceInfo.Ios.onVolumeChanged.subscribe(function(a, c) {
          return n.onVolumeChange(a, c);
        });
      }
    }
    d.onClose.subscribe(function() {
      q && (a.core.DeviceInfo.Android.unregisterVolumeChangeListener(Ed.STREAM_MUSIC), a.core.DeviceInfo.Android.onVolumeChanged.unsubscribe(q));
      r && (a.core.DeviceInfo.Ios.unregisterVolumeChangeListener(), a.core.DeviceInfo.Ios.onVolumeChanged.unsubscribe(r));
    });
    Ma.setupReportListener(c, d);
    return d;
  };
  var ie;
  (function(a) {
    a[a.WIFI_MIN = 5242880] = "WIFI_MIN";
    a[a.WIFI_MAX = 10485760] = "WIFI_MAX";
    a[a.CELL_MIN = 512000] = "CELL_MIN";
    a[a.CELL_MAX = 3145728] = "CELL_MAX";
    a[a.SDK_MAX = 20971520] = "SDK_MAX";
  })(ie || (ie = {}));
  Je.getOptimizedVideoUrl = function(a, c) {
    return c && "wifi" === c ? Je.getVideoUrlInRange(a, ie.WIFI_MIN, ie.WIFI_MAX) : Je.getVideoUrlInRange(a, ie.CELL_MIN, ie.CELL_MAX);
  };
  Je.getVideoUrlInRange = function(a, c, d) {
    var e = null, f = Number.MAX_SAFE_INTEGER, g = null, k = Number.MAX_SAFE_INTEGER;
    a = h.makeIterator(a);
    for (var l = a.next(); !l.done; l = a.next()) {
      l = l.value;
      var m = l.getFileSize();
      m >= c && m <= d ? m < f && (e = l.getFileURL(), f = m) : m <= ie.SDK_MAX && Math.abs(m - c) < k && (g = l.getFileURL(), k = Math.abs(m - c));
    }
    return e ? e : g;
  };
  h.inherits(nc, jb);
  nc.setVastParserMaxDepth = function(a) {
    nc.VAST_PARSER_MAX_DEPTH = a;
  };
  nc.prototype.parse = function(a, c, d, e, f, g, k, l) {
    var m = this;
    g = decodeURIComponent(e.getContent()).trim();
    void 0 !== nc.VAST_PARSER_MAX_DEPTH && this._vastParser.setMaxWrapperDepth(nc.VAST_PARSER_MAX_DEPTH);
    return this._vastParser.retrieveVast(g, c, d).then(function(c) {
      var d = m.getProgrammaticCampaignId(a);
      return m.parseVastToCampaign(c, a, d, f, e, l);
    });
  };
  nc.prototype.parseVastToCampaign = function(a, c, d, e, f, g) {
    d = f.getCacheTTL();
    d = {id:this.getProgrammaticCampaignId(c), willExpireAt:d ? Date.now() + 1000 * d : void 0, contentType:nc.ContentType, adType:f.getAdType() || void 0, correlationId:f.getCorrelationId() || void 0, creativeId:f.getCreativeId() || void 0, seatId:f.getSeatId() || void 0, meta:void 0, session:e, mediaId:f.getMediaId(), trackingUrls:f.getTrackingUrls() || {}};
    var k;
    a.getErrorURLTemplate() && (k = a.getErrorURLTemplate());
    var l = a.getCompanionPortraitUrl();
    if (l) {
      if (!y.isValid(l)) {
        throw new de(Hd.errorMap[R.MEDIA_FILE_UNSUPPORTED], Qc.ProgrammaticVast, k, R.MEDIA_FILE_UNSUPPORTED, l);
      }
      var p = new Kb(y.encode(l), e);
    }
    l = a.getCompanionLandscapeUrl();
    if (l) {
      if (!y.isValid(l)) {
        throw new de(Hd.errorMap[R.MEDIA_FILE_UNSUPPORTED], Qc.ProgrammaticVast, k, R.MEDIA_FILE_UNSUPPORTED, l);
      }
      var n = new Kb(y.encode(l), e);
    }
    g = Je.getOptimizedVideoUrl(a.getVideoMediaFiles(), g);
    if (!g) {
      throw new de(Hd.errorMap[R.MEDIA_FILE_URL_NOT_FOUND], Qc.ProgrammaticVast, k, R.MEDIA_FILE_URL_NOT_FOUND);
    }
    if (c === m.IOS && !g.match(/^https:\/\//)) {
      throw new de(Hd.errorMap[R.MEDIA_FILE_UNSUPPORTED_IOS], Qc.ProgrammaticVast, k, R.MEDIA_FILE_UNSUPPORTED_IOS, g);
    }
    if (!y.isValid(g)) {
      throw new de(Hd.errorMap[R.MEDIA_FILE_UNSUPPORTED], Qc.ProgrammaticVast, k, R.MEDIA_FILE_UNSUPPORTED, g);
    }
    g = y.encode(g);
    a = Object.assign({}, d, {vast:a, video:new ta(g, e), hasEndscreen:!!p || !!n, portrait:p, landscape:n, useWebViewUserAgentForTracking:f.getUseWebViewUserAgentForTracking(), buyerId:f.getBuyerId() || void 0, appCategory:f.getCategory() || void 0, appSubcategory:f.getSubCategory() || void 0, advertiserDomain:f.getAdvertiserDomain() || void 0, advertiserCampaignId:f.getAdvertiserCampaignId() || void 0, advertiserBundleId:f.getAdvertiserBundleId() || void 0, impressionUrls:this.validateAndEncodeUrls(a.getImpressionUrls(), 
    e), isMoatEnabled:f.isMoatEnabled() || void 0});
    a = new la(a);
    return Promise.resolve(a);
  };
  nc.ContentType = Qc.ProgrammaticVast;
  h.inherits(Fg, od);
  h.inherits(Ie, rb);
  Ie.prototype.onDownloadEvent = function(a) {
    var c = this;
    a.preventDefault();
    this._handlers.forEach(function(a) {
      return a.onEndScreenDownload({clickAttributionUrl:c._campaign.getClickAttributionUrl(), clickAttributionUrlFollowsRedirects:c._campaign.getClickAttributionUrlFollowsRedirects(), bypassAppSheet:c._campaign.getBypassAppSheet(), appStoreId:c._campaign.getAppStoreId(), store:c._campaign.getStore()});
    });
  };
  Ie.prototype.getEndscreenAlt = function() {
    if (this._campaign.getSquare()) {
      return "square-end-screen";
    }
  };
  Ie.prototype.getTemplate = function() {
    return "square-end-screen" === this.getEndscreenAlt() ? '<div class="btn-close-region<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><span class="icon-close"></span></div><div class="campaign-container<%= data.endscreenAlt ? \' \' + data.endscreenAlt : \'\' %>"><div class="game-background game-background-blurred" style="background-image: url(\'<%= data.endScreenSquare && data.endScreenSquare.replace("file://", "") %>\')"></div><div class="game-background-container"><div class="game-image" style="background-image: url(\'<%= data.endScreenSquare && data.endScreenSquare.replace("file://", "") %>\')"></div><div class="gdpr-pop-up"><div class="icon-gdpr"></div><div class="gdpr-text">Unity is personalizing your ads experience in this application. <span class="gdpr-link">Tap here</span> to learn more about Unity and your privacy choices.</div></div></div><div class="end-screen-info-background">\x3c!--TODO: Is it in use?--\x3e\x3c!--<div class="end-screen-stripe"></div>--\x3e<div class="end-screen-info"><div class="row-container"><div class="game-icon" style="background-image: url(\'<%= data.gameIcon && data.gameIcon.replace("file://", "") %>\')"></div><div class="column-container"><div class="name-container"><%= data.gameName %></div><div class="store-container"> <% if(!!data.rating) { %> <span class="game-rating"><span class="game-rating-mask" style="width: <%= data.rating %>%"> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% for (var i = 0; i < 5; i++) { %><span class="icon-star"></span><% } %> </span> <% } %> <% if (!!data.ratingCount && data.ratingCount !== "0") { %> <span class="game-rating-count">(<span class="game-rating-count-number"><%= data.ratingCount %></span>) </span> <% } %> </div></div></div><div class="download-container"><span class="download-text"><%= data.t("Download For Free") %></span></div></div><div class="privacy-button"><span class="icon-gdpr"></span></div><div class="unityads-logo"></div></div></div>' : 
    rb.prototype.getTemplate.call(this);
  };
  h.inherits(Uf, Xc);
  Uf.prototype.onOverlaySkip = function(a) {
    Xc.prototype.onOverlaySkip.call(this, a);
    (a = this._xPromoAdUnit.getEndScreen()) && a.show();
    this._xPromoAdUnit.onFinish.trigger();
  };
  h.inherits(Tf, Bd);
  Tf.prototype.onKeyEvent = function(a) {
    4 === a && this._adUnit.isShowing() && !this._adUnit.canShowVideo() && this._adUnit.hide();
  };
  h.inherits(Wc, P);
  Wc.prototype.onCompleted = function(a) {
    P.prototype.onCompleted.call(this, a);
    (a = this._xpromoAdUnit.getEndScreen()) && a.show();
  };
  Wc.prototype.onPrepared = function(a, c, d, e) {
    P.prototype.onPrepared.call(this, a, c, d, e);
    if (a = this._adUnit.getOverlay()) {
      a.setCallButtonVisible(!0), G.get("debugOverlayEnabled") && a.setDebugMessage("XPromo");
    }
  };
  Wc.prototype.handleStartEvent = function() {
    var a = this;
    this._xpromoOperativeEventManager.sendStart(this.getXPromoOperativeEventParams()).then(function() {
      a._adUnit.onStartProcessed.trigger();
    });
    var c = this._xpromoCampaign.getTrackingUrlsForEvent("start");
    c = h.makeIterator(c);
    for (var d = c.next(); !d.done; d = c.next()) {
      d = d.value, this._thirdPartyEventManager.sendWithGet("xpromo start", this._xpromoCampaign.getSession().getId(), d);
    }
    this._ads.Listener.sendStartEvent(this._placement.getId());
  };
  Wc.prototype.handleFirstQuartileEvent = function() {
  };
  Wc.prototype.handleMidPointEvent = function() {
  };
  Wc.prototype.handleCompleteEvent = function() {
    this._xpromoOperativeEventManager.sendView(this.getXPromoOperativeEventParams());
    var a = this._xpromoCampaign.getTrackingUrlsForEvent("view");
    a = h.makeIterator(a);
    for (var c = a.next(); !c.done; c = a.next()) {
      c = c.value, this._thirdPartyEventManager.sendWithGet("xpromo view", this._xpromoCampaign.getSession().getId(), c);
    }
  };
  Wc.prototype.getVideoOrientation = function() {
    return this._xpromoAdUnit.getVideoOrientation();
  };
  Wc.prototype.getXPromoOperativeEventParams = function() {
    return {placement:this._placement, videoOrientation:this.getVideoOrientation()};
  };
  h.inherits(Yd, O);
  Yd.prototype.hide = function() {
    var a = this.getEndScreen();
    a && (a.hide(), a.container().parentElement.removeChild(a.container()));
    this._privacy.hide();
    this._privacy.container().parentElement.removeChild(this._privacy.container());
    return O.prototype.hide.call(this);
  };
  Yd.prototype.description = function() {
    return "xpromo";
  };
  Yd.prototype.getEndScreen = function() {
    return this._endScreen;
  };
  Yd.prototype.onVideoError = function() {
    var a = this.getEndScreen();
    a && a.show();
  };
  Yd.prototype.unsetReferences = function() {
    O.prototype.unsetReferences.call(this);
    delete this._endScreen;
    delete this._privacy;
  };
  h.inherits(Sf, ia);
  Sf.prototype.createAdUnit = function(a) {
    var c = this.createPrivacy(a), d = a.placement.skipEndCardOnClose();
    d = this.createOverlay(a, c, d);
    var e = this.createEndScreenParameters(c, a.campaign.getGameName(), a), f = new Ie(e, a.campaign), g = this.getVideo(a.campaign, a.forceOrientation), k = Object.assign({}, a, {video:g, overlay:d, endScreen:f, privacy:c});
    e = new Yd(k);
    var l = new Jb({platform:a.platform, core:a.core, ads:a.ads, thirdPartyEventManager:a.thirdPartyEventManager, operativeEventManager:a.operativeEventManager, deviceInfo:a.deviceInfo, clientInfo:a.clientInfo, placement:a.placement, adUnit:e, campaign:a.campaign, coreConfig:a.coreConfig}), p = new Uf(e, k, l);
    d.addEventHandler(p);
    var n = new Tf(e, k, l);
    f.addEventHandler(n);
    d = this.getVideoEventHandlerParams(e, g, void 0, k);
    this.prepareVideoPlayer(Wc, d);
    if (a.platform === m.ANDROID) {
      var q = a.ads.Android.AdUnit.onKeyDown.subscribe(function(c) {
        n.onKeyEvent(c);
        if (fa.isCheetahGame(a.clientInfo.getGameId())) {
          p.onKeyEvent(c);
        }
      });
      e.onClose.subscribe(function() {
        q && a.ads.Android.AdUnit.onKeyDown.unsubscribe(q);
      });
    }
    Ma.setupReportListener(c, e);
    return e;
  };
  h.inherits(Xd, jb);
  Xd.prototype.parse = function(a, c, d, e, f) {
    a = e.getJsonContent();
    switch("undefined" !== typeof a.store ? a.store : "") {
      case "apple":
        c = kc.APPLE;
        break;
      case "google":
        c = kc.GOOGLE;
        break;
      case "xiaomi":
        c = kc.XIAOMI;
        break;
      case "standalone_android":
        throw Error("Android APK not supported on cross promotion.");
      default:
        throw Error('Unknown store value "' + a.store + '"');
    }
    e = {id:a.id, willExpireAt:void 0, contentType:Xd.ContentType, adType:void 0, correlationId:void 0, creativeId:e.getCreativeId(), seatId:void 0, meta:a.meta, session:f, mediaId:e.getMediaId(), trackingUrls:e.getTrackingUrls() ? this.validateAndEncodeTrackingUrls(e.getTrackingUrls(), f) : {}};
    e = Object.assign({}, e, {appStoreId:a.appStoreId, gameId:a.gameId, gameName:a.gameName, gameIcon:new Kb(this.validateAndEncodeUrl(a.gameIcon, f), f), rating:a.rating, ratingCount:a.ratingCount, landscapeImage:a.endScreenLandscape ? new Kb(this.validateAndEncodeUrl(a.endScreenLandscape, f), f) : void 0, portraitImage:a.endScreenPortrait ? new Kb(this.validateAndEncodeUrl(a.endScreenPortrait, f), f) : void 0, squareImage:a.endScreen ? new Kb(this.validateAndEncodeUrl(a.endScreen, f), f) : void 0, 
    clickAttributionUrl:a.clickAttributionUrl ? this.validateAndEncodeUrl(a.clickAttributionUrl, f) : void 0, clickAttributionUrlFollowsRedirects:a.clickAttributionUrlFollowsRedirects, bypassAppSheet:a.bypassAppSheet, videoEventUrls:this.validateAndEncodeVideoEventUrls(a.videoEventUrls, f), store:c});
    a.trailerDownloadable && a.trailerDownloadableSize && a.trailerStreaming && (e.video = new ta(this.validateAndEncodeUrl(a.trailerDownloadable, f), f, a.trailerDownloadableSize), e.streamingVideo = new ta(this.validateAndEncodeUrl(a.trailerStreaming, f), f));
    a.trailerPortraitDownloadable && a.trailerPortraitDownloadableSize && a.trailerPortraitStreaming && (e.videoPortrait = new ta(this.validateAndEncodeUrl(a.trailerPortraitDownloadable, f), f, a.trailerPortraitDownloadableSize), e.streamingPortraitVideo = new ta(this.validateAndEncodeUrl(a.trailerPortraitStreaming, f), f));
    return Promise.resolve(new L(e));
  };
  Xd.prototype.validateAndEncodeVideoEventUrls = function(a, c) {
    if (a && null !== a) {
      for (var d in a) {
        a.hasOwnProperty(d) && (a[d] = this.validateAndEncodeUrl(a[d], c));
      }
    }
    return a;
  };
  Xd.ContentType = "xpromo/video";
  h.inherits(Eg, od);
  Bg.prototype.onStorageSet = function(a, c) {
    c && c.mediation && c.mediation.missedImpressionOrdinal && c.mediation.missedImpressionOrdinal.value && (I.sendEvent("ads.sdk2.events.missedimpression.json", ub.ANONYMOUS, {ordinal:c.mediation.missedImpressionOrdinal.value}), this._core.Storage.delete(t.PUBLIC, "mediation.missedImpressionOrdinal"), this._core.Storage.write(t.PUBLIC));
  };
  var Gc;
  (function(a) {
    a[a.PAGE_STARTED = 0] = "PAGE_STARTED";
    a[a.PAGE_FINISHED = 1] = "PAGE_FINISHED";
    a[a.ERROR = 2] = "ERROR";
    a[a.HTTP_ERROR = 3] = "HTTP_ERROR";
    a[a.PERMISSION_REQUEST = 4] = "PERMISSION_REQUEST";
    a[a.LOAD_RESOUCE = 5] = "LOAD_RESOUCE";
    a[a.SSL_ERROR = 6] = "SSL_ERROR";
    a[a.CLIENT_CERT_REQUEST = 7] = "CLIENT_CERT_REQUEST";
    a[a.HTTP_AUTH_REQUEST = 8] = "HTTP_AUTH_REQUEST";
    a[a.SCALE_CHANGED = 9] = "SCALE_CHANGED";
    a[a.LOGIN_REQUEST = 10] = "LOGIN_REQUEST";
    a[a.PROGRESS_CHANGED = 11] = "PROGRESS_CHANGED";
    a[a.RECEIVED_TITLE = 12] = "RECEIVED_TITLE";
    a[a.RECEIVED_ICON = 13] = "RECEIVED_ICON";
    a[a.RECEIVED_TOUCH_ICON_URL = 14] = "RECEIVED_TOUCH_ICON_URL";
    a[a.SHOW_CUSTOM_VIEW = 15] = "SHOW_CUSTOM_VIEW";
    a[a.HIDE_CUSTOM_VIEW = 16] = "HIDE_CUSTOM_VIEW";
    a[a.CREATE_WINDOW = 17] = "CREATE_WINDOW";
    a[a.CLOSE_WINDOW = 18] = "CLOSE_WINDOW";
    a[a.REQUEST_FOCUS = 19] = "REQUEST_FOCUS";
    a[a.JS_ALERT = 20] = "JS_ALERT";
    a[a.JS_CONFIRM = 21] = "JS_CONFIRM";
    a[a.JS_PROMPT = 22] = "JS_PROMPT";
    a[a.CONSOLE_MESSAGE = 23] = "CONSOLE_MESSAGE";
    a[a.SHOW_FILE_CHOOSER = 24] = "SHOW_FILE_CHOOSER";
    a[a.GEOLOCATION_PERMISSIONS_SHOW = 25] = "GEOLOCATION_PERMISSIONS_SHOW";
    a[a.WEBPLAYER_EVENT = 26] = "WEBPLAYER_EVENT";
    a[a.DOWNLOAD_START = 27] = "DOWNLOAD_START";
    a[a.SHOULD_OVERRIDE_URL_LOADING = 28] = "SHOULD_OVERRIDE_URL_LOADING";
    a[a.SHOULD_OVERRIDE_KEY_EVENT = 29] = "SHOULD_OVERRIDE_KEY_EVENT";
    a[a.PAGE_COMMIT_VISIBLE = 30] = "PAGE_COMMIT_VISIBLE";
    a[a.FORM_RESUBMISSION = 31] = "FORM_RESUBMISSION";
    a[a.UNHANDLED_KEY_EVENT = 32] = "UNHANDLED_KEY_EVENT";
    a[a.SHOULD_INTERCEPT_REQUEST = 33] = "SHOULD_INTERCEPT_REQUEST";
  })(Gc || (Gc = {}));
  var wg;
  (function(a) {
    a[a.NONE = 0] = "NONE";
    a[a.AUDIO = 1] = "AUDIO";
    a[a.VIDEO = 2] = "VIDEO";
    a[a.ALL = 3] = "ALL";
  })(wg || (wg = {}));
  h.inherits(Sc, w);
  Sc.prototype.setUrl = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setUrl", [a]);
  };
  Sc.prototype.setData = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "setData", [a, c, d]);
  };
  Sc.prototype.setDataWithUrl = function(a, c, d, e) {
    return this._nativeBridge.invoke(this._apiClass, "setDataWithUrl", [a, c, d, e]);
  };
  Sc.prototype.setSettings = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "setSettings", [a, c]);
  };
  Sc.prototype.clearSettings = function() {
    return this._nativeBridge.invoke(this._apiClass, "clearSettings");
  };
  Sc.prototype.setEventSettings = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setEventSettings", [a]);
  };
  Sc.prototype.sendEvent = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "sendEvent", [a]);
  };
  Sc.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Gc[Gc.PAGE_STARTED]:
        this.onPageStarted.trigger(c[0]);
        break;
      case Gc[Gc.PAGE_FINISHED]:
        this.onPageFinished.trigger(c[0]);
        break;
      case Gc[Gc.ERROR]:
        this.onPageFinished.trigger(c[0]);
        break;
      case Gc[Gc.WEBPLAYER_EVENT]:
        this.onWebPlayerEvent.trigger(c[0]);
        break;
      case Gc[Gc.SHOULD_OVERRIDE_URL_LOADING]:
        this.shouldOverrideUrlLoading.trigger(c[0], c[1]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  h.inherits(Ba, K);
  Ba.prototype.show = function() {
    var a = this;
    this.setShowing(!0);
    this._onPageStartedObserver = this._ads.WebPlayer.onPageStarted.subscribe(function(c) {
      return a.onPageStarted(c);
    });
    this._shouldOverrideUrlLoadingObserver = this._ads.WebPlayer.shouldOverrideUrlLoading.subscribe(function(c, d) {
      return a.shouldOverrideUrlLoading(c, d);
    });
    return this.setWebPlayerViews().then(function() {
      a._view.show();
      a.onStart.trigger();
      a._ads.Listener.sendStartEvent(a._placement.getId());
      a.sendStartEvents();
      a._container.addEventHandler(a);
      a.setupPrivacyObservers();
      a.setFinishState(M.COMPLETED);
      return Promise.resolve();
    });
  };
  Ba.prototype.hide = function() {
    var a = this;
    if (!this.isShowing()) {
      return Promise.resolve();
    }
    this.setShowing(!1);
    this._container.removeEventHandler(this);
    this._ads.WebPlayer.onPageStarted.unsubscribe(this._onPageStartedObserver);
    this._ads.WebPlayer.shouldOverrideUrlLoading.unsubscribe(this._shouldOverrideUrlLoadingObserver);
    this._view.hide();
    this.onFinish.trigger();
    this._view.container().parentElement.removeChild(this._view.container());
    this.unsetReferences();
    this._ads.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
    return this._container.close().then(function() {
      return a._ads.WebPlayer.clearSettings().then(function() {
        a.onClose.trigger();
      });
    });
  };
  Ba.prototype.description = function() {
    return "programmaticImage";
  };
  Ba.prototype.onContainerShow = function() {
    var a = this;
    if (!this._contentReady) {
      K.getAutoClose() && setTimeout(function() {
        a.setFinishState(M.COMPLETED);
        a.hide();
      }, K.getAutoCloseDelay());
      var c = [this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()];
      Promise.all(c).then(function(c) {
        c = h.makeIterator(c);
        var d = c.next().value, f = c.next().value;
        return a.setWebPlayerViewFrame(d, f).then(function() {
          return a.setWebViewViewFrame(d, f, a._privacyShowing);
        }).then(function() {
          return a.setWebPlayerContent();
        });
      });
    }
  };
  Ba.prototype.onContainerDestroy = function() {
    this.isShowing() && this.onClose.trigger();
  };
  Ba.prototype.onContainerBackground = function() {
    this.isShowing() && fa.isSimejiJapaneseKeyboardApp(this._clientInfo.getGameId()) && this.hide();
  };
  Ba.prototype.onContainerForeground = function() {
  };
  Ba.prototype.onContainerSystemMessage = function() {
  };
  Ba.prototype.getScreenDensity = function() {
    return this._platform === m.ANDROID ? this._deviceInfo.getScreenDensity() : 0;
  };
  Ba.prototype.hasCreativeSize = function() {
    return void 0 !== this._campaign.getWidth() && void 0 !== this._campaign.getHeight();
  };
  Ba.prototype.setWebPlayerViewFrame = function(a, c) {
    var d = a, e = c;
    this._platform === m.ANDROID && this.hasCreativeSize() && (e = this.getScreenDensity(), d = Math.floor(this.getAndroidViewSize(this._campaign.getWidth() || a, e)), e = Math.floor(this.getAndroidViewSize(this._campaign.getHeight() || c, e)));
    return this._container.setViewFrame("webplayer", Math.floor(a / 2 - d / 2), Math.floor(c / 2 - e / 2), d, e);
  };
  Ba.prototype.setWebViewViewFrame = function(a, c, d) {
    return d ? this._container.setViewFrame("webview", 0, 0, a, c) : this._container.setViewFrame("webview", 0, 0, a, this._topWebViewAreaHeight);
  };
  Ba.prototype.onPageStarted = function(a) {
    this._core.Sdk.logDebug("DisplayInterstitialAdUnit: onPageStarted triggered for url: " + a);
    if (!this._receivedOnPageStart) {
      this._receivedOnPageStart = !0;
    } else {
      if (!this._clickEventHasBeenSent) {
        this._operativeEventManager.sendClick(this.getOperativeEventParams());
        this._clickEventHasBeenSent = !0;
        a = h.makeIterator(this._campaign.getTrackingUrlsForEvent("click"));
        for (var c = a.next(); !c.done; c = a.next()) {
          c = c.value, this._thirdPartyEventManager.sendWithGet("display click", this._campaign.getSession().getId(), c);
        }
      }
    }
  };
  Ba.prototype.shouldOverrideUrlLoading = function(a) {
    var c = this;
    this._handlingShouldOverrideUrlLoading || (this._handlingShouldOverrideUrlLoading = !0, this._platform === m.IOS && "about:blank" === a ? this.setWebplayerSettings(!1).then(function() {
      c._handlingShouldOverrideUrlLoading = !1;
    }) : (this._core.Sdk.logDebug('DisplayInterstitialAdUnit: shouldOverrideUrlLoading triggered for url: "' + a), a && y.isProtocolWhitelisted(a, this._platform) ? this.openUrlInBrowser(a) : this._handlingShouldOverrideUrlLoading = !1));
  };
  Ba.prototype.openUrlInBrowser = function(a) {
    var c = this;
    var d = this._platform === m.IOS ? this._core.iOS.UrlScheme.open(a) : this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:a});
    return Promise.resolve(d).then(function() {
      c._handlingShouldOverrideUrlLoading = !1;
    }).catch(function(d) {
      c._core.Sdk.logWarning('DisplayInterstitialAdUnit: Cannot open url: "' + a + '": ' + d);
      c._handlingShouldOverrideUrlLoading = !1;
    });
  };
  Ba.prototype.unsetReferences = function() {
    delete this._view;
  };
  Ba.prototype.sendStartEvents = function() {
    for (var a = this, c = h.makeIterator(this._campaign.getTrackingUrlsForEvent("impression")), d = c.next(); !d.done; d = c.next()) {
      d = d.value, this._thirdPartyEventManager.sendWithGet("display impression", this._campaign.getSession().getId(), d);
    }
    this._operativeEventManager.sendStart(this.getOperativeEventParams()).then(function() {
      a.onStartProcessed.trigger();
    });
  };
  Ba.prototype.setWebPlayerViews = function() {
    var a = this;
    return this._ads.WebPlayer.setSettings(this._platform === m.ANDROID ? {setJavaScriptCanOpenWindowsAutomatically:[!0], setSupportMultipleWindows:[!1]} : {javaScriptCanOpenWindowsAutomatically:!0}, {}).then(function() {
      return a._container.open(a, ["webplayer", "webview"], !1, a._forceOrientation, !0, !1, !0, !1, a._options).catch(function() {
        a.hide();
      });
    });
  };
  Ba.prototype.setWebPlayerData = function(a, c, d) {
    var e = this;
    return this._ads.WebPlayer.setData(a, c, d).catch(function(f) {
      e._core.Sdk.logError(JSON.stringify(f));
      F.trigger("webplayer_set_data_error", new fb(f, {data:a, mimeType:c, encoding:d}));
      e.setFinishState(M.ERROR);
      e.hide();
    });
  };
  Ba.prototype.getAndroidViewSize = function(a, c) {
    return c / 160 * a;
  };
  Ba.prototype.setWebplayerSettings = function(a) {
    return this._ads.WebPlayer.setEventSettings({onPageStarted:{sendEvent:!0}, shouldOverrideUrlLoading:{sendEvent:!0, returnValue:a, callSuper:!1}});
  };
  Ba.prototype.setWebPlayerContent = function() {
    var a = this;
    return this.setWebplayerSettings(!0).then(function() {
      var c = a._campaign.getDynamicMarkup();
      return a.setWebPlayerData(c, "text/html", "UTF-8").then(function() {
        a._contentReady = !0;
      });
    });
  };
  Ba.prototype.getOperativeEventParams = function() {
    return {placement:this._placement};
  };
  Ba.prototype.setupPrivacyObservers = function() {
    var a = this;
    this._view.onPrivacyClosed && this._view.onPrivacyClosed.subscribe(function() {
      a._privacyShowing = !1;
      Promise.all([a._deviceInfo.getScreenWidth(), a._deviceInfo.getScreenHeight()]).then(function(c) {
        var d = h.makeIterator(c);
        c = d.next().value;
        d = d.next().value;
        a.setWebViewViewFrame(c, d, !1);
      });
    });
    this._view.onPrivacyOpened && this._view.onPrivacyOpened.subscribe(function() {
      a._privacyShowing = !0;
      Promise.all([a._deviceInfo.getScreenWidth(), a._deviceInfo.getScreenHeight()]).then(function(c) {
        var d = h.makeIterator(c);
        c = d.next().value;
        d = d.next().value;
        a.setWebViewViewFrame(c, d, !0);
      });
    });
  };
  h.inherits(ec, B);
  ec.prototype.render = function() {
    B.prototype.render.call(this);
    this._closeElement = this._container.querySelector(".close-region");
    this._GDPRPopupElement = this._container.querySelector(".gdpr-pop-up");
    this._privacyButtonElement = this._container.querySelector(".privacy-button");
  };
  ec.prototype.show = function() {
    B.prototype.show.call(this);
    this.choosePrivacyShown();
    window.addEventListener("message", this._messageListener);
    this._closeElement.style.opacity = "1";
    this.updateProgressCircle(this._closeElement, 1);
  };
  ec.prototype.hide = function() {
    window.removeEventListener("message", this._messageListener);
    B.prototype.hide.call(this);
    this._privacy.container().parentElement && document.body.removeChild(this._privacy.container());
    for (var a = h.makeIterator(this._timers), c = a.next(); !c.done; c = a.next()) {
      window.clearInterval(c.value);
    }
    this._timers = [];
    this._showGDPRBanner && !this._gdprPopupClicked && this._handlers.forEach(function(a) {
      return a.onGDPRPopupSkipped();
    });
    this.onPrivacyClosed.unsubscribe();
    this.onPrivacyOpened.unsubscribe();
  };
  ec.prototype.onPrivacy = function() {
  };
  ec.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
    this.onPrivacyClosed.trigger();
  };
  ec.prototype.onGDPROptOut = function() {
  };
  ec.prototype.choosePrivacyShown = function() {
    !this._gdprPopupClicked && this._showGDPRBanner ? (this._GDPRPopupElement.style.visibility = "visible", this._privacyButtonElement.style.pointerEvents = "1", this._privacyButtonElement.style.visibility = "hidden") : (this._privacyButtonElement.style.visibility = "visible", this._GDPRPopupElement.style.pointerEvents = "1", this._GDPRPopupElement.style.visibility = "hidden");
  };
  ec.prototype.updateProgressCircle = function(a, c) {
    var d = a.querySelector(".progress-wrapper");
    if (this._platform === m.ANDROID && 15 > this._deviceInfo.getApiLevel()) {
      d.style.display = "none", this._container.style.display = "none", this._container.offsetHeight, this._container.style.display = "block";
    } else {
      var e = a.querySelector(".circle-left");
      a = a.querySelector(".circle-right");
      e.style.webkitTransform = "rotate(" + 360 * c + "deg)";
      0.5 <= c && (d.style.webkitAnimationName = "close-progress-wrapper", a.style.webkitAnimationName = "right-spin");
    }
  };
  ec.prototype.onCloseEvent = function(a) {
    a.preventDefault();
    a.stopPropagation();
    this._handlers.forEach(function(a) {
      return a.onDisplayInterstitialClose();
    });
  };
  ec.prototype.onGDPRPopupEvent = function(a) {
    a.preventDefault();
    this._gdprPopupClicked || (this._gdprPopupClicked = !0, this.choosePrivacyShown());
    this.onPrivacyOpened.trigger();
    this._privacy.show();
  };
  ec.prototype.onPrivacyEvent = function(a) {
    a.preventDefault();
    this.onPrivacyOpened.trigger();
    this._privacy.show();
  };
  ec.prototype.onMessage = function(a) {
    switch(a.data.type) {
      case "redirect":
        break;
      default:
        this._core.Sdk.logWarning("Unknown message: " + a.data.type);
    }
  };
  h.inherits(Rf, oc);
  Rf.prototype.onDisplayInterstitialClose = function() {
    var a = {placement:this._placement};
    this._operativeEventManager.sendThirdQuartile(a);
    this._operativeEventManager.sendView(a);
    this._adUnit.hide();
  };
  h.inherits(Qf, ia);
  Qf.prototype.createAdUnit = function(a) {
    var c = this.createPrivacy(a), d = new ec(a.platform, a.core, a.deviceInfo, a.placement, a.campaign, c, this.showGDPRBanner(a)), e = Object.assign({}, a, {view:d});
    a = new Ba(e);
    e = new Rf(a, e);
    d.addEventHandler(e);
    Ma.setupReportListener(c, a);
    return a;
  };
  h.inherits(Vc, jb);
  Vc.prototype.parse = function(a, c, d, e, f) {
    c = decodeURIComponent(e.getContent());
    this._wrapWithScriptTag && (c = "<script>" + c + "\x3c/script>");
    d = e.getCacheTTL();
    a = {id:this.getProgrammaticCampaignId(a), contentType:this._wrapWithScriptTag ? Vc.ContentTypeJs : Vc.ContentTypeHtml, willExpireAt:d ? Date.now() + 1000 * d : void 0, adType:e.getAdType() || void 0, correlationId:e.getCorrelationId() || void 0, creativeId:e.getCreativeId() || void 0, seatId:e.getSeatId() || void 0, meta:void 0, session:f, mediaId:e.getMediaId(), trackingUrls:e.getTrackingUrls() || {}};
    e = Object.assign({}, a, {dynamicMarkup:c, useWebViewUserAgentForTracking:!1, width:e.getWidth() || void 0, height:e.getHeight() || void 0});
    return Promise.resolve(new rd(e));
  };
  Vc.ContentTypeHtml = "programmatic/static-interstitial-html";
  Vc.ContentTypeJs = "programmatic/static-interstitial-js";
  h.inherits(Dg, od);
  h.inherits(dc, K);
  dc.prototype.show = function() {
    var a = this;
    this.setShowing(!0);
    this._ads.Listener.sendStartEvent(this._placement.getId());
    this._promoView.show();
    this.sendTrackingEvent("impression");
    this._platform === m.ANDROID && this._ads.Android.AdUnit.onKeyDown.subscribe(this._keyDownListener);
    this._container.addEventHandler(this);
    return this._container.open(this, ["webview"], !1, pa.NONE, !0, !0, !1, !0, this._options).then(function() {
      a.onStart.trigger();
    });
  };
  dc.prototype.hide = function() {
    if (!this.isShowing()) {
      return Promise.resolve();
    }
    this.setShowing(!1);
    this._platform === m.ANDROID && this._ads.Android.AdUnit.onKeyDown.unsubscribe(this._keyDownListener);
    this._container.removeEventHandler(this);
    this._privacy && (this._privacy.hide(), this._privacy.container().parentElement.removeChild(this._privacy.container()));
    this.sendTrackingEvent("complete");
    this._promoView.hide();
    this._promoView.container().parentElement.removeChild(this._promoView.container());
    this.unsetReferences();
    this._ads.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
    this.onFinish.trigger();
    this.onClose.trigger();
    return this._container.close();
  };
  dc.prototype.sendClick = function() {
    this._ads.Listener.sendClickEvent(this._placement.getId());
    this.sendTrackingEvent("click");
  };
  dc.prototype.description = function() {
    return "promo";
  };
  dc.prototype.onContainerShow = function() {
  };
  dc.prototype.onContainerDestroy = function() {
    this.isShowing() && (this.setFinishState(M.SKIPPED), this.hide());
  };
  dc.prototype.onContainerBackground = function() {
  };
  dc.prototype.onContainerForeground = function() {
  };
  dc.prototype.onContainerSystemMessage = function() {
  };
  dc.prototype.onKeyDown = function(a) {
    4 === a && this._promoView.onClose.trigger();
  };
  dc.prototype.sendTrackingEvent = function(a) {
    var c = this._campaign.getSession().getId();
    if (this._additionalTrackingEvents) {
      var d = this._additionalTrackingEvents[a];
      if (d) {
        d = h.makeIterator(d);
        for (var e = d.next(); !e.done; e = d.next()) {
          this._thirdPartyEventManager.sendWithGet(a, c, e.value);
        }
      }
    }
  };
  dc.prototype.unsetReferences = function() {
    delete this._promoView;
    delete this._privacy;
  };
  h.inherits(Fb, B);
  Fb.prototype.render = function() {
    var a = this;
    B.prototype.render.call(this);
    this._iframe = this._container.querySelector("iframe");
    this.getPromoMarkup().then(function(c) {
      c && (c = new va(c, a._localization), a._iframe.setAttribute("srcdoc", c.render(a._templateData ? a._templateData : {})));
    });
    this._GDPRPopupElement = this._container.querySelector(".gdpr-pop-up");
    this._privacyButtonElement = this._container.querySelector(".privacy-button");
  };
  Fb.prototype.show = function() {
    B.prototype.show.call(this);
    window.addEventListener("message", this._messageHandler);
    this.choosePrivacyShown();
  };
  Fb.prototype.hide = function() {
    B.prototype.hide.call(this);
    window.removeEventListener("message", this._messageHandler);
    this._privacy && this._privacy.removeEventHandler(this);
    this._showGDPRBanner && !this._gdprPopupClicked && this.onGDPRPopupSkipped.trigger();
  };
  Fb.prototype.onPrivacy = function() {
  };
  Fb.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
  };
  Fb.prototype.onGDPROptOut = function() {
  };
  Fb.prototype.choosePrivacyShown = function() {
    !this._gdprPopupClicked && this._showGDPRBanner ? (this._GDPRPopupElement.style.visibility = "visible", this._privacyButtonElement.style.pointerEvents = "1", this._privacyButtonElement.style.visibility = "hidden") : (this._privacyButtonElement.style.visibility = "visible", this._GDPRPopupElement.style.pointerEvents = "1", this._GDPRPopupElement.style.visibility = "hidden");
  };
  Fb.prototype.onMessage = function(a) {
    switch(a.data.type) {
      case "close":
        this.onCloseEvent(a);
        break;
      case "promo":
        this.onPromoEvent(a);
    }
  };
  Fb.prototype.onPromoEvent = function(a) {
    a.preventDefault();
    this.onPromo.trigger(this._promoCampaign.getIapProductId());
  };
  Fb.prototype.onCloseEvent = function(a) {
    a.preventDefault();
    this.onClose.trigger();
  };
  Fb.prototype.onPrivacyEvent = function(a) {
    a.preventDefault();
    this._showGDPRBanner && (this._gdprPopupClicked = !0, this.choosePrivacyShown());
    this._privacy.show();
  };
  Fb.prototype.getPromoMarkup = function() {
    var a = this;
    return this.getStaticMarkup().then(function(c) {
      return a.replaceDynamicMarkupPlaceholder(c);
    }).catch(function(c) {
      a._core.Sdk.logError("failed to get promo markup: " + c);
      return "";
    });
  };
  Fb.prototype.getStaticMarkup = function() {
    var a = this._promoCampaign.getCreativeResource();
    if (a) {
      if (this._platform === m.ANDROID) {
        return Le.get(a.getUrl());
      }
      var c = a.getFileId();
      return c ? this._core.Cache.getFileContent(c, "UTF-8") : Le.get(a.getOriginalUrl());
    }
    return Promise.reject(Error("No creative resource found for campaign"));
  };
  Fb.prototype.replaceDynamicMarkupPlaceholder = function(a) {
    var c = this._promoCampaign.getDynamicMarkup();
    return c ? a.replace("{UNITY_DYNAMIC_MARKUP}", c) : a;
  };
  me.onClose = function(a, c, d) {
    a.setFinishState(M.COMPLETED);
    a.hide();
    ka.onPromoClosed(c, d);
  };
  me.onPromoClick = function(a, c, d) {
    a.setFinishState(M.COMPLETED);
    a.sendClick();
    a.hide();
    ka.onPurchase(c.getIapProductId(), c, d);
  };
  me.onGDPRPopupSkipped = function(a, c) {
    a.isOptOutRecorded() || (a.setOptOutRecorded(!0), c.sendGDPREvent(fd.SKIP));
  };
  h.inherits(Pf, ia);
  Pf.prototype.createAdUnit = function(a) {
    var c = this.createPrivacy(a), d = this.showGDPRBanner(a);
    d = new Fb(a.platform, a.core, a.campaign, a.deviceInfo.getLanguage(), c, d, a.placement);
    var e = new dc(Object.assign({}, a, {view:d, privacy:c}));
    d.render();
    document.body.appendChild(d.container());
    d.onGDPRPopupSkipped.subscribe(function() {
      return me.onGDPRPopupSkipped(a.adsConfig, a.gdprManager);
    });
    d.onClose.subscribe(function() {
      return me.onClose(e, a.campaign, a.placement.getId());
    });
    d.onPromo.subscribe(function() {
      return me.onPromoClick(e, a.campaign, a.placement.getId());
    });
    Ma.setupReportListener(c, e);
    return e;
  };
  var Hc;
  (function(a) {
    a[a.COMMAND = 0] = "COMMAND";
    a[a.VERSION = 1] = "VERSION";
    a[a.CATALOG = 2] = "CATALOG";
    a[a.INITIALIZATION = 3] = "INITIALIZATION";
    a[a.EVENT = 4] = "EVENT";
  })(Hc || (Hc = {}));
  h.inherits(Wd, w);
  Wd.prototype.initializePurchasing = function() {
    return this._nativeBridge.invoke(this._apiClass, "initializePurchasing");
  };
  Wd.prototype.getPromoVersion = function() {
    return this._nativeBridge.invoke(this._apiClass, "getPromoVersion");
  };
  Wd.prototype.getPromoCatalog = function() {
    return this._nativeBridge.invoke(this._apiClass, "getPromoCatalog");
  };
  Wd.prototype.initiatePurchasingCommand = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "initiatePurchasingCommand", [a]);
  };
  Wd.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Hc[Hc.COMMAND]:
        this.onCommandResult.trigger(c[0]);
        break;
      case Hc[Hc.VERSION]:
        this.onGetPromoVersion.trigger(c[0]);
        break;
      case Hc[Hc.CATALOG]:
        this.onGetPromoCatalog.trigger(c[0]);
        break;
      case Hc[Hc.INITIALIZATION]:
        this.onInitialize.trigger(c[0]);
        break;
      case Hc[Hc.EVENT]:
        this.onIAPSendEvent.trigger(c[0]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  h.inherits(Of, od);
  Of.prototype.initialize = function() {
    ka.initialize(this._core.Api, this.Api, this._core.ClientInfo, this._core.Config, this._ads.Config, this._ads.PlacementManager, this._ads.CampaignManager, this.PromoEvents, this._core.RequestManager, this._analytics.AnalyticsManager);
  };
  h.inherits(X, K);
  X.setAdLoadTimeout = function(a) {
    X._adLoadTimeout = a;
  };
  X.prototype.show = function() {
    var a = this;
    this.onShow();
    return this.setupWebPlayer().then(function() {
      a._urlLoadingObserver = a._ads.WebPlayer.shouldOverrideUrlLoading.subscribe(function(c) {
        return a.onUrlLoad(c);
      });
      a.setupPrivacyObservers();
      return a._container.open(a, ["webplayer", "webview"], !1, a._forceOrientation, !1, !1, !0, !1, a._options).then(function() {
        a.onStart.trigger();
      });
    });
  };
  X.prototype.hide = function() {
    this.onHide();
    this.hideView();
    return this._container.close();
  };
  X.prototype.description = function() {
    return "vpaid";
  };
  X.prototype.openUrl = function(a) {
    a && (this._platform === m.IOS ? this._core.iOS.UrlScheme.open(a) : this._platform === m.ANDROID && this._core.Android.Intent.launch({action:"android.intent.action.VIEW", uri:a}));
  };
  X.prototype.sendTrackingEvent = function(a) {
    var c = this._vpaidCampaign.getTrackingUrlsForEvent(a), d = this._vpaidCampaign.getSession().getId();
    c = h.makeIterator(c);
    for (var e = c.next(); !e.done; e = c.next()) {
      this._thirdPartyEventManager.sendWithGet("vpaid " + a, d, e.value);
    }
  };
  X.prototype.sendImpressionTracking = function() {
    var a = this._vpaidCampaign.getImpressionUrls(), c = this._vpaidCampaign.getSession().getId();
    if (a) {
      a = h.makeIterator(a);
      for (var d = a.next(); !d.done; d = a.next()) {
        this._thirdPartyEventManager.sendWithGet("vpaid impression", c, d.value);
      }
    }
  };
  X.prototype.mute = function() {
    this._view.mute();
  };
  X.prototype.unmute = function() {
    this._view.unmute();
  };
  X.prototype.onAdLoaded = function() {
    this._timer.stop();
    this._view.showAd();
  };
  X.prototype.onContainerShow = function() {
    this.setShowing(!0);
    this.onContainerForeground();
  };
  X.prototype.onContainerDestroy = function() {
  };
  X.prototype.onContainerBackground = function() {
    this._view.pauseAd();
    this.isShowing() && fa.isSimejiJapaneseKeyboardApp(this._clientInfo.getGameId()) && this.hide();
  };
  X.prototype.onContainerForeground = function() {
    this.showCloser();
    this._view.isLoaded() && !this._privacyShowing ? this._view.resumeAd() : this._view.isLoaded() || this._view.loadWebPlayer();
  };
  X.prototype.onContainerSystemMessage = function() {
  };
  X.prototype.setWebViewSize = function(a) {
    var c = this;
    return Promise.all([this._deviceInfo.getScreenWidth(), this._deviceInfo.getScreenHeight()]).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      e = e.next().value;
      return a ? c._container.setViewFrame("webview", 0, 0, d, e) : c._container.setViewFrame("webview", 0, 0, d, c._topWebViewAreaHeight);
    });
  };
  X.prototype.setupPrivacyObservers = function() {
    var a = this;
    this._closer.onPrivacyClosed && this._closer.onPrivacyClosed.subscribe(function() {
      a.setWebViewSize(!a._shouldFullScreenWebView);
      a._view.resumeAd();
      a._privacyShowing = !1;
    });
    this._closer.onPrivacyOpened && this._closer.onPrivacyOpened.subscribe(function() {
      a.setWebViewSize(a._shouldFullScreenWebView);
      a._view.pauseAd();
      a._privacyShowing = !0;
    });
  };
  X.prototype.setupWebPlayer = function() {
    return this._platform === m.ANDROID ? this.setupAndroidWebPlayer() : this.setupIosWebPlayer();
  };
  X.prototype.setupAndroidWebPlayer = function() {
    var a = [];
    a.push(this._ads.WebPlayer.setSettings({setSupportMultipleWindows:[!1], setJavaScriptCanOpenWindowsAutomatically:[!0], setMediaPlaybackRequiresUserGesture:[!1]}, {}));
    a.push(this._ads.WebPlayer.setEventSettings({onPageStarted:{sendEvent:!0}, shouldOverrideUrlLoading:{sendEvent:!0, returnValue:!0}}));
    return Promise.all(a);
  };
  X.prototype.setupIosWebPlayer = function() {
    return Promise.all([this._ads.WebPlayer.setSettings({allowsPlayback:!0, playbackRequiresAction:!1, typesRequiringAction:wg.NONE}, {}), this._ads.WebPlayer.setEventSettings({onPageStarted:{sendEvent:!0}, shouldOverrideUrlLoading:{sendEvent:!0, returnValue:!0}})]);
  };
  X.prototype.onAdUnitNotLoaded = function() {
    this.setFinishState(M.ERROR);
    ua.trigger("vpaid_load_timeout", new fb(Error("VPAID failed to load within timeout"), {id:this._vpaidCampaign.getId()}), this._vpaidCampaign.getSession());
    this.hide();
  };
  X.prototype.onShow = function() {
    this._timer.start();
    this.setShowing(!0);
    this._container.addEventHandler(this);
  };
  X.prototype.onHide = function() {
    this._closer.container().parentElement && this._closer.container().parentElement.removeChild(this._closer.container());
    this._timer.stop();
    this.setShowing(!1);
    this._ads.Listener.sendFinishEvent(this._placement.getId(), this.getFinishState());
    this.onClose.trigger();
    this._ads.WebPlayer.shouldOverrideUrlLoading.unsubscribe(this._urlLoadingObserver);
    this._container.removeEventHandler(this);
  };
  X.prototype.hideView = function() {
    this._view.mute();
    this._view.hide();
    this._closer.hide();
    this._endScreen && this._endScreen.remove();
  };
  X.prototype.showCloser = function() {
    var a = this;
    return document.body.querySelector("#end-screen") ? this.setWebViewSize(this._shouldFullScreenWebView) : this.setWebViewSize(!this._shouldFullScreenWebView).then(function() {
      a._closer.container().parentNode || document.body.appendChild(a._closer.container());
    });
  };
  X.prototype.getAndroidViewSize = function(a, c) {
    return c / 160 * a;
  };
  X.prototype.getScreenDensity = function() {
    return this._platform === m.ANDROID ? this._deviceInfo.getScreenDensity() : 0;
  };
  X.prototype.onUrlLoad = function(a) {
    0 !== a.indexOf("file://") && 0 !== a.indexOf("about:blank") && this.openUrl(a);
  };
  X._adLoadTimeout = 7000;
  h.inherits(Vd, B);
  Vd.prototype.render = function() {
    B.prototype.render.call(this);
    this._container.querySelector(".game-background-portrait").style.backgroundSize = "100%";
    this._container.querySelector(".game-background-landscape").style.backgroundSize = "100%";
    this._container.style.zIndex = "2";
    this._isSwipeToCloseEnabled && (this._container.querySelector(".btn-close-region").style.display = "none");
  };
  Vd.prototype.show = function() {
    var a = this;
    B.prototype.show.call(this);
    document.body.appendChild(this.container());
    this._handlers.forEach(function(a) {
      return a.onVPAIDEndScreenShow();
    });
    K.getAutoClose() && setTimeout(function() {
      a._handlers.forEach(function(a) {
        return a.onVPAIDEndScreenClose();
      });
    }, K.getAutoCloseDelay());
  };
  Vd.prototype.remove = function() {
    var a = this.container().parentElement;
    a && a.removeChild(this.container());
  };
  Vd.prototype.onCloseEvent = function(a) {
    a.preventDefault();
    this._handlers.forEach(function(a) {
      return a.onVPAIDEndScreenClose();
    });
  };
  Vd.prototype.onClickEvent = function(a) {
    a.preventDefault();
    this._handlers.forEach(function(a) {
      return a.onVPAIDEndScreenClick();
    });
  };
  h.inherits(Nf, oc);
  Nf.prototype.onClose = function(a) {
    this._adUnit.setFinishState(a ? M.SKIPPED : M.COMPLETED);
    this._endScreen && this._endScreen.show();
    this._adUnit.hide();
  };
  na.prototype.onVPAIDEvent = function(a, c) {
    var d;
    c && (d = Array.prototype.slice.call(c));
    this._core.Sdk.logDebug("vpaid event " + a + " with args " + (d && d.length ? d.join(" ") : "None"));
    (a = this._vpaidEventHandlers[a]) && (d && d.length && d instanceof Array ? a.apply(this, d) : a.call(this));
  };
  na.prototype.onVPAIDCompanionClick = function() {
    var a = this.getCompanionClickThroughURL() || this.getClickThroughURL();
    this._adUnit.openUrl(a);
  };
  na.prototype.onVPAIDCompanionView = function() {
    var a = this._vpaidCampaign.getCompanionAd(), c = this._vpaidCampaign.getSession().getId();
    if (a) {
      a = a.getEventTrackingUrls("creativeView");
      a = h.makeIterator(a);
      for (var d = a.next(); !d.done; d = a.next()) {
        this._thirdPartyEventManager.sendWithGet("vpaid companion creativeView", c, d.value);
      }
    }
  };
  na.prototype.onVPAIDStuck = function() {
    F.trigger("vpaid_ad_stuck", new fb(Error("Ad playback stuck"), {campaignId:this._vpaidCampaign.getId()}));
    this._adUnit.setFinishState(M.ERROR);
    this._adUnit.hide();
  };
  na.prototype.onVPAIDSkip = function() {
    this.onAdSkipped();
  };
  na.prototype.onVPAIDProgress = function(a, c) {
    this._adDuration = a;
    this._adRemainingTime = c;
    a && -2 !== a && c && -2 !== c && this._closer.update(a - c, a);
  };
  na.prototype.getDuration = function() {
    return this._adDuration;
  };
  na.prototype.getPlayTime = function() {
    return 1000 * (this._adDuration - this._adRemainingTime);
  };
  na.prototype.onAdLoaded = function() {
    this._adUnit.onAdLoaded();
    this.onVPAIDProgress(this._adDuration, this._adRemainingTime);
  };
  na.prototype.onAdError = function() {
    this._adUnit.sendTrackingEvent("error");
    this._adUnit.setFinishState(M.ERROR);
    this._adUnit.hide();
  };
  na.prototype.onAdSkipped = function() {
    this._adUnit.sendTrackingEvent("skip");
    this._operativeEventManager.sendSkip(this.getOperativeEventParams());
    this._adUnit.setFinishState(M.SKIPPED);
    this._adUnit.mute();
    this._adUnit.hide();
  };
  na.prototype.onAdStopped = function() {
    var a = this;
    this._vpaidCampaign.hasEndScreen() ? this._adUnit.setWebViewSize(!0).then(function() {
      a._vpaidEndScreen && (a._vpaidEndScreen.show(), a._closer.container().querySelector(".close-region").style.visibility = "hidden", a._closer.container().querySelector(".gdpr-pop-up").style.visibility = "hidden");
    }) : this._adUnit.hide();
  };
  na.prototype.onAdStarted = function() {
    var a = this;
    this._ads.Listener.sendStartEvent(this._placement.getId());
    this._adUnit.sendTrackingEvent("creativeView");
    this._operativeEventManager.sendStart(this.getOperativeEventParams()).then(function() {
      a._adUnit.onStartProcessed.trigger();
    });
  };
  na.prototype.onAdImpression = function() {
    this._adUnit.sendTrackingEvent("impression");
    this._adUnit.sendImpressionTracking();
  };
  na.prototype.onAdVideoStart = function() {
    this._adUnit.sendTrackingEvent("start");
  };
  na.prototype.onAdVideoFirstQuartile = function() {
    this._adUnit.sendTrackingEvent("firstQuartile");
    this._operativeEventManager.sendFirstQuartile(this.getOperativeEventParams());
  };
  na.prototype.onAdVideoMidpoint = function() {
    this._adUnit.sendTrackingEvent("midpoint");
    this._operativeEventManager.sendMidpoint(this.getOperativeEventParams());
  };
  na.prototype.onAdVideoThirdQuartile = function() {
    this._adUnit.sendTrackingEvent("thirdQuartile");
    this._operativeEventManager.sendThirdQuartile(this.getOperativeEventParams());
  };
  na.prototype.onAdVideoComplete = function() {
    this._adUnit.sendTrackingEvent("complete");
    this._adUnit.setFinishState(M.COMPLETED);
    this._operativeEventManager.sendView(this.getOperativeEventParams());
  };
  na.prototype.onAdPaused = function() {
    if (this._adUnit.getFinishState() === M.COMPLETED) {
      this.onAdStopped();
    } else {
      this._adUnit.sendTrackingEvent("paused");
    }
  };
  na.prototype.onAdPlaying = function() {
    this._adUnit.sendTrackingEvent("resume");
  };
  na.prototype.onAdClickThru = function(a, c, d) {
    this.sendClickTrackingEvents();
    d && (a ? this._adUnit.openUrl(a) : this._adUnit.openUrl(this.getClickThroughURL()));
  };
  na.prototype.onAdDurationChange = function() {
    this.onVPAIDProgress(this._adDuration, this._adRemainingTime);
  };
  na.prototype.getCompanionClickThroughURL = function() {
    return this._vpaidCampaign.getCompanionClickThroughURL();
  };
  na.prototype.getClickThroughURL = function() {
    return this._vpaidCampaign.getVideoClickThroughURL();
  };
  na.prototype.sendClickTrackingEvents = function() {
    var a = this._vpaidCampaign.getVideoClickTrackingURLs(), c = this._vpaidCampaign.getSession().getId();
    a = h.makeIterator(a);
    for (var d = a.next(); !d.done; d = a.next()) {
      this._thirdPartyEventManager.sendWithGet("vpaid video click", c, d.value);
    }
  };
  na.prototype.getOperativeEventParams = function() {
    return {placement:this._placement};
  };
  le.prototype.onVPAIDEndScreenClick = function() {
    var a = this.getCompanionClickThroughURL() || this.getClickThroughURL();
    this._adUnit.openUrl(a);
  };
  le.prototype.onVPAIDEndScreenClose = function() {
    this._adUnit.hide();
  };
  le.prototype.onVPAIDEndScreenShow = function() {
  };
  le.prototype.getCompanionClickThroughURL = function() {
    return this._vpaidCampaign.getCompanionClickThroughURL();
  };
  le.prototype.getClickThroughURL = function() {
    return this._vpaidCampaign.getVideoClickThroughURL();
  };
  h.inherits(Xb, B);
  Xb.prototype.onPrivacy = function() {
  };
  Xb.prototype.onPrivacyClose = function() {
    this._privacy && this._privacy.hide();
    this.onPrivacyClosed.trigger();
  };
  Xb.prototype.hide = function() {
    B.prototype.hide.call(this);
    this._privacy && document.body.removeChild(this._privacy.container());
    this._showGDPRBanner && !this._gdprPopupClicked && this._handlers.forEach(function(a) {
      return a.onGDPRPopupSkipped();
    });
    this.onPrivacyClosed.unsubscribe();
    this.onPrivacyOpened.unsubscribe();
  };
  Xb.prototype.render = function() {
    B.prototype.render.call(this);
    this._GDPRPopupElement = this._container.querySelector(".gdpr-pop-up");
    this._privacyButtonElement = this._container.querySelector(".privacy-button");
  };
  Xb.prototype.onGDPROptOut = function() {
  };
  Xb.prototype.update = function(a, c) {
    a >= 0.75 * c && (this._canReward = !0);
    c = this._placement.allowSkip() ? this._placement.allowSkipInSeconds() : c;
    0 >= this.clampLower(Math.floor(c - a), 0) && (this._allowClose = !0);
    a = this.clampHigher(a / c, 1);
    this.updateCircle(a);
  };
  Xb.prototype.choosePrivacyShown = function() {
    this._showGDPRBanner && !this._gdprPopupClicked ? (this._GDPRPopupElement.style.visibility = "visible", this._privacyButtonElement.style.pointerEvents = "1", this._privacyButtonElement.style.visibility = "hidden") : (this._privacyButtonElement.style.visibility = "visible", this._GDPRPopupElement.style.pointerEvents = "1", this._GDPRPopupElement.style.visibility = "hidden");
  };
  Xb.prototype.onGDPRPopupEvent = function(a) {
    a.preventDefault();
    this._gdprPopupClicked || (this._gdprPopupClicked = !0, this.choosePrivacyShown());
    this.onPrivacyOpened.trigger();
    this._privacy.show();
  };
  Xb.prototype.onPrivacyEvent = function(a) {
    a.preventDefault();
    this.onPrivacyOpened.trigger();
    this._privacy.show();
  };
  Xb.prototype.updateCircle = function(a) {
    var c = this._container.querySelector(".progress-wrapper"), d = this._container.querySelector(".circle-left"), e = this._container.querySelector(".circle-right");
    d.style.webkitTransform = "rotate(" + 360 * a + "deg)";
    0.5 <= a && (c.style.webkitAnimationName = "close-progress-wrapper", e.style.webkitAnimationName = "right-spin");
  };
  Xb.prototype.onCloseClick = function() {
    var a = this;
    this._allowClose && this._handlers.forEach(function(c) {
      return c.onClose(!a._canReward);
    });
  };
  Xb.prototype.clampLower = function(a, c) {
    return a < c ? c : a;
  };
  Xb.prototype.clampHigher = function(a, c) {
    return a > c ? c : a;
  };
  h.inherits(yb, B);
  yb.prototype.loadWebPlayer = function() {
    var a = this, c = {skipEnabled:this._placement.allowSkip(), skipDuration:this._placement.allowSkipInSeconds()};
    c = {adParameters:JSON.stringify(c), vpaidSrcUrl:this._campaign.getVPAID().getScriptUrl(), isCoppaCompliant:this._isCoppaCompliant};
    c = (new va("<html><head><style>body {\n            margin: 0;\n            padding: 0;\n            width: 100vw;\n            height: 100vh;\n        }\n\n        .ad-container {\n            position: relative;\n            width: 100%;\n            height: 100%;\n        }\n\n        .ad-container video {\n            width: 100%;\n            height: 100%;\n        }\n\n        .ad-container .video-player-slot {\n            position: absolute;\n            bottom: 0;\n            margin: 0;\n        }</style></head><body><div class=\"ad-container\"><video playsinline=\"true\" webkit-playsinline=\"true\" poster=\"data:image/svg+xml;base64,\"></video><div class=\"video-player-slot\"></div></div><script src=\"<%= data.vpaidSrcUrl %>\">\x3c/script><script>(function(global) {\n            var EventTarget = function() {\n                this.listeners = {};\n            };\n\n            EventTarget.prototype.listeners = null;\n            EventTarget.prototype.addEventListener = function(type, callback) {\n                if (!(type in this.listeners)) {\n                    this.listeners[type] = [];\n                }\n                this.listeners[type].push(callback);\n            };\n\n            EventTarget.prototype.removeEventListener = function(type, callback) {\n                if (!(type in this.listeners)) {\n                    return;\n                }\n                var stack = this.listeners[type];\n                for (var i = 0, l = stack.length; i < l; i++) {\n                    if (stack[i] === callback){\n                        stack.splice(i, 1);\n                        return;\n                    }\n                }\n            };\n\n            EventTarget.prototype.dispatchEvent = function(event) {\n                if (!(event.type in this.listeners)) {\n                    return true;\n                }\n                var stack = this.listeners[event.type];\n\n                for (var i = 0, l = stack.length; i < l; i++) {\n                    stack[i].call(this, event);\n                }\n                return !event.defaultPrevented;\n            };\n\n            var UIWebViewBridge = function() {\n                this.handleEvent = function(event, parameters) {\n                    var iframe = document.createElement('iframe');\n                    iframe.setAttribute('src', 'umsg:' + JSON.stringify([event, parameters]));\n                    document.documentElement.appendChild(iframe);\n                    iframe.parentNode.removeChild(iframe);\n                };\n            };\n\n            var WKWebViewBridge = function() {\n                this.handleEvent = function(event, parameters) {\n                    window.webkit.messageHandlers.sendEvent.postMessage(JSON.stringify([event, parameters]));\n                }\n            };\n\n            var WebViewBridge = function() {\n                this.handleEvent = function(event, parameters) {\n                    window.webplayerbridge.handleEvent(JSON.stringify([event, parameters]));\n                }\n            };\n\n            var NativeBridge = function() {\n                var _this = this;\n                var bridge;\n                if (window.webplayerbridge) {\n                    bridge = new WebViewBridge();\n                } else if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.sendEvent) {\n                    bridge = new WKWebViewBridge();\n                } else {\n                    bridge = new UIWebViewBridge();\n                }\n                this._bridge = bridge;\n\n                this.receiveEvent = function(args) {\n                    console.log('unity', 'Received event: ', args);\n                    var event = args.shift();\n                    var parameters = args.shift();\n                    _this.dispatchEvent(new CustomEvent(event, { detail: parameters }));\n                };\n\n                this.sendEvent = function(event, parameters) {\n                    _this._bridge.handleEvent(event, parameters);\n                };\n\n                this.trigger = function(event, parameters) {\n                    if (event in _this.eventHandlers) {\n                        var listeners = _this.eventHandlers[event];\n                        for (var i = listeners.length - 1; i >= 0; i--) {\n                            var listener = listeners[i];\n                            listener.apply(global, parameters);\n                        }\n                    }\n                };\n            };\n            NativeBridge.prototype = new EventTarget();\n\n            global.nativebridge = new NativeBridge();\n        })(window);\x3c/script><script>(function() {\n            var adParameters = <%= data.adParameters %>;\n\n            var nativebridge = window.nativebridge;\n\n            // List of all ad events\n            var creativeEvents = [\n                'loaded', 'skipped', 'started', 'stopped',\n                'linearChange', 'expandedChange', 'remaningTimeChange',\n                'volumeChange', 'impression', 'videoStart', 'videoFirstQuartile',\n                'videoMidpoint', 'videoThirdQuartile', 'videoComplete',\n                'clickThru', 'interaction', 'userAcceptInvitation',\n                'userMinimize', 'userClose', 'paused', 'playing',\n                'log', 'error'\n            ];\n\n            var Container = function() {\n                var _this = this;\n                this._iframe = document.querySelector('iframe');\n                this._creative = null;\n                this._slot = document.querySelector('.video-player-slot');\n                this._videoSlot = document.querySelector('video');\n\n                var eventHandlers = {\n                    init: function(e) {\n                        _this._initAd.apply(_this, e.detail);\n                    },\n                    show: function(e) {\n                        _this._showAd.apply(_this, e.detail);\n                    },\n                    destroy: function(e) {\n                        _this._stopAd.apply(_this, e.detail);\n                    },\n                    pause: function(e) {\n                        _this._pauseAd.apply(_this, e.detail);\n                    },\n                    resume: function(e) {\n                        _this._resumeAd.apply(_this, e.detail);\n                    },\n                    mute: function() {\n                        _this._videoSlot.muted = true;\n                    },\n                    unmute: function() {\n                        _this._videoSlot.muted = false;\n                    }\n                };\n\n                for (var event in eventHandlers) {\n                    window.nativebridge.addEventListener(event, eventHandlers[event]);\n                }\n\n                this._videoSlot.addEventListener('timeupdate', function(e) {\n                    _this._sendProgressEvent();\n                });\n\n                this.init = function() {\n                    var getVPAID = this._getVPAIDFunction();\n                    if (getVPAID && typeof getVPAID === 'function') {\n                        _this._creative = getVPAID();\n\n                        _this._subscribeToAllEvents();\n\n                        nativebridge.sendEvent('ready');\n                        console.log('unity', 'Sent ready event');\n                    } else {\n                        _this._triggerError('getVPAIDAd is not defined');\n                    }\n                };\n\n                this.getHandshakeVersion = function() {\n                    return _this._creative.handshakeVersion('2.0');\n                };\n\n                this.getAdDuration = function() {\n                    if (_this._creative.getAdDuration) {\n                        return _this._creative.getAdDuration();\n                    } else {\n                        return _this._creative.adDuration || -2;\n                    }\n                };\n\n                this.getAdRemainingTime = function() {\n                    if (_this._creative.getAdRemainingTime) {\n                        return _this._creative.getAdRemainingTime();\n                } else {\n                        return _this._creative.adRemainingTime || -2;\n                    }\n                };\n\n                this._triggerError = function(e) {\n                    window.nativebridge.sendEvent('VPAID', ['AdError', [e]])\n                }\n\n                this._subscribeToAllEvents = function() {\n                    var len = creativeEvents.length;\n                    for (var i = 0; i < creativeEvents.length; i++) {\n                        var creativeEvent = creativeEvents[i];\n                        var normalizedEventName = 'Ad' + creativeEvent.charAt(0).toUpperCase() + creativeEvent.substring(1);\n                        _this._subscribeToEvent(normalizedEventName);\n                    }\n                };\n\n                this._subscribeToEvent = function(eventName) {\n                    _this._creative.subscribe(function() {\n                        var args = [eventName].concat(Array.prototype.slice.call(arguments));\n                        _this._handleEvent(args);\n                    }, eventName, _this);\n                }\n\n                this._getVPAIDFunction = function() {\n                    return window.getVPAIDAd;\n                };\n\n                this._handleEvent = function(args) {\n                    window.nativebridge.sendEvent('VPAID', args);\n                    console.log('unity', 'Got VPAID event', args[0]);\n                };\n\n                this._initAd = function(initOpts) {\n                    this._version = this._creative.handshakeVersion('2.0');\n                    this._creative.initAd(initOpts.width / window.devicePixelRatio, initOpts.height / window.devicePixelRatio, initOpts.viewMode, initOpts.bitrate, initOpts.creativeData, {\n                        slot: _this._slot,\n                        videoSlot: _this._videoSlot\n                    });\n                    console.log('unity', 'Ad initialized');\n                }\n\n                this._showAd = function() {\n                    this._creative.startAd();\n                };\n\n                this._stopAd = function() {\n                    return this._creative.stopAd();\n                };\n\n                this._pauseAd = function() {\n                    return this._creative.pauseAd();\n                };\n\n                this._resumeAd = function() {\n                    return this._creative.resumeAd();\n                };\n\n                this._sendProgressEvent = function() {\n                    window.nativebridge.sendEvent('progress', [_this._videoSlot.duration, _this._videoSlot.duration - _this._videoSlot.currentTime]);\n                };\n            };\n\n            var container = window.container = new Container();\n            container.init();\n        })();\x3c/script></body></html>")).render(c);
    this._webplayerEventObserver = this._ads.WebPlayer.onWebPlayerEvent.subscribe(function(c) {
      return a.onWebPlayerEvent(JSON.parse(c));
    });
    c = this._platform === m.ANDROID ? encodeURIComponent(c) : c;
    this._isLoaded = !0;
    return this._ads.WebPlayer.setData(c, "text/html", "UTF-8");
  };
  yb.prototype.isLoaded = function() {
    return this._isLoaded;
  };
  yb.prototype.hide = function() {
    this.sendEvent("destroy");
    this._stuckTimer.stop();
    this._ads.WebPlayer.onWebPlayerEvent.unsubscribe(this._webplayerEventObserver);
  };
  yb.prototype.showAd = function() {
    this.sendEvent("show");
  };
  yb.prototype.pauseAd = function() {
    this._isPaused = !0;
    this.sendEvent("pause");
  };
  yb.prototype.resumeAd = function() {
    this._isPaused = !1;
    this.sendEvent("resume");
  };
  yb.prototype.mute = function() {
    this.sendEvent("mute");
  };
  yb.prototype.unmute = function() {
    this.sendEvent("unmute");
  };
  yb.prototype.onVPAIDContainerReady = function() {
    var a = this;
    this.getInitAdOptions().then(function(c) {
      a.sendEvent("init", [c]);
    });
  };
  yb.prototype.getInitAdOptions = function() {
    var a = this;
    return Promise.all([this._core.DeviceInfo.getScreenWidth(), this._core.DeviceInfo.getScreenHeight()]).then(function(c) {
      var d = h.makeIterator(c);
      c = d.next().value;
      d = d.next().value;
      return {width:c, height:d, bitrate:500, viewMode:"normal", creativeData:{AdParameters:a.decodeHTMLEntityChars(a._campaign.getVPAID().getCreativeParameters())}};
    });
  };
  yb.prototype.decodeHTMLEntityChars = function(a) {
    var c = document.createElement("textarea");
    c.innerHTML = a;
    return c.value;
  };
  yb.prototype.sendEvent = function(a, c) {
    a = [a];
    c && a.push(c);
    return this._ads.WebPlayer.sendEvent(a);
  };
  yb.prototype.onWebPlayerEvent = function(a) {
    var c = a.shift(), d = a.shift();
    switch(c) {
      case "progress":
        this._handlers.forEach(function(a) {
          return a.onVPAIDProgress(d[0], d[1]);
        });
        break;
      case "VPAID":
        this._handlers.forEach(function(a) {
          return a.onVPAIDEvent(d.shift(), d.shift());
        });
        break;
      case "ready":
        this.onVPAIDContainerReady();
        break;
      default:
        this._core.Sdk.logWarning("VPAID Unknown message type " + c);
    }
  };
  yb.stuckDelay = 5E3;
  h.inherits(Mf, ia);
  Mf.prototype.createAdUnit = function(a) {
    var c = this.createPrivacy(a), d = this.showGDPRBanner(a), e = new Xb(a.platform, a.placement, c, d), f = new yb(a.platform, a.core, a.ads, a.campaign, a.placement), g = Object.assign({}, a, {vpaid:f, closer:e, privacy:c});
    if (a.campaign.hasEndScreen()) {
      var k = new Vd(a.platform, a.campaign, a.clientInfo.getGameId());
      g.endScreen = k;
    }
    d = new X(g);
    var l = new na(d, g);
    f.addEventHandler(l);
    f = new Nf(d, g);
    e.addEventHandler(f);
    a.campaign.hasEndScreen() && k && (a = new le(d, g), k.addEventHandler(a));
    Ma.setupReportListener(c, d);
    return d;
  };
  Wb.prototype.getCompanionClickThroughURL = function() {
    var a = this.getCompanion();
    return a ? a.getCompanionClickThroughURLTemplate() : null;
  };
  Wb.prototype.hasEndScreen = function() {
    return !!this.getCompanionLandscapeUrl() || !!this.getCompanionPortraitUrl();
  };
  Wb.prototype.hasCompanionAd = function() {
    var a = this.vast.getAd();
    return a ? 0 !== a.getCompanionAds().length : !1;
  };
  Wb.prototype.getCompanion = function() {
    var a = this.vast.getAd();
    return a && (a = a.getCompanionAds(), a.length) ? a[0] : null;
  };
  Wb.prototype.getCompanionPortraitUrl = function() {
    return this.vast.getCompanionPortraitUrl();
  };
  Wb.prototype.getCompanionLandscapeUrl = function() {
    return this.vast.getCompanionLandscapeUrl();
  };
  Wb.prototype.getScriptUrl = function() {
    return this.mediaFile.getFileURL();
  };
  Wb.prototype.getCreativeParameters = function() {
    var a = this.vast.getAd();
    return a && (a = a.getCreative()) ? a.getAdParameters() || {} : {};
  };
  Wb.prototype.getVideoClickTrackingURLs = function() {
    return this.vast.getVideoClickTrackingURLs() || [];
  };
  Wb.prototype.getTrackingEventUrls = function(a) {
    return this.vast.getTrackingEventUrls(a);
  };
  Wb.prototype.getImpressionUrls = function() {
    return this.vast.getImpressionUrls();
  };
  Wb.prototype.addTrackingEventUrl = function(a, c) {
    this.vast.addTrackingEventUrl(a, c);
  };
  Wb.prototype.getVideoClickThroughURL = function() {
    var a = this.vast.getVideoClickThroughURL();
    return this.isValidURL(a) ? a : null;
  };
  Wb.prototype.isValidURL = function(a) {
    var c = /^(https?):\/\/.+$/;
    return !!a && c.test(a);
  };
  je.prototype.parse = function(a) {
    a = this.vastParser.parseVast(a);
    var c = this.getSupportedMediaFile(a);
    if (c) {
      return this.parseFromVast(a, c);
    }
    throw Error("VPAID does not contain a supported media file");
  };
  je.prototype.parseFromVast = function(a, c) {
    return new Wb(c, a);
  };
  je.prototype.getSupportedMediaFile = function(a) {
    if (a = a.getAd()) {
      a = h.makeIterator(a.getCreatives());
      for (var c = a.next(); !c.done; c = a.next()) {
        c = h.makeIterator(c.value.getMediaFiles());
        for (var d = c.next(); !d.done; d = c.next()) {
          if (d = d.value, this.supportsVPAID(d) && this.isJavascriptTyped(d)) {
            return d;
          }
        }
      }
    }
    return null;
  };
  je.prototype.supportsVPAID = function(a) {
    return "VPAID" === a.getApiFramework();
  };
  je.prototype.isJavascriptTyped = function(a) {
    return "application/javascript" === a.getMIMEType();
  };
  h.inherits(Ud, nc);
  Ud.prototype.parse = function(a, c, d, e, f) {
    var g = this, k = decodeURIComponent(e.getContent()).trim();
    return this._vastParser.retrieveVast(k, c, d).then(function(c) {
      var d = g.getVPAIDMediaFile(c), k = g.getProgrammaticCampaignId(a);
      return d ? (c = g._vpaidParser.parseFromVast(c, d), d = e.getCacheTTL(), d = {id:g.getProgrammaticCampaignId(a), contentType:Ud.ContentType, willExpireAt:d ? Date.now() + 1000 * d : void 0, adType:e.getAdType() || void 0, correlationId:e.getCorrelationId() || void 0, creativeId:e.getCreativeId() || void 0, seatId:e.getSeatId() || void 0, meta:void 0, session:f, mediaId:e.getMediaId(), trackingUrls:e.getTrackingUrls() || {}}, c = Object.assign({}, d, {vpaid:c, appCategory:e.getCategory() || 
      void 0, appSubcategory:e.getSubCategory() || void 0, advertiserDomain:e.getAdvertiserDomain() || void 0, advertiserCampaignId:e.getAdvertiserCampaignId() || void 0, advertiserBundleId:e.getAdvertiserBundleId() || void 0, useWebViewUserAgentForTracking:e.getUseWebViewUserAgentForTracking(), buyerId:e.getBuyerId() || void 0}), Promise.resolve(new Fa(c))) : g.parseVastToCampaign(c, a, k, f, e);
    });
  };
  Ud.prototype.getVPAIDMediaFile = function(a) {
    return this._vpaidParser.getSupportedMediaFile(a);
  };
  Ud.ContentType = Qc.ProgrammaticVpaid;
  h.inherits(Cg, od);
  yd.prototype.initialize = function(a) {
    var c = this;
    return Promise.resolve().then(function() {
      p.setInitTimestamp();
      cb.init();
      return c.setupTestEnvironment();
    }).then(function() {
      c.GdprManager = new Ob(c._core.NativeBridge.getPlatform(), c._core.Api, c._core.Config, c.Config, c._core.ClientInfo, c._core.DeviceInfo, c._core.RequestManager);
      c.PlacementManager = new Kc(c.Api, c.Config);
      return c.GdprManager.getConsentAndUpdateConfiguration().catch(function() {
      });
    }).then(function() {
      var d = c.Config.getDefaultPlacement();
      c.Api.Placement.setDefaultPlacement(d.getId());
      c.AssetManager = new Lb(c._core.NativeBridge.getPlatform(), c._core.Api, c._core.CacheManager, c.Config.getCacheMode(), c._core.DeviceInfo, c._core.CacheBookkeeping, c.ProgrammaticTrackingService, c.BackupCampaignManager);
      0 === c.SessionManager.getGameSessionId() % 10000 && c.AssetManager.setCacheDiagnostics(!0);
      [Lg, Dg, Hg, Gg, Fg, Cg, Eg].forEach(function(a) {
        a = (new a).getContentTypeHandlerMap();
        for (var d in a) {
          a.hasOwnProperty(d) && c.ContentTypeHandlerManager.addHandler(d, a[d]);
        }
      });
      d = new Of(c._core, c, c._core.Analytics);
      var e = d.getContentTypeHandlerMap(), f;
      for (f in e) {
        e.hasOwnProperty(f) && c.ContentTypeHandlerManager.addHandler(f, e[f]);
      }
      c.CampaignManager = new C(c._core.NativeBridge.getPlatform(), c._core.Api, c._core.Config, c.Config, c.AssetManager, c.SessionManager, c.AdMobSignalFactory, c._core.RequestManager, c._core.ClientInfo, c._core.DeviceInfo, c._core.MetaDataManager, c._core.CacheBookkeeping, c.ContentTypeHandlerManager, c._core.JaegerManager, c.BackupCampaignManager);
      c.RefreshManager = new qa(c._core.NativeBridge.getPlatform(), c._core.Api, c.Api, c._core.WakeUpManager, c.CampaignManager, c.Config, c._core.FocusManager, c.SessionManager, c._core.ClientInfo, c._core.RequestManager, c._core.CacheManager);
      p.initialize(c._core.Api, c._core.RequestManager, c._core.Config, c.Config, c.SessionManager, c.CampaignManager, c._core.MetaDataManager, c._core.ClientInfo, c._core.CacheManager);
      d.initialize();
      var g = c._core.JaegerManager.startSpan("Refresh", a.id, a.traceId);
      g.addTag(Sb.DeviceType, m[c._core.NativeBridge.getPlatform()]);
      return c.RefreshManager.refreshWithBackupCampaigns(c.BackupCampaignManager).then(function(a) {
        c._core.JaegerManager.stop(g);
        return a;
      }).catch(function(a) {
        g.addTag(Sb.Error, "true");
        g.addTag(Sb.ErrorMessage, a.message);
        c._core.JaegerManager.stop(g);
        throw a;
      });
    }).then(function() {
      return c.SessionManager.sendUnsentSessions();
    });
  };
  yd.prototype.show = function(a, c, d) {
    var e = this;
    d(Ac.OK);
    if (this._showing) {
      this.showError(!1, a, "Can't show a new ad unit when ad unit is already open");
    } else {
      var f = this.Config.getPlacement(a);
      if (f) {
        var g = this.RefreshManager.getCampaign(a);
        if (g) {
          if (g instanceof nb && 0 === g.getRequiredAssets().length) {
            this._core.Api.Sdk.logError("Show invocation failed: No creatives found for promo campaign");
          } else {
            if (p.sendShowEvent(a), g.isExpired()) {
              this.showError(!0, a, "Campaign has expired"), this.RefreshManager.refresh(), a = new fb(Error("Campaign expired"), {id:g.getId(), willExpireAt:g.getWillExpireAt()}), ua.trigger("campaign_expired", a, g.getSession());
            } else {
              if ((a = f.getCurrentTrackingUrls()) && g.setTrackingUrls(a), f.getRealtimeData()) {
                this._core.Api.Sdk.logInfo("Unity Ads is requesting realtime fill for placement " + f.getId());
                var k = Date.now();
                qf.withTimeout(this.CampaignManager.requestRealtime(f, g.getSession()), 1500).then(function(a) {
                  e._requestDelay = Date.now() - k;
                  e._core.Api.Sdk.logInfo("Unity Ads received a realtime request in " + e._requestDelay + " ms.");
                  a ? (e._core.Api.Sdk.logInfo("Unity Ads received new fill for placement " + f.getId() + ", streaming new ad unit"), e._wasRealtimePlacement = !0, f.setCurrentCampaign(a), e.showAd(f, a, c)) : (ua.trigger("realtime_no_fill", {}, g.getSession()), e._core.Api.Sdk.logInfo("Unity Ads received no new fill for placement " + f.getId() + ", opening old ad unit"), e.showAd(f, g, c));
                }).catch(function(a) {
                  a instanceof fg && F.trigger("realtime_network_timeout", {auctionId:g.getSession().getId()});
                  F.trigger("realtime_error", {error:a});
                  e._core.Api.Sdk.logInfo("Unity Ads realtime fill request for placement " + f.getId() + " failed, opening old ad unit");
                  e.showAd(f, g, c);
                });
              } else {
                this.showAd(f, g, c);
              }
            }
          }
        } else {
          this.showError(!0, a, "Campaign not found");
        }
      } else {
        this.showError(!0, a, "No such placement: " + a);
      }
    }
  };
  yd.prototype.showAd = function(a, c, d) {
    var e = this;
    this._core.Config.getAbGroup();
    var f = Date.now();
    this._showing = !0;
    this.Config.getCacheMode() !== Zb.DISABLED && this.AssetManager.stopCaching();
    Promise.all([this._core.DeviceInfo.getScreenWidth(), this._core.DeviceInfo.getScreenHeight(), this._core.DeviceInfo.getConnectionType()]).then(function(g) {
      var k = h.makeIterator(g);
      g = k.next().value;
      var l = k.next().value;
      k = k.next().value;
      if (c.isConnectionNeeded() && "none" === k) {
        e._showing = !1, e.showError(!0, a.getId(), "No connection"), g = new fb(Error("No connection is available"), {id:c.getId()}), ua.trigger("mraid_no_connection", g, c.getSession());
      } else {
        g = g >= l ? pa.LANDSCAPE : pa.PORTRAIT;
        pd.createBuildInformation(e._core.NativeBridge.getPlatform(), e._core.ClientInfo, e._core.DeviceInfo, c, e._core.Config);
        e._currentAdUnit = e.getAdUnitFactory(c).createAdUnit({platform:e._core.NativeBridge.getPlatform(), core:e._core.Api, ads:e.Api, forceOrientation:g, focusManager:e._core.FocusManager, container:e.Container, deviceInfo:e._core.DeviceInfo, clientInfo:e._core.ClientInfo, thirdPartyEventManager:new zc(e._core.Api, e._core.RequestManager, {"%ZONE%":a.getId(), "%SDK_VERSION%":e._core.ClientInfo.getSdkVersion().toString()}), operativeEventManager:Ig.createOperativeEventManager({platform:e._core.NativeBridge.getPlatform(), 
        core:e._core.Api, ads:e.Api, request:e._core.RequestManager, metaDataManager:e._core.MetaDataManager, sessionManager:e.SessionManager, clientInfo:e._core.ClientInfo, deviceInfo:e._core.DeviceInfo, coreConfig:e._core.Config, adsConfig:e.Config, storageBridge:e._core.StorageBridge, campaign:c}), placement:a, campaign:c, coreConfig:e._core.Config, adsConfig:e.Config, request:e._core.RequestManager, options:d, gdprManager:e.GdprManager, adMobSignalFactory:e.AdMobSignalFactory, programmaticTrackingService:e.ProgrammaticTrackingService, 
        gameSessionId:e.SessionManager.getGameSessionId()});
        e.RefreshManager.setCurrentAdUnit(e._currentAdUnit);
        e._currentAdUnit.onClose.subscribe(function() {
          return e.onAdUnitClose();
        });
        if (e._core.NativeBridge.getPlatform() === m.IOS && (c instanceof D || c instanceof L) && !Re.isAppSheetBroken(e._core.DeviceInfo.getOsVersion(), e._core.DeviceInfo.getModel()) && !c.getBypassAppSheet()) {
          var p = {id:parseInt(c.getAppStoreId(), 10)};
          e.Api.iOS.AppSheet.prepare(p).then(function() {
            var a = e.Api.iOS.AppSheet.onClose.subscribe(function() {
              e.Api.iOS.AppSheet.prepare(p);
            });
            e._currentAdUnit.onClose.subscribe(function() {
              e.Api.iOS.AppSheet.onClose.unsubscribe(a);
              fa.isSimejiJapaneseKeyboardApp(e._core.ClientInfo.getGameId()) ? e.Api.iOS.AppSheet.destroy() : e.Api.iOS.AppSheet.destroy(p);
            });
          });
        }
        Q.setPreviousPlacementId(e.CampaignManager.getPreviousPlacementId());
        e.CampaignManager.setPreviousPlacementId(a.getId());
        e._wasRealtimePlacement && e._currentAdUnit.onStart.subscribe(function() {
          var a = Date.now() - f;
          F.trigger("realtime_delay", {requestDelay:e._requestDelay, startDelay:a, totalDelay:e._requestDelay + a, auctionId:c.getSession().getId(), adUnitDescription:e._currentAdUnit.description()});
        });
        e._wasRealtimePlacement = !1;
        e._currentAdUnit.show().then(function() {
          e._core.NativeBridge.getPlatform() === m.ANDROID && e._core.NativeBridge.setAutoBatchEnabled(!0);
          e.BackupCampaignManager.deleteBackupCampaigns();
        });
      }
    });
  };
  yd.prototype.getAdUnitFactory = function(a) {
    a = a.getContentType();
    return this.ContentTypeHandlerManager.getFactory(a);
  };
  yd.prototype.showError = function(a, c, d) {
    this._core.Api.Sdk.logError("Show invocation failed: " + d);
    this.Api.Listener.sendErrorEvent(Bc[Bc.SHOW_ERROR], d);
    a && this.Api.Listener.sendFinishEvent(c, M.ERROR);
  };
  yd.prototype.onAdUnitClose = function() {
    this._showing = !1;
    this._core.NativeBridge.getPlatform() === m.ANDROID && this._core.NativeBridge.setAutoBatchEnabled(!1);
  };
  yd.prototype.setupTestEnvironment = function() {
    G.get("serverUrl") && (Yb.setTestBaseUrl(G.get("serverUrl")), C.setBaseUrl(G.get("serverUrl")));
    G.get("campaignId") && C.setCampaignId(G.get("campaignId"));
    G.get("sessionId") && C.setSessionId(G.get("sessionId"));
    G.get("country") && C.setCountry(G.get("country"));
    G.get("autoSkip") && ja.setAutoSkip(G.get("autoSkip"));
    G.get("autoClose") && K.setAutoClose(G.get("autoClose"));
    G.get("autoCloseDelay") && K.setAutoCloseDelay(G.get("autoCloseDelay"));
    G.get("forcedOrientation") && hc.setForcedOrientation(G.get("forcedOrientation"));
    G.get("forcedPlayableMRAID") && rc.setForcedExtendedMRAID(G.get("forcedPlayableMRAID"));
    G.get("forcedGDPRBanner") && ia.setForcedGDPRBanner(G.get("forcedGDPRBanner"));
    var a = !1;
    G.get("forcedARMRAID") && (a = G.get("forcedARMRAID"), rc.setForcedARMRAID(a));
    if (G.get("creativeUrl")) {
      var c = this._creativeUrl = G.get("creativeUrl"), d = "", e = this._core.NativeBridge.getPlatform();
      e === m.ANDROID ? d = '{\n  "correlationId": "PFweE7m9HRHUg2y08qU1PL",\n  "placements": {\n    "defaultVideoAndPictureZone": "000000000000000000000000",\n    "incentivizedZone": "000000000000000000000000"\n  },\n  "media": {\n    "000000000000000000000000": {\n      "contentType": "comet/campaign",\n      "content": "{\\"id\\":\\"000000000000000000000000\\",\\"platform\\":\\"android\\",\\"store\\":\\"google\\",\\"appStoreId\\":\\"com.iUnity.angryBots\\",\\"gameId\\":11017,\\"gameName\\":\\"Test game android\\",\\"gameIcon\\":\\"http://cdn-highwinds.unityads.unity3d.com/impact/11017/test_game_icon.png\\",\\"rating\\":4.5,\\"ratingCount\\":10000,\\"bypassAppSheet\\":false,\\"mraidUrl\\":\\"{CREATIVE_URL_PLACEHOLDER}\\"}",\n      "trackingUrls": {},\n      "campaignId": "000000000000000000000000",\n      "seatId": 9000,\n      "adType": "MRAID"\n    }\n  },\n  "auctionId": "a15a4fb6-f9ce-4b09-a0cc-0672f1de4d20"\n}\n'.replace("{CREATIVE_URL_PLACEHOLDER}", 
      c) : e === m.IOS && (d = '{\n  "correlationId": "S8z40tOCRnTjCmX59PWh48",\n  "placements": {\n    "defaultVideoAndPictureZone": "000000000000000000000000",\n    "incentivizedZone": "000000000000000000000000"\n  },\n  "media": {\n    "000000000000000000000000": {\n      "contentType": "comet/campaign",\n      "content": "{\\"id\\":\\"000000000000000000000000\\",\\"platform\\":\\"ios\\",\\"store\\":\\"apple\\",\\"appStoreId\\":\\"453467175\\",\\"gameId\\":11017,\\"gameName\\":\\"Test game ios\\",\\"gameIcon\\":\\"https://cdn-highwinds.unityads.unity3d.com/impact/11017/test_game_icon.png\\",\\"rating\\":4.5,\\"ratingCount\\":10000,\\"bypassAppSheet\\":false,\\"mraidUrl\\":\\"{CREATIVE_URL_PLACEHOLDER}\\"}",\n      "trackingUrls": {},\n      "campaignId": "000000000000000000000000",\n      "seatId": 9000,\n      "adType": "MRAID"\n    }\n  },\n  "auctionId": "a15a4fb6-f9ce-4b09-a0cc-0672f1de4d20"\n}\n'.replace("{CREATIVE_URL_PLACEHOLDER}", 
      c));
      d = a ? d.replace("{AD_TYPE_PLACEHOLDER}", "MRAID_AR") : d.replace("{AD_TYPE_PLACEHOLDER}", "MRAID");
      C.setCampaignResponse(d);
    }
  };
  Ic.prototype.getUserId = function() {
    var a = this;
    return this.getValue("analytics.userid").then(function(c) {
      return c ? c : a._core.DeviceInfo.getUniqueEventId().then(function(a) {
        return a.toLowerCase().replace(/-/g, "");
      });
    });
  };
  Ic.prototype.getSessionId = function(a) {
    var c = this;
    return a ? this.getValue("analytics.sessionid").then(function(a) {
      return a ? a : c.getIntegerId();
    }).catch(function() {
      return c.getIntegerId();
    }) : this.getIntegerId();
  };
  Ic.prototype.getAppVersion = function() {
    return this.getValue("analytics.appversion");
  };
  Ic.prototype.getOsVersion = function() {
    return this.getValue("analytics.osversion");
  };
  Ic.prototype.getIAPTransactions = function() {
    var a = this;
    return this._core.Storage.get(t.PUBLIC, "iap.purchases").then(function(c) {
      a._core.Storage.delete(t.PUBLIC, "iap.purchases");
      a._core.Storage.write(t.PUBLIC);
      return c;
    }).catch(function(a) {
      a = h.makeIterator(a).next().value;
      switch(a) {
        case vb[vb.COULDNT_GET_VALUE]:
          return [];
        case vb[vb.COULDNT_GET_STORAGE]:
          return [];
        default:
          throw Error(a);
      }
    });
  };
  Ic.prototype.setIds = function(a, c) {
    this._core.Storage.set(t.PRIVATE, "analytics.userid", a);
    this._core.Storage.set(t.PRIVATE, "analytics.sessionid", c);
    this._core.Storage.write(t.PRIVATE);
  };
  Ic.prototype.setSessionId = function(a) {
    this._core.Storage.set(t.PRIVATE, "analytics.sessionid", a);
  };
  Ic.prototype.setVersions = function(a, c) {
    this._core.Storage.set(t.PRIVATE, "analytics.appversion", a);
    this._core.Storage.set(t.PRIVATE, "analytics.osversion", c);
    this._core.Storage.write(t.PRIVATE);
  };
  Ic.prototype.getIntegerId = function() {
    return this._core.DeviceInfo.getUniqueEventId().then(function(a) {
      return parseInt(a.replace(/-/g, "").substring(0, 12), 16);
    });
  };
  Ic.prototype.getValue = function(a) {
    return this._core.Storage.get(t.PRIVATE, a).then(function(a) {
      return a;
    }).catch(function(a) {
      a = h.makeIterator(a).next().value;
      switch(a) {
        case vb[vb.COULDNT_GET_VALUE]:
          break;
        case vb[vb.COULDNT_GET_STORAGE]:
          break;
        default:
          throw Error(a);
      }
    });
  };
  aa.prototype.init = function() {
    var a = this;
    if (this._clientInfo.isReinitialized()) {
      var c = [];
      c.push(this._storage.getUserId());
      c.push(this._storage.getSessionId(this._clientInfo.isReinitialized()));
      return Promise.all(c).then(function(c) {
        c = h.makeIterator(c);
        var d = c.next().value, f = c.next().value;
        c.next();
        c.next();
        a._userId = d;
        a._sessionId = f;
        a.subscribeListeners();
      });
    }
    c = [];
    c.push(this._storage.getUserId());
    c.push(this._storage.getSessionId(this._clientInfo.isReinitialized()));
    c.push(this._storage.getAppVersion());
    c.push(this._storage.getOsVersion());
    return Promise.all(c).then(function(c) {
      var d = h.makeIterator(c), f = d.next().value, g = d.next().value;
      c = d.next().value;
      d = d.next().value;
      a._userId = f;
      a._sessionId = g;
      a._storage.setIds(f, g);
      a.sendNewSession();
      f = !1;
      c ? a._clientInfo.getApplicationVersion() !== c && (a.sendAppUpdate(), f = !0) : (a.sendNewInstall(), f = !0);
      d && a._deviceInfo.getOsVersion() !== d && (f = !0);
      f && (a.sendDeviceInfo(), a._storage.setVersions(a._clientInfo.getApplicationVersion(), a._deviceInfo.getOsVersion()));
      a.subscribeListeners();
    });
  };
  aa.prototype.getGameSessionId = function() {
    return this._sessionId;
  };
  aa.prototype.subscribeListeners = function() {
    var a = this;
    this._focusManager.onAppForeground.subscribe(function() {
      return a.onAppForeground();
    });
    this._focusManager.onAppBackground.subscribe(function() {
      return a.onAppBackground();
    });
    this._focusManager.onActivityResumed.subscribe(function(c) {
      return a.onActivityResumed(c);
    });
    this._focusManager.onActivityPaused.subscribe(function(c) {
      return a.onActivityPaused(c);
    });
  };
  aa.prototype.sendNewSession = function() {
    this.send(Ga.getStartObject());
  };
  aa.prototype.sendAppRunning = function() {
    this.send(Ga.getRunningObject(Math.round((this._bgTimestamp - this._clientInfo.getInitTimestamp()) / 1000)));
  };
  aa.prototype.sendNewInstall = function() {
    this.send(Ga.getInstallObject(this._clientInfo));
  };
  aa.prototype.sendAppUpdate = function() {
    this.send(Ga.getUpdateObject(this._clientInfo));
  };
  aa.prototype.sendDeviceInfo = function() {
    var a = this;
    Ga.getDeviceInfoObject(this._platform, this._core, this._clientInfo, this._deviceInfo).then(function(c) {
      a.send(c);
    });
  };
  aa.prototype.onAppForeground = function() {
    var a = this;
    this._bgTimestamp && Date.now() - this._bgTimestamp > this._newSessionTreshold && this._storage.getSessionId(!1).then(function(c) {
      a._sessionId = c;
      a._storage.setIds(a._userId, a._sessionId);
      a.sendNewSession();
    });
  };
  aa.prototype.onAppBackground = function() {
    this._bgTimestamp = Date.now();
    this.sendAppRunning();
  };
  aa.prototype.onActivityResumed = function(a) {
    var c = this;
    this._topActivity === a && this._bgTimestamp && Date.now() - this._bgTimestamp > this._newSessionTreshold && this._storage.getSessionId(!1).then(function(a) {
      c._sessionId = a;
      c._storage.setIds(c._userId, c._sessionId);
      c.sendNewSession();
    });
    this._topActivity = a;
  };
  aa.prototype.onActivityPaused = function(a) {
    this._topActivity !== a && this._topActivity || (this._bgTimestamp = Date.now(), this.sendAppRunning());
    this._topActivity || (this._topActivity = a);
  };
  aa.prototype.onPostEvent = function(a) {
    var c = this, d = [];
    a = h.makeIterator(a);
    for (var e = a.next(); !e.done; e = a.next()) {
      e = this.parseAnalyticsEvent(e.value).then(function(a) {
        a && (a = {identifier:bd.uuidv4(), event:a, posting:!1}, c._analyticsEventQueue[a.identifier] = a);
      }), d.push(e);
    }
    Promise.all(d).then(function() {
      c.flushEvents();
    }).catch(function() {
      c.flushEvents();
    });
  };
  aa.prototype.send = function(a) {
    var c = Ga.getCommonObject(this._platform, this._userId, this._sessionId, this._clientInfo, this._deviceInfo, this._configuration);
    a = JSON.stringify(c) + "\n" + JSON.stringify(a) + "\n";
    return this._request.post(this._endpoint, a);
  };
  aa.prototype.sendEvents = function(a) {
    var c = this, d = Ga.getCommonObject(this._platform, this._userId, this._sessionId, this._clientInfo, this._deviceInfo, this._configuration);
    d = JSON.stringify(d) + "\n" + a.map(function(a) {
      return JSON.stringify(a.event);
    }).join("\n");
    return this._request.post(this._cdpEndpoint, d).then(function() {
      for (var d = h.makeIterator(a), f = d.next(); !f.done; f = d.next()) {
        delete c._analyticsEventQueue[f.value.identifier];
      }
    }).catch(function(d) {
      a.map(function(a) {
        a.posting = !1;
      });
      c._core.Sdk.logError(d.message);
      throw d;
    });
  };
  aa.prototype.flushEvents = function() {
    for (var a = [], c = [], d = h.makeIterator(Object.keys(this._analyticsEventQueue)), e = d.next(); !e.done; e = d.next()) {
      e = this._analyticsEventQueue[e.value], 10 === a.length && (c.push(this.sendEvents(a)), a = []), e.posting || (e.posting = !0, a.push(e));
    }
    0 < a.length && c.push(this.sendEvents(a));
    return Promise.all(c);
  };
  aa.prototype.buildMonetizationExtras = function() {
    return {gamer_token:this._configuration.getToken(), game_id:this._clientInfo.getGameId()};
  };
  aa.prototype.parseAnalyticsEvent = function(a) {
    try {
      if (this.isItemAcquired(a)) {
        return this.buildItemAcquired(a);
      }
      if (this.isItemSpent(a)) {
        return this.buildItemSpent(a);
      }
      if (this.isLevelFailed(a)) {
        return this.buildLevelFailed(a);
      }
      if (this.isLevelUp(a)) {
        return this.buildLevelUp(a);
      }
      if (this.isAdComplete(a)) {
        return this.buildAdComplete(a);
      }
      if (this.isIapTransaction(a)) {
        return this.buildIapTransaction(a);
      }
      this._core.Sdk.logError("parseAnalyticsEvent was not able to parse event");
      return Promise.resolve(null);
    } catch (c) {
      return this._core.Sdk.logError(c), Promise.resolve(null);
    }
  };
  aa.prototype.buildIapTransaction = function(a) {
    a.msg.unity_monetization_extras = JSON.stringify(this.buildMonetizationExtras());
    a.msg.transactionid = 0;
    a.msg.iap_service = !1;
    return Promise.resolve(a);
  };
  aa.prototype.isIapTransaction = function(a) {
    if (a && a.msg && "analytics.transaction.v1" === a.type) {
      a = a.msg;
      if (!a.ts) {
        throw Error('AnalyticsIapTransactionEvent is missing field : "ts"');
      }
      if (!a.productid) {
        throw Error('AnalyticsIapTransactionEvent is missing field : "productid"');
      }
      if (!a.amount) {
        throw Error('AnalyticsIapTransactionEvent is missing field : "amount"');
      }
      if (!a.currency) {
        throw Error('AnalyticsIapTransactionEvent is missing field : "currency"');
      }
      if (null === a.promo || void 0 === a.promo) {
        throw Error('AnalyticsIapTransactionEvent is missing field : "promo"');
      }
      if (!a.receipt) {
        throw Error('AnalyticsIapTransactionEvent is missing field : "receipt"');
      }
      return !0;
    }
    return !1;
  };
  aa.prototype.buildAdComplete = function(a) {
    var c = (new Date).getTime();
    a.msg.t_since_start = 1000 * (c - a.msg.ts);
    a.msg.custom_params.unity_monetization_extras = JSON.stringify(this.buildMonetizationExtras());
    return Promise.resolve(a);
  };
  aa.prototype.isAdComplete = function(a) {
    if (a && a.msg && "analytics.custom.v1" === a.type && (a = a.msg, a.ts && a.name && a.custom_params && "ad_complete" === a.name)) {
      a = a.custom_params;
      if (void 0 === a.rewarded || null === a.rewarded) {
        throw Error('AnalyticsAdCompleteEvent is missing field : "rewarded"');
      }
      if (!a.network) {
        throw Error('AnalyticsAdCompleteEvent is missing field : "network"');
      }
      if (!a.placement_id) {
        throw Error('AnalyticsAdCompleteEvent is missing field : "placement_id"');
      }
      return !0;
    }
    return !1;
  };
  aa.prototype.buildLevelFailed = function(a) {
    var c = (new Date).getTime();
    a.msg.t_since_start = 1000 * (c - a.msg.ts);
    a.msg.custom_params.unity_monetization_extras = JSON.stringify(this.buildMonetizationExtras());
    return Promise.resolve(a);
  };
  aa.prototype.isLevelFailed = function(a) {
    if (a && a.msg && "analytics.custom.v1" === a.type && (a = a.msg, a.ts && a.name && a.custom_params && "level_fail" === a.name)) {
      if (!a.custom_params.level_index) {
        throw Error('AnalyticsLevelFailedEvent is missing field : "level_index"');
      }
      return !0;
    }
    return !1;
  };
  aa.prototype.buildLevelUp = function(a) {
    var c = (new Date).getTime();
    a.msg.t_since_start = 1000 * (c - a.msg.ts);
    a.msg.custom_params.unity_monetization_extras = JSON.stringify(this.buildMonetizationExtras());
    return Promise.resolve(a);
  };
  aa.prototype.isLevelUp = function(a) {
    if (a && a.msg && "analytics.custom.v1" === a.type && (a = a.msg, a.ts && a.name && a.custom_params && "level_up" === a.name)) {
      if (!a.custom_params.new_level_index) {
        throw Error('AnalyticsLevelUpEvent is missing field : "new_level_index"');
      }
      return !0;
    }
    return !1;
  };
  aa.prototype.buildItemSpent = function(a) {
    var c = (new Date).getTime();
    a.msg.t_since_start = 1000 * (c - a.msg.ts);
    a.msg.custom_params.unity_monetization_extras = JSON.stringify(this.buildMonetizationExtras());
    return Promise.resolve(a);
  };
  aa.prototype.isItemSpent = function(a) {
    if (a && a.msg && a.type && "analytics.custom.v1" === a.type && (a = a.msg, a.ts && a.name && a.custom_params && "item_spent" === a.name)) {
      a = a.custom_params;
      if (!a.currency_type) {
        throw Error('AnalyticsItemSpentEvent is missing field : "currency_type"');
      }
      if (!a.transaction_context) {
        throw Error('AnalyticsItemSpentEvent is missing field : "transaction_context"');
      }
      if (!a.amount) {
        throw Error('AnalyticsItemSpentEvent is missing field : "amount"');
      }
      if (!a.item_id) {
        throw Error('AnalyticsItemSpentEvent is missing field : "item_id"');
      }
      if (!a.balance) {
        throw Error('AnalyticsItemSpentEvent is missing field : "balance"');
      }
      if (!a.item_type) {
        throw Error('AnalyticsItemSpentEvent is missing field : "item_type"');
      }
      if (!a.level) {
        throw Error('AnalyticsItemSpentEvent is missing field : "level"');
      }
      if (!a.transaction_id) {
        throw Error('AnalyticsItemSpentEvent is missing field : "transaction_id"');
      }
      return !0;
    }
    return !1;
  };
  aa.prototype.buildItemAcquired = function(a) {
    var c = (new Date).getTime();
    a.msg.t_since_start = 1000 * (c - a.msg.ts);
    a.msg.custom_params.unity_monetization_extras = JSON.stringify(this.buildMonetizationExtras());
    return Promise.resolve(a);
  };
  aa.prototype.isItemAcquired = function(a) {
    if (a && a.msg && a.type && "analytics.custom.v1" === a.type && (a = a.msg, a.ts && a.name && a.custom_params && "item_acquired" === a.name)) {
      a = a.custom_params;
      if (!a.currency_type) {
        throw Error('AnalyticsItemAcquiredEvent is missing field : "currency_type"');
      }
      if (!a.transaction_context) {
        throw Error('AnalyticsItemAcquiredEvent is missing field : "transaction_context"');
      }
      if (!a.amount) {
        throw Error('AnalyticsItemAcquiredEvent is missing field : "amount"');
      }
      if (!a.item_id) {
        throw Error('AnalyticsItemAcquiredEvent is missing field : "item_id"');
      }
      if (!a.balance) {
        throw Error('AnalyticsItemAcquiredEvent is missing field : "balance"');
      }
      if (!a.item_type) {
        throw Error('AnalyticsItemAcquiredEvent is missing field : "item_type"');
      }
      if (!a.level) {
        throw Error('AnalyticsItemAcquiredEvent is missing field : "level"');
      }
      if (!a.transaction_id) {
        throw Error('AnalyticsItemAcquiredEvent is missing field : "transaction_id"');
      }
      return !0;
    }
    return !1;
  };
  aa.storageAnalyticsQueueKey = "analytics.event.queue";
  Ag.prototype.initialize = function() {
    var a = this;
    return this._core.Config.isAnalyticsEnabled() || fa.isExampleGameId(this._core.ClientInfo.getGameId()) ? this.AnalyticsManager.init().then(function() {
      return a.AnalyticsManager.getGameSessionId();
    }) : this.AnalyticsStorage.getSessionId(this._core.ClientInfo.isReinitialized()).then(function(c) {
      a.AnalyticsStorage.setSessionId(c);
      return c;
    });
  };
  h.inherits(Kf, pb);
  var ac;
  (function(a) {
    a.CAMPAIGN = "campaign";
    a.FILES = "files";
    a.CAMPAIGNS = "campaigns";
  })(ac || (ac = {}));
  Ub.prototype.cleanCache = function() {
    var a = this;
    return Promise.all([this.getFilesKeys(), this._core.Cache.getFiles(), this.getCacheCampaigns()]).then(function(c) {
      c = h.makeIterator(c);
      var d = c.next().value, e = c.next().value;
      c = c.next().value;
      if (!e || !e.length) {
        var f = 0;
        if (c) {
          for (var g in c) {
            c.hasOwnProperty(g) && f++;
          }
        }
        return d && 0 < d.length || 0 < f ? a.deleteCacheBookKeepingData() : a.cleanCacheBookKeeping();
      }
      return a.cleanCacheBookKeeping().then(function() {
        var c = [], f = (new Date).getTime() - 18144E5, g = [], l = [], m = 0, p = 0, q = 0;
        e.sort(function(a, c) {
          return c.mtime - a.mtime;
        });
        for (var r = h.makeIterator(e), u = r.next(); !u.done; u = r.next()) {
          u = u.value, m += u.size, u.mtime < f || 52428800 < m ? (l.push(u.id), p += u.size) : (g.push(u.id), q += u.size);
        }
        0 < l.length ? a._core.Sdk.logDebug("Unity Ads cache: Deleting " + l.length + " old files (" + p / 1024 + "kB), keeping " + g.length + " cached files (" + q / 1024 + "kB)") : a._core.Sdk.logDebug("Unity Ads cache: Keeping " + g.length + " cached files (" + q / 1024 + "kB)");
        var w = !1;
        l.map(function(e) {
          -1 !== d.indexOf(Ea.getFileIdHash(e)) && (c.push(a._core.Storage.delete(t.PRIVATE, a.makeCacheKey(ac.FILES, Ea.getFileIdHash(e))).catch(function() {
            a._core.Sdk.logDebug("Error while removing file storage entry");
          })), w = !0);
          c.push(a._core.Cache.deleteFile(e));
        });
        w && c.push(a._core.Storage.write(t.PRIVATE));
        g.map(function(d) {
          c.push(a.getFileInfo(d).then(function(c) {
            return !0 === c.fullyDownloaded ? Promise.all([]) : Promise.all([a._core.Sdk.logDebug("Unity ads cache: Deleting partial download " + d), a._core.Storage.delete(t.PRIVATE, a.makeCacheKey(ac.FILES, Ea.getFileIdHash(d))).catch(function() {
              a._core.Sdk.logDebug("Error while removing file storage entry for partially downloaded file");
            }), a._core.Storage.write(t.PRIVATE), a._core.Cache.deleteFile(d)]);
          }).catch(function() {
            return Promise.all([a._core.Sdk.logDebug("Unity ads cache: Deleting desynced download " + d), a._core.Cache.deleteFile(d)]);
          }));
        });
        return Promise.all([a._core.Cache.getFiles(), a.getCacheCampaigns()]).then(function(d) {
          d = h.makeIterator(d);
          var e = d.next().value;
          d = d.next().value;
          var f = [];
          e.map(function(a) {
            f.push(Ea.getFileIdHash(a.id));
          });
          e = !1;
          var g = {}, k;
          for (k in d) {
            g.campaignId = k;
            if (d.hasOwnProperty(g.campaignId)) {
              for (var l in d[g.campaignId]) {
                if (d[g.campaignId].hasOwnProperty(l) && -1 === f.indexOf(l)) {
                  c.push(a._core.Storage.delete(t.PRIVATE, a.makeCacheKey(ac.CAMPAIGNS, g.campaignId)).catch(function(c) {
                    return function(d) {
                      F.trigger("clean_cache_delete_storage_entry_failed", {cleanCacheError:d, cleanCacheKey:a.makeCacheKey(ac.CAMPAIGNS, c.campaignId), cleanCacheErrorType:"deleteUncachedCampaign"});
                    };
                  }(g)));
                  e = !0;
                  break;
                }
              }
            }
            g = {campaignId:g.campaignId};
          }
          e && c.push(a._core.Storage.write(t.PRIVATE));
        }).then(function() {
          return Promise.all(c);
        });
      });
    });
  };
  Ub.prototype.writeFileForCampaign = function(a, c) {
    var d = this;
    return this._core.Storage.set(t.PRIVATE, this.makeCacheKey(ac.CAMPAIGNS, a, Ea.getFileIdHash(c)), {extension:Ea.getFileIdExtension(c)}).then(function() {
      d._core.Storage.write(t.PRIVATE);
    }).catch(function() {
      return Promise.resolve();
    });
  };
  Ub.prototype.createFileInfo = function(a, c, d, e) {
    return {fullyDownloaded:a, size:c, totalSize:d, extension:e};
  };
  Ub.prototype.getFileInfo = function(a) {
    return this._core.Storage.get(t.PRIVATE, this.makeCacheKey(ac.FILES, Ea.getFileIdHash(a)));
  };
  Ub.prototype.writeFileEntry = function(a, c) {
    this._core.Storage.set(t.PRIVATE, this.makeCacheKey(ac.FILES, Ea.getFileIdHash(a)), c);
    this._core.Storage.write(t.PRIVATE);
  };
  Ub.prototype.removeFileEntry = function(a) {
    this._core.Storage.delete(t.PRIVATE, this.makeCacheKey(ac.FILES, Ea.getFileIdHash(a)));
    this._core.Storage.write(t.PRIVATE);
  };
  Ub.prototype.deleteCachedCampaignResponse = function() {
    var a = this, c = this._core.Storage.delete(t.PRIVATE, this.makeCacheKey(ac.CAMPAIGN, "url")), d = this._core.Storage.delete(t.PRIVATE, this.makeCacheKey(ac.CAMPAIGN, "response"));
    return Promise.all([c, d]).then(function() {
      return a._core.Storage.write(t.PRIVATE);
    }).catch(function() {
    });
  };
  Ub.prototype.deleteCacheBookKeepingData = function() {
    var a = this;
    return this._core.Storage.delete(t.PRIVATE, this._rootKey).then(function() {
      return a._core.Storage.write(t.PRIVATE);
    }).catch(function() {
      return Promise.resolve();
    });
  };
  Ub.prototype.cleanCacheBookKeeping = function() {
    var a = this;
    return this.getKeys().then(function(c) {
      c = c.filter(function(a) {
        return a && !(a.toUpperCase() in ac);
      }).map(function(c) {
        return a._core.Storage.delete(t.PRIVATE, a._rootKey + "." + c);
      });
      return 0 < c.length ? Promise.all(c).catch(function() {
        return Promise.resolve();
      }).then(function() {
        return a._core.Storage.write(t.PRIVATE);
      }).catch(function() {
        return Promise.resolve();
      }) : Promise.resolve();
    }).catch(function() {
      return Promise.resolve();
    });
  };
  Ub.prototype.getKeysForKey = function(a, c) {
    return this._core.Storage.getKeys(t.PRIVATE, a, c).then(function(a) {
      return a;
    }).catch(function() {
      return [];
    });
  };
  Ub.prototype.getKeys = function() {
    return this.getKeysForKey(this._rootKey, !1);
  };
  Ub.prototype.getFilesKeys = function() {
    return this.getKeysForKey(this.makeCacheKey(ac.FILES), !1);
  };
  Ub.prototype.makeCacheKey = function(a, c) {
    for (var d = [], e = 1; e < arguments.length; ++e) {
      d[e - 1] = arguments[e];
    }
    e = this._rootKey + "." + a;
    d && 0 < d.length && (e = d.reduce(function(a, c) {
      return a + "." + c;
    }, e));
    return e;
  };
  Ub.prototype.getCacheCampaigns = function() {
    return this._core.Storage.get(t.PRIVATE, this.makeCacheKey(ac.CAMPAIGNS)).then(function(a) {
      return a;
    }).catch(function() {
      return {};
    });
  };
  h.inherits(Fe, ab);
  Fe.prototype.getName = function() {
    return this.get("name");
  };
  Fe.prototype.getVersion = function() {
    return this.get("version");
  };
  Fe.prototype.getDTO = function() {
    return {adapterName:this.getName(), adapterVersion:this.getVersion()};
  };
  $a.setTestBaseUrl = function(a) {
    $a.ConfigBaseUrl = a + "/games";
  };
  $a.setAbGroup = function(a) {
    $a.AbGroup = a;
  };
  $a.prototype.getConfig = function(a) {
    var c = this;
    return this._rawConfig ? this._rawConfig : Promise.all([this._metaDataManager.fetch(be), this._metaDataManager.fetch(Fe), this.fetchGamerToken()]).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      var f = e.next().value;
      e = e.next().value;
      var g;
      c._platform === m.IOS && c._core.DeviceInfo.getLimitAdTrackingFlag() ? g = e : e && c.deleteGamerToken();
      var k = c.createConfigUrl(d, f, g);
      a.addTag(Sb.DeviceType, m[c._platform]);
      c._core.Sdk.logInfo("Requesting configuration from " + k);
      return c._request.get(k, [], {retries:2, retryDelay:10000, followRedirects:!1, retryWithConnectionEvents:!0}).then(function(d) {
        a.addTag(Sb.StatusCode, d.responseCode.toString());
        try {
          return c._rawConfig = qd.parse(d.response), c._rawConfig;
        } catch (Va) {
          throw F.trigger("config_parsing_failed", {configUrl:k, configResponse:d.response}), c._core.Sdk.logError("Config request failed " + JSON.stringify(Va)), Error(Va);
        }
      }).catch(function(c) {
        if (c instanceof sd) {
          var d = c;
          d.nativeResponse && d.nativeResponse.responseCode && a.addTag(Sb.StatusCode, d.nativeResponse.responseCode.toString());
          d.nativeResponse && d.nativeResponse.response && (c = qd.parse(d.nativeResponse.response), c = new Kf(Error(c.error)));
        }
        throw c;
      });
    });
  };
  $a.prototype.createConfigUrl = function(a, c, d) {
    var e = [$a.ConfigBaseUrl, this._clientInfo.getGameId(), "configuration"].join("/"), f;
    $a.AbGroup && (f = $a.AbGroup.toNumber());
    e = y.addParameters(e, {bundleId:this._clientInfo.getApplicationName(), encrypted:!this._clientInfo.isDebuggable(), rooted:this._deviceInfo.isRooted(), platform:m[this._platform].toLowerCase(), sdkVersion:this._clientInfo.getSdkVersion(), osVersion:this._deviceInfo.getOsVersion(), deviceModel:this._deviceInfo.getModel(), language:this._deviceInfo.getLanguage(), test:this._clientInfo.getTestMode(), gamerToken:d, forceAbGroup:f});
    this._platform === m.ANDROID && (e = y.addParameters(e, {deviceMake:this._deviceInfo.getManufacturer()}));
    this._deviceInfo.getAdvertisingIdentifier() ? e = y.addParameters(e, {advertisingTrackingId:this._deviceInfo.getAdvertisingIdentifier(), limitAdTracking:this._deviceInfo.getLimitAdTracking()}) : this._platform === m.ANDROID && (e = y.addParameters(e, {androidId:this._deviceInfo.getAndroidId()}));
    a && (e = y.addParameters(e, a.getDTO()));
    c && (e = y.addParameters(e, c.getDTO()));
    return e;
  };
  $a.prototype.fetchValue = function(a) {
    return this._core.Storage.get(t.PRIVATE, a).then(function(a) {
      return a;
    }).catch(function() {
    });
  };
  $a.prototype.storeValue = function(a, c) {
    return Promise.all([this._core.Storage.set(t.PRIVATE, a, c), this._core.Storage.write(t.PRIVATE)]);
  };
  $a.prototype.deleteValue = function(a) {
    return Promise.all([this._core.Storage.delete(t.PRIVATE, a), this._core.Storage.write(t.PRIVATE)]);
  };
  $a.prototype.fetchGamerToken = function() {
    return this.fetchValue("gamerToken");
  };
  $a.prototype.storeGamerToken = function(a) {
    return this.storeValue("gamerToken", a);
  };
  $a.prototype.deleteGamerToken = function() {
    return this.deleteValue("gamerToken");
  };
  $a.ConfigBaseUrl = "https://publisher-config.unityads.unity3d.com/games";
  Cb.prototype.setListenAppForeground = function(a) {
    return a ? this._core.iOS.Notification.addNotificationObserver(Cb._appForegroundNotification, []) : this._core.iOS.Notification.removeNotificationObserver(Cb._appForegroundNotification);
  };
  Cb.prototype.setListenAndroidLifecycle = function(a) {
    return a ? this._core.Android.Lifecycle.register(["onActivityResumed", "onActivityPaused"]) : this._core.Android.Lifecycle.unregister();
  };
  Cb.prototype.setListenScreen = function(a) {
    return a ? this._core.Android.Broadcast.addBroadcastListener(this._screenListener, [this.ACTION_SCREEN_ON]) : this._core.Android.Broadcast.removeBroadcastListener(this._screenListener);
  };
  Cb.prototype.isAppForeground = function() {
    return this._appForeground;
  };
  Cb.prototype.onNotification = function(a) {
    a === Cb._appForegroundNotification ? (this._appForeground = !0, this.onAppForeground.trigger()) : a === Cb._appBackgroundNotification && (this._appForeground = !1, this.onAppBackground.trigger());
  };
  Cb.prototype.onResume = function(a) {
    this._appForeground = !0;
    this._topActivity = a;
    this.onActivityResumed.trigger(a);
  };
  Cb.prototype.onPause = function(a) {
    this._topActivity && a !== this._topActivity || (this._appForeground = !1, delete this._topActivity);
    this.onActivityPaused.trigger(a);
  };
  Cb.prototype.onDestroyed = function(a) {
    this.onActivityDestroyed.trigger(a);
  };
  Cb.prototype.onBroadcastAction = function(a, c) {
    if (a === this._screenListener) {
      switch(c) {
        case this.ACTION_SCREEN_ON:
          this.onScreenOn.trigger();
      }
    }
  };
  Cb._appForegroundNotification = "UIApplicationDidBecomeActiveNotification";
  Cb._appBackgroundNotification = "UIApplicationWillResignActiveNotification";
  hb.prototype.setJaegerTracingEnabled = function(a) {
    this._isJaegerTracingEnabled = a;
  };
  hb.prototype.isJaegerTracingEnabled = function() {
    return this._isJaegerTracingEnabled;
  };
  hb.prototype.getTraceId = function(a) {
    return ["uber-trace-id", a.traceId + ":" + a.id + ":" + (a.parentId ? a.parentId : "0") + ":" + (this._isJaegerTracingEnabled ? "01" : "00")];
  };
  hb.prototype.addOpenSpan = function(a) {
    hb._openSpans[a.id] = a;
  };
  hb.prototype.startSpan = function(a, c, d) {
    a = new Pe(a, c, d);
    return hb._openSpans[a.id] = a;
  };
  hb.prototype.stop = function(a) {
    a.stop();
    hb._closedSpans[a.id] = a;
    delete hb._openSpans[a.id];
    this.flushClosedSpans();
  };
  hb.prototype.flushClosedSpans = function() {
    if (0 >= Object.keys(hb._openSpans).length) {
      var a = [];
      Object.keys(hb._closedSpans).forEach(function(c) {
        a.push(hb._closedSpans[c]);
        delete hb._closedSpans[c];
      });
      0 < a.length && this.postToJaeger(a);
    }
  };
  hb.prototype.postToJaeger = function(a) {
    if (!0 === this._isJaegerTracingEnabled) {
      var c = [];
      a = JSON.stringify(a);
      c.push(["Content-Type", "application/json"]);
      this._request.post("https://tracing-collector-stg.internal.unity3d.com/api/v2/spans", a, c);
    }
  };
  hb._openSpans = {};
  hb._closedSpans = {};
  Jf.prototype.fetch = function(a, c, d) {
    var e = this;
    c = void 0 === c ? !0 : c;
    var f = new a;
    return this._metaDataCache[f.getCategory()] && (f = this._metaDataCache[f.getCategory()], !d) ? Promise.resolve(f) : f.fetch(this._platform, this._core, d).then(function(a) {
      if (a) {
        return c && (e._metaDataCache[f.getCategory()] = f), f;
      }
    });
  };
  Jf.prototype.clearCache = function(a) {
    a ? this._metaDataCache[a] && (this._metaDataCache[a] = void 0) : this._metaDataCache = {};
  };
  Vb.onResolveComplete = function(a, c, d) {
    var e = Vb._callbacks[a];
    e && (e.resolve([a, c, d]), delete Vb._callbacks[a]);
  };
  Vb.onResolveFailed = function(a, c, d, e) {
    if (c = Vb._callbacks[a]) {
      c.reject([d, e]), delete Vb._callbacks[a];
    }
  };
  Vb.prototype.resolve = function(a) {
    var c = Vb._callbackId++, d = this.registerCallback(c);
    this._core.Resolve.resolve(c.toString(), a);
    return d;
  };
  Vb.prototype.registerCallback = function(a) {
    return new Promise(function(c, d) {
      Vb._callbacks[a] = new hg(c, d);
    });
  };
  Vb._callbackId = 1;
  Vb._callbacks = {};
  If.prototype.setListenConnectivity = function(a) {
    return this._core.Connectivity.setListeningStatus(a);
  };
  If.prototype.onConnected = function() {
    this._firstConnection + 18E5 < Date.now() ? (this._firstConnection = Date.now(), this._connectionEvents = 0, this.onNetworkConnected.trigger()) : (this._connectionEvents++, 10 >= this._connectionEvents ? this.onNetworkConnected.trigger() : 11 === this._connectionEvents && this._core.Sdk.logWarning("Unity Ads has received more than 10 connection events in 30 minutes, now ignoring connection events"));
  };
  h.inherits(Eb, A);
  Eb.prototype.getGameId = function() {
    return this.get("gameId");
  };
  Eb.prototype.getTestMode = function() {
    return this.get("testMode");
  };
  Eb.prototype.getApplicationVersion = function() {
    return this.get("applicationVersion");
  };
  Eb.prototype.getApplicationName = function() {
    return this.get("applicationName");
  };
  Eb.prototype.getSdkVersion = function() {
    return this.get("sdkVersion");
  };
  Eb.prototype.getSdkVersionName = function() {
    return this.get("sdkVersionName");
  };
  Eb.prototype.isDebuggable = function() {
    return this.get("debuggable");
  };
  Eb.prototype.getConfigUrl = function() {
    return this.get("configUrl");
  };
  Eb.prototype.getWebviewUrl = function() {
    return this.get("webviewUrl");
  };
  Eb.prototype.getWebviewHash = function() {
    return this.get("webviewHash");
  };
  Eb.prototype.getWebviewVersion = function() {
    return this.get("webviewVersion");
  };
  Eb.prototype.getInitTimestamp = function() {
    return this.get("initTimestamp");
  };
  Eb.prototype.isReinitialized = function() {
    return this.get("reinitialized");
  };
  Eb.prototype.getDTO = function() {
    return {gameId:this.getGameId(), testMode:this.getTestMode(), bundleId:this.getApplicationName(), bundleVersion:this.getApplicationVersion(), sdkVersion:this.getSdkVersion(), sdkVersionName:this.getSdkVersionName(), encrypted:!this.isDebuggable(), configUrl:this.getConfigUrl(), webviewUrl:this.getWebviewUrl(), webviewHash:this.getWebviewHash(), webviewVersion:this.getWebviewVersion()};
  };
  var Bf;
  (function(a) {
    a[a.ACTION = 0] = "ACTION";
  })(Bf || (Bf = {}));
  h.inherits(Sd, w);
  Sd.prototype.addBroadcastListener = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "addBroadcastListener", [a, c]);
  };
  Sd.prototype.addDataSchemeBroadcastListener = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "addBroadcastListener", [a, c, d]);
  };
  Sd.prototype.removeBroadcastListener = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "removeBroadcastListener", [a]);
  };
  Sd.prototype.removeAllBroadcastListeners = function() {
    return this._nativeBridge.invoke(this._apiClass, "removeAllBroadcastListeners", []);
  };
  Sd.prototype.handleEvent = function(a, c) {
    a === Bf[Bf.ACTION] ? this.onBroadcastAction.trigger(c[0], c[1], c[2], c[3]) : w.prototype.handleEvent.call(this, a, c);
  };
  h.inherits(De, w);
  De.prototype.launch = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "launch", [a]);
  };
  De.prototype.canOpenIntent = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "canOpenIntent", [a]);
  };
  De.prototype.canOpenIntents = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "canOpenIntents", [a]);
  };
  var Qd;
  (function(a) {
    a[a.CONNECTED = 0] = "CONNECTED";
    a[a.DISCONNECTED = 1] = "DISCONNECTED";
    a[a.NETWORK_CHANGE = 2] = "NETWORK_CHANGE";
  })(Qd || (Qd = {}));
  h.inherits(ff, w);
  ff.prototype.setListeningStatus = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setConnectionMonitoring", [a]);
  };
  ff.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Qd[Qd.CONNECTED]:
        this.onConnected.trigger(c[0], c[1]);
        break;
      case Qd[Qd.DISCONNECTED]:
        this.onDisconnected.trigger();
        break;
      case Qd[Qd.NETWORK_CHANGE]:
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  h.inherits(Db, w);
  Db.prototype.getScreenScale = function() {
    return this._nativeBridge.invoke(this._apiClass, "getScreenScale");
  };
  Db.prototype.getUserInterfaceIdiom = function() {
    return this._nativeBridge.invoke(this._apiClass, "getUserInterfaceIdiom");
  };
  Db.prototype.getDeviceVolume = function() {
    return this._nativeBridge.invoke(this._apiClass, "getDeviceVolume");
  };
  Db.prototype.getFreeSpace = function() {
    return this._nativeBridge.invoke(this._apiClass, "getFreeSpace");
  };
  Db.prototype.getTotalSpace = function() {
    return this._nativeBridge.invoke(this._apiClass, "getTotalSpace");
  };
  Db.prototype.isSimulator = function() {
    return this._nativeBridge.invoke(this._apiClass, "isSimulator");
  };
  Db.prototype.getSensorList = function() {
    return this._nativeBridge.invoke(this._apiClass, "getSensorList");
  };
  Db.prototype.getStatusBarHeight = function() {
    return this._nativeBridge.invoke(this._apiClass, "getStatusBarHeight");
  };
  Db.prototype.getStatusBarWidth = function() {
    return this._nativeBridge.invoke(this._apiClass, "getStatusBarWidth");
  };
  Db.prototype.isStatusBarHidden = function() {
    return this._nativeBridge.invoke(this._apiClass, "isStatusBarHidden");
  };
  Db.prototype.getDeviceMaxVolume = function() {
    return this._nativeBridge.invoke(this._apiClass, "getDeviceMaxVolume");
  };
  Db.prototype.registerVolumeChangeListener = function() {
    return this._nativeBridge.invoke(this._apiClass, "registerVolumeChangeListener");
  };
  Db.prototype.unregisterVolumeChangeListener = function() {
    return this._nativeBridge.invoke(this._apiClass, "unregisterVolumeChangeListener");
  };
  Db.prototype.handleEvent = function(a, c) {
    switch(a) {
      case we[we.VOLUME_CHANGED]:
        this.onVolumeChanged.trigger(c[0], c[1]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  h.inherits(Da, w);
  Da.prototype.getAdvertisingTrackingId = function() {
    return this._nativeBridge.invoke(this._apiClass, "getAdvertisingTrackingId");
  };
  Da.prototype.getLimitAdTrackingFlag = function() {
    return this._nativeBridge.invoke(this._apiClass, "getLimitAdTrackingFlag");
  };
  Da.prototype.getOsVersion = function() {
    return this._nativeBridge.invoke(this._apiClass, "getOsVersion");
  };
  Da.prototype.getModel = function() {
    return this._nativeBridge.invoke(this._apiClass, "getModel");
  };
  Da.prototype.getScreenWidth = function() {
    return this._nativeBridge.invoke(this._apiClass, "getScreenWidth");
  };
  Da.prototype.getScreenHeight = function() {
    return this._nativeBridge.invoke(this._apiClass, "getScreenHeight");
  };
  Da.prototype.getTimeZone = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getTimeZone", [a]);
  };
  Da.prototype.getTimeZoneOffset = function() {
    return this._nativeBridge.invoke(this._apiClass, "getTimeZoneOffset");
  };
  Da.prototype.getConnectionType = function() {
    return this._nativeBridge.invoke(this._apiClass, "getConnectionType");
  };
  Da.prototype.getNetworkType = function() {
    return this._nativeBridge.invoke(this._apiClass, "getNetworkType");
  };
  Da.prototype.getNetworkOperator = function() {
    return this._nativeBridge.getPlatform() === m.IOS ? this._nativeBridge.invoke(this._apiClass, "getNetworkOperator").then(function(a) {
      return "string" === typeof a ? a : "";
    }) : this._nativeBridge.invoke(this._apiClass, "getNetworkOperator");
  };
  Da.prototype.getNetworkOperatorName = function() {
    return this._nativeBridge.getPlatform() === m.IOS ? this._nativeBridge.invoke(this._apiClass, "getNetworkOperatorName").then(function(a) {
      return "string" === typeof a ? a : "";
    }) : this._nativeBridge.invoke(this._apiClass, "getNetworkOperatorName");
  };
  Da.prototype.isRooted = function() {
    return this._nativeBridge.invoke(this._apiClass, "isRooted");
  };
  Da.prototype.getUniqueEventId = function() {
    return this._nativeBridge.invoke(this._apiClass, "getUniqueEventId");
  };
  Da.prototype.getHeadset = function() {
    return this._nativeBridge.invoke(this._apiClass, "getHeadset");
  };
  Da.prototype.getSystemLanguage = function() {
    return this._nativeBridge.invoke(this._apiClass, "getSystemLanguage");
  };
  Da.prototype.getScreenBrightness = function() {
    return this._nativeBridge.invoke(this._apiClass, "getScreenBrightness");
  };
  Da.prototype.getBatteryLevel = function() {
    return this._nativeBridge.invoke(this._apiClass, "getBatteryLevel");
  };
  Da.prototype.getBatteryStatus = function() {
    return this._nativeBridge.invoke(this._apiClass, "getBatteryStatus");
  };
  Da.prototype.getFreeMemory = function() {
    return this._nativeBridge.invoke(this._apiClass, "getFreeMemory");
  };
  Da.prototype.getTotalMemory = function() {
    return this._nativeBridge.invoke(this._apiClass, "getTotalMemory");
  };
  Da.prototype.getGLVersion = function() {
    return this._nativeBridge.invoke(this._apiClass, "getGLVersion");
  };
  Da.prototype.getCPUCount = function() {
    return this._nativeBridge.invoke(this._apiClass, "getCPUCount");
  };
  var Cf;
  (function(a) {
    a[a.ACTION = 0] = "ACTION";
  })(Cf || (Cf = {}));
  h.inherits(xd, w);
  xd.prototype.addNotificationObserver = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "addNotificationObserver", [a, c]);
  };
  xd.prototype.removeNotificationObserver = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "removeNotificationObserver", [a]);
  };
  xd.prototype.removeAllNotificationObservers = function() {
    return this._nativeBridge.invoke(this._apiClass, "removeAllNotificationObservers");
  };
  xd.prototype.addAVNotificationObserver = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "addAVNotificationObserver", [a, c]);
  };
  xd.prototype.removeAVNotificationObserver = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "removeAVNotificationObserver", [a]);
  };
  xd.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Cf[Cf.ACTION]:
        this.onNotification.trigger(c[0], c[1]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  h.inherits(Hf, w);
  Hf.prototype.open = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "open", [a]);
  };
  var Ae;
  (function(a) {
    a[a.COMPLETE = 0] = "COMPLETE";
    a[a.FAILED = 1] = "FAILED";
  })(Ae || (Ae = {}));
  h.inherits(tc, w);
  tc.prototype.get = function(a, c, d, e, f) {
    return this._nativeBridge.getPlatform() === m.IOS ? this._nativeBridge.invoke(this._apiClass, "get", [a, c, d, e]) : this._nativeBridge.invoke(this._apiClass, "get", [a, c, d, e, f]);
  };
  tc.prototype.post = function(a, c, d, e, f, g) {
    return this._nativeBridge.getPlatform() === m.IOS ? this._nativeBridge.invoke(this._apiClass, "post", [a, c, d, e, f]) : this._nativeBridge.invoke(this._apiClass, "post", [a, c, d, e, f, g]);
  };
  tc.prototype.head = function(a, c, d, e, f) {
    return this._nativeBridge.getPlatform() === m.IOS ? this._nativeBridge.invoke(this._apiClass, "head", [a, c, d, e]) : this._nativeBridge.invoke(this._apiClass, "head", [a, c, d, e, f]);
  };
  tc.prototype.setConnectTimeout = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setConnectTimeout", [a]);
  };
  tc.prototype.getConnectTimeout = function() {
    return this._nativeBridge.invoke(this._apiClass, "getConnectTimeout");
  };
  tc.prototype.setReadTimeout = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setReadTimeout", [a]);
  };
  tc.prototype.getReadTimeout = function() {
    return this._nativeBridge.invoke(this._apiClass, "getReadTimeout");
  };
  tc.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Ae[Ae.COMPLETE]:
        this.onComplete.trigger(c[0], c[1], c[2], c[3], c[4]);
        break;
      case Ae[Ae.FAILED]:
        this.onFailed.trigger(c[0], c[1], c[2]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  var Be;
  (function(a) {
    a[a.COMPLETE = 0] = "COMPLETE";
    a[a.FAILED = 1] = "FAILED";
  })(Be || (Be = {}));
  h.inherits(cf, w);
  cf.prototype.resolve = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "resolve", [a, c]);
  };
  cf.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Be[Be.COMPLETE]:
        this.onComplete.trigger(c[0], c[1], c[2]);
        break;
      case Be[Be.FAILED]:
        this.onFailed.trigger(c[0], c[1], c[2], c[3]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  h.inherits(Bb, w);
  Bb.prototype.loadComplete = function() {
    return this._nativeBridge.invoke(this._apiClass, "loadComplete");
  };
  Bb.prototype.initComplete = function() {
    return this._nativeBridge.invoke(this._apiClass, "initComplete");
  };
  Bb.prototype.setDebugMode = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setDebugMode", [a]);
  };
  Bb.prototype.getDebugMode = function() {
    return this._nativeBridge.invoke(this._apiClass, "getDebugMode");
  };
  Bb.prototype.logError = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "logError", [a]);
  };
  Bb.prototype.logWarning = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "logWarning", [a]);
  };
  Bb.prototype.logInfo = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "logInfo", [a]);
  };
  Bb.prototype.logDebug = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "logDebug", [a]);
  };
  Bb.prototype.setShowTimeout = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "setShowTimeout", [a]);
  };
  Bb.prototype.reinitialize = function() {
    this._nativeBridge.invoke(this._apiClass, "reinitialize");
  };
  yg.parse = function(a) {
    a = {enabled:a.enabled, country:a.country, coppaCompliant:a.coppaCompliant, abGroup:dg.getAbGroup(a.abGroup), properties:a.properties, analytics:a.analytics ? !0 : !1, test:a.test ? !0 : !1, projectId:a.projectId, token:a.token, jaegerTracing:a.jaegerTracing ? !0 : !1, organizationId:a.organizationId};
    a = new Pb(a);
    if (a.getToken()) {
      return a;
    }
    throw Error("gamer token missing in PLC config");
  };
  df.prototype.queue = function(a) {
    var c = this, d = a.getType();
    a = a.getBatch();
    0 !== a.commands.length && (d === t.PUBLIC ? this._publicStorageQueue.commands = this._publicStorageQueue.commands.concat(a.commands) : this._privateStorageQueue.commands = this._privateStorageQueue.commands.concat(a.commands), this._storageBatchTimer || (this._storageBatchTimer = window.setTimeout(function() {
      c.executeBatch(t.PUBLIC, c._publicStorageQueue);
      c.executeBatch(t.PRIVATE, c._privateStorageQueue);
      delete c._storageBatchTimer;
    }, this._storageBatchInterval)));
  };
  df.prototype.isEmpty = function() {
    return 0 === this._publicStorageQueue.commands.length && 0 === this._privateStorageQueue.commands.length;
  };
  df.prototype.executeBatch = function(a, c) {
    if (0 !== c.commands.length) {
      var d;
      c = h.makeIterator(c.commands);
      for (d = c.next(); !d.done; d = c.next()) {
        d = d.value, d.type === ze.SET ? this._core.Storage.set(a, d.key, d.value) : d.type === ze.DELETE && this._core.Storage.delete(a, d.key);
      }
      this._core.Storage.write(a);
      a === t.PUBLIC ? (this._publicStorageQueue = {commands:[]}, this.onPublicStorageWrite.trigger()) : (this._privateStorageQueue = {commands:[]}, this.onPrivateStorageWrite.trigger());
    }
  };
  var jh;
  (function(a) {
    a[a.APPLICATION_NULL = 0] = "APPLICATION_NULL";
    a[a.LISTENER_NOT_NULL = 1] = "LISTENER_NOT_NULL";
    a[a.JSON_ERROR = 2] = "JSON_ERROR";
  })(jh || (jh = {}));
  var Tb;
  (function(a) {
    a[a.CREATED = 0] = "CREATED";
    a[a.STARTED = 1] = "STARTED";
    a[a.RESUMED = 2] = "RESUMED";
    a[a.PAUSED = 3] = "PAUSED";
    a[a.STOPPED = 4] = "STOPPED";
    a[a.SAVE_INSTANCE_STATE = 5] = "SAVE_INSTANCE_STATE";
    a[a.DESTROYED = 6] = "DESTROYED";
  })(Tb || (Tb = {}));
  h.inherits(Ce, w);
  Ce.prototype.register = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "register", [a]);
  };
  Ce.prototype.unregister = function() {
    return this._nativeBridge.invoke(this._apiClass, "unregister");
  };
  Ce.prototype.handleEvent = function(a, c) {
    switch(a) {
      case Tb[Tb.CREATED]:
        this.onActivityCreated.trigger(c[0]);
        break;
      case Tb[Tb.STARTED]:
        this.onActivityStarted.trigger(c[0]);
        break;
      case Tb[Tb.RESUMED]:
        this.onActivityResumed.trigger(c[0]);
        break;
      case Tb[Tb.PAUSED]:
        this.onActivityPaused.trigger(c[0]);
        break;
      case Tb[Tb.STOPPED]:
        this.onActivityStopped.trigger(c[0]);
        break;
      case Tb[Tb.SAVE_INSTANCE_STATE]:
        this.onActivitySaveInstanceState.trigger(c[0]);
        break;
      case Tb[Tb.DESTROYED]:
        this.onActivityDestroyed.trigger(c[0]);
        break;
      default:
        w.prototype.handleEvent.call(this, a, c);
    }
  };
  h.inherits(Oa, w);
  Oa.prototype.hasKey = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "hasKey", [a, c]);
  };
  Oa.prototype.getString = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "getString", [a, c]);
  };
  Oa.prototype.setString = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "setString", [a, c, d]);
  };
  Oa.prototype.getInt = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "getInt", [a, c]);
  };
  Oa.prototype.setInt = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "setInt", [a, c, d]);
  };
  Oa.prototype.getLong = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "getLong", [a, c]);
  };
  Oa.prototype.setLong = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "setLong", [a, c, d]);
  };
  Oa.prototype.getBoolean = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "getBoolean", [a, c]);
  };
  Oa.prototype.setBoolean = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "setBoolean", [a, c, d]);
  };
  Oa.prototype.getFloat = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "getFloat", [a, c]);
  };
  Oa.prototype.setFloat = function(a, c, d) {
    return this._nativeBridge.invoke(this._apiClass, "setFloat", [a, c, new Ya(d)]);
  };
  Oa.prototype.removeKey = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "removeKey", [a, c]);
  };
  h.inherits(W, w);
  W.prototype.hasKey = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "hasKey", [a]);
  };
  W.prototype.getString = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getString", [a]);
  };
  W.prototype.setString = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "setString", [a, c]);
  };
  W.prototype.getInt = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getInt", [a]);
  };
  W.prototype.setInt = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "setInt", [a, c]);
  };
  W.prototype.getLong = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getLong", [a]);
  };
  W.prototype.setLong = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "setLong", [a, c]);
  };
  W.prototype.getBoolean = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getBoolean", [a]);
  };
  W.prototype.setBoolean = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "setBoolean", [a, c]);
  };
  W.prototype.getFloat = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "getFloat", [a]);
  };
  W.prototype.setFloat = function(a, c) {
    return this._nativeBridge.invoke(this._apiClass, "setFloat", [new Ya(a), c]);
  };
  W.prototype.removeKey = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "removeKey", [a]);
  };
  h.inherits(Ef, w);
  Ef.prototype.startAccelerometerUpdates = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "startAccelerometerUpdates", [a]);
  };
  h.inherits(Rd, w);
  Rd.prototype.startAccelerometerUpdates = function(a) {
    return this._nativeBridge.invoke(this._apiClass, "startAccelerometerUpdates", [a]);
  };
  h.inherits(wd, w);
  wd.prototype.stopAccelerometerUpdates = function() {
    return this._nativeBridge.invoke(this._apiClass, "stopAccelerometerUpdates");
  };
  wd.prototype.isAccelerometerActive = function() {
    return this._nativeBridge.invoke(this._apiClass, "isAccelerometerActive");
  };
  wd.prototype.getAccelerometerData = function() {
    return this._nativeBridge.invoke(this._apiClass, "getAccelerometerData");
  };
  za.prototype.initialize = function() {
    var a = this, c = new Pe("Initialize");
    return this.Api.Sdk.loadComplete().then(function(d) {
      c.addAnnotation("nativeBridge loadComplete");
      a.ClientInfo = new Eb(d);
      if (!/^\d+$/.test(a.ClientInfo.getGameId())) {
        return d = "Provided Game ID '" + a.ClientInfo.getGameId() + "' is invalid. Game ID may contain only digits (0-9).", a.Ads.Api.Listener.sendErrorEvent(Bc[Bc.INVALID_ARGUMENT], d), Promise.reject(d);
      }
      a.NativeBridge.getPlatform() === m.ANDROID ? (a.DeviceInfo = new E(a.Api), a.RequestManager = new x(a.NativeBridge.getPlatform(), a.Api, a.WakeUpManager, a.DeviceInfo)) : a.NativeBridge.getPlatform() === m.IOS && (a.DeviceInfo = new Pa(a.Api), a.RequestManager = new x(a.NativeBridge.getPlatform(), a.Api, a.WakeUpManager));
      a.CacheManager = new ra(a.Api, a.WakeUpManager, a.RequestManager, a.CacheBookkeeping);
      a.JaegerManager = new hb(a.RequestManager);
      a.JaegerManager.addOpenSpan(c);
      I.setRequest(a.RequestManager);
      I.setPlatform(a.NativeBridge.getPlatform());
      I.setClientInfo(a.ClientInfo);
      return Promise.all([a.DeviceInfo.fetch(), a.setupTestEnvironment()]);
    }).then(function() {
      I.setDeviceInfo(a.DeviceInfo);
      a._initialized = !0;
      a._initializedAt = Date.now();
      a.Api.Sdk.initComplete();
      a.WakeUpManager.setListenConnectivity(!0);
      a.NativeBridge.getPlatform() === m.IOS ? a.FocusManager.setListenAppForeground(!0) : (a.FocusManager.setListenScreen(!0), a.FocusManager.setListenAndroidLifecycle(!0));
      var d = a.JaegerManager.startSpan("FetchConfiguration", c.id, c.traceId);
      a.ConfigManager = new $a(a.NativeBridge.getPlatform(), a.Api, a.MetaDataManager, a.ClientInfo, a.DeviceInfo, a.RequestManager);
      var e = G.get("creativeUrl") ? Promise.resolve(qd.parse('{\n  "enabled": true,\n  "coppaCompliant": false,\n  "assetCaching": "disabled",\n  "projectId": "0a379f5a-c4fa-4f7f-a5c1-e49fd3dd63d4",\n  "gdprEnabled": false,\n  "optOutEnabled": false,\n  "optOutRecorded": false,\n  "placements": [{\n    "id": "defaultVideoAndPictureZone",\n    "name": "Placement",\n    "default": true,\n    "allowSkip": true,\n    "disableBackButton": true,\n    "muteVideo": false,\n    "useDeviceOrientationForVideo": false,\n    "adTypes": ["MRAID", "VIDEO"],\n    "skipInSeconds": 5\n  }, {\n    "id": "incentivizedZone",\n    "name": "Placement",\n    "default": false,\n    "allowSkip": false,\n    "disableBackButton": true,\n    "muteVideo": false,\n    "useDeviceOrientationForVideo": false,\n    "adTypes": ["MRAID", "VIDEO"]\n  }],\n  "properties": "tynbvvQLwnpf382fQqw4MzIk8YYdMj8DWebgn+QoOgpVVRYNFXY=",\n  "country": "FI",\n  "gamerId": "59a964fd13dcc10984985e6d",\n  "abGroup": 0,\n  "token": "abcd.1234.5678",\n  "organizationId": "5552368"\n}\n')) : 
      a.ConfigManager.getConfig(d);
      e.then(function() {
        a.JaegerManager.stop(d);
      }).catch(function() {
        a.JaegerManager.stop(d);
      });
      e = e.then(function(c) {
        var d = yg.parse(c);
        a.Api.Sdk.logInfo("Received configuration for token " + d.getToken() + " (A/B group " + JSON.stringify(d.getAbGroup()) + ")");
        a.NativeBridge.getPlatform() === m.IOS && a.DeviceInfo.getLimitAdTracking() && a.ConfigManager.storeGamerToken(c.token);
        return [c, d];
      }).catch(function(a) {
        d.addTag(Sb.Error, "true");
        d.addTag(Sb.ErrorMessage, a.message);
        d.addAnnotation(a.message);
        throw Error(a);
      });
      var f = a.CacheBookkeeping.cleanCache().catch(function(c) {
        a.Api.Sdk.logError("Unity Ads cleaning cache failed: " + c);
        F.trigger("cleaning_cache_failed", c);
      });
      return Promise.all([e, f]);
    }).then(function(c) {
      c = h.makeIterator(c);
      var d = h.makeIterator(c.next().value);
      c = d.next().value;
      d = d.next().value;
      a.Config = d;
      I.setConfiguration(a.Config);
      a.JaegerManager.setJaegerTracingEnabled(a.Config.isJaegerTracingEnabled());
      if (!a.Config.isEnabled()) {
        throw c = Error("Game with ID " + a.ClientInfo.getGameId() + " is not enabled"), c.name = "DisabledGame", c;
      }
      a.Analytics = new Ag(a);
      return Promise.all([c, a.Analytics.initialize()]);
    }).then(function(d) {
      var e = h.makeIterator(d);
      d = e.next().value;
      e = e.next().value;
      a.Ads = new yd(d, a);
      a.Ads.SessionManager.setGameSessionId(e);
      return a.Ads.initialize(c);
    }).then(function() {
      a.JaegerManager.stop(c);
      a.NativeBridge.getPlatform() === m.ANDROID && a.NativeBridge.setAutoBatchEnabled(!1);
    }).catch(function(d) {
      c.addAnnotation(d.message);
      c.addTag(Sb.Error, "true");
      c.addTag(Sb.ErrorMessage, d.message);
      a.JaegerManager && a.JaegerManager.stop(c);
      if (d instanceof Kf) {
        d = {message:d.message, name:d.name}, a.Ads.Api.Listener.sendErrorEvent(Bc[Bc.INITIALIZE_FAILED], d.message);
      } else {
        if (d instanceof Error && "DisabledGame" === d.name) {
          return;
        }
      }
      a.Api.Sdk.logError(JSON.stringify(d));
      F.trigger("initialization_error", d);
    });
  };
  za.prototype.setupTestEnvironment = function() {
    return G.setup(new Te(this.NativeBridge.getPlatform(), this.Api)).then(function() {
      G.get("serverUrl") && $a.setTestBaseUrl(G.get("serverUrl"));
      G.get("configUrl") && $a.setTestBaseUrl(G.get("configUrl"));
      G.get("kafkaUrl") && I.setTestBaseUrl(G.get("kafkaUrl"));
      if (G.get("abGroup")) {
        var a = Number(G.get("abGroup"));
        isNaN(a) || (a = dg.getAbGroup(a), $a.setAbGroup(a));
      }
      if (G.get("forceAuthorization") && (a = G.get("forceAuthorization").split("|"), 0 === a.length % 2)) {
        for (var c = 0; c < a.length; c += 2) {
          x.setAuthorizationHeaderForHost(a[c], a[c + 1]);
        }
      }
    });
  };
  J.prototype.initialize = function() {
    this._core.initialize();
  };
  J.prototype.show = function(a, c, d) {
    this._core.Ads.show(a, c, d);
  };
  J.prototype.onError = function(a) {
    F.trigger("js_error", {message:a.message, url:a.filename, line:a.lineno, column:a.colno, object:a.error});
    return !0;
  };
  (function(a) {
    try {
      if ((new a).parseFromString("", "text/html")) {
        return;
      }
    } catch (c) {
    }
    a.prototype.parseFromString = Me.parseFromString;
  })(DOMParser);
  var ef = null;
  "undefined" !== typeof location && (ef = y.getQueryParameter(location.search, "platform"));
  var Ff = null;
  "undefined" !== typeof navigator && (Ff = navigator.userAgent.match(/(iPad|iPhone|iPod);.*CPU.*OS 7_\d/i));
  var zg = window.requestAnimationFrame || window.webkitRequestAnimationFrame, Gf = !1;
  document.addEventListener("DOMContentLoaded", q, !1);
  window.addEventListener("resize", q, !1);
  document.addEventListener("DOMContentLoaded", l, !1);
  window.addEventListener("orientationchange", l, !1);
  if ("undefined" !== typeof location) {
    switch(ef) {
      case "android":
        var xg = new sb(window.webviewbridge, m.ANDROID);
        break;
      case "ios":
        xg = window.webkit ? new sb(new gg, m.IOS, !1) : new sb(new ve, m.IOS, !1);
        break;
      default:
        throw Error("Unity Ads webview init failure: no platform defined, unable to initialize native bridge");
    }
    var Df = window;
    Df.nativebridge = xg;
    Df.webview = new J(xg);
    Df.webview._configuration = {getPlacement:function() {
      return {getCurrentCampaign:function() {
        return "SafeDK violates Unity Ads SDK internals, please disable your SafeDK integration.";
      }};
    }};
    document.addEventListener("DOMContentLoaded", function() {
      return Df.webview.initialize();
    }, !1);
  }
})();

</script>
</head>
  <body></body>
</html>
